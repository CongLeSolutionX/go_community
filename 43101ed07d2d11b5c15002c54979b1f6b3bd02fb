{
  "comments": [
    {
      "key": {
        "uuid": "39923388_9076fcc1",
        "filename": "src/cmd/compile/internal/gc/walk.go",
        "patchSetId": 6
      },
      "lineNbr": 3914,
      "author": {
        "id": 5200
      },
      "writtenOn": "2019-10-14T21:34:06Z",
      "side": 1,
      "message": "if n.Type.Elem().Alignment() \u003d\u003d 1 {\n    return n\n}\n... and outdent rest.",
      "revId": "43101ed07d2d11b5c15002c54979b1f6b3bd02fb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2754e264_d587bfbb",
        "filename": "src/cmd/compile/internal/gc/walk.go",
        "patchSetId": 6
      },
      "lineNbr": 3960,
      "author": {
        "id": 5200
      },
      "writtenOn": "2019-10-14T21:34:06Z",
      "side": 1,
      "message": "It\u0027s not clear to me how these -- and ++ correspond to BADWIDTH above.\nis n.Xoffset set to BADWIDTH to start? Why?\nIs anything going to break with n.Xoffset \u003d\u003d BADWIDTH-1?",
      "revId": "43101ed07d2d11b5c15002c54979b1f6b3bd02fb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c063232_89e33cd4",
        "filename": "src/cmd/compile/internal/gc/walk.go",
        "patchSetId": 6
      },
      "lineNbr": 3960,
      "author": {
        "id": 5440
      },
      "writtenOn": "2019-10-14T21:52:41Z",
      "side": 1,
      "message": "In nodl we initialize Xoffset to BADWIDTH, and then we only overwrite it for Ops that have a meaningful Xoffset value. OCONVNOP is not one of those Ops, so it\u0027ll still be BADWIDTH here.\n\nThere\u0027s nothing special about BADWIDTH in particular. It\u0027s just a very negative value (-1e9), so even when you add common fixed offsets (e.g., from ODOT or ODOTPTR), you\u0027ll still get a negative value, which should cause an ICE.\n\n\nMostly I was just trying to avoid adding a new Node flag for just working around this one off issue.\n\nThinking about it some more now though, maybe using n.Opt() would be a bit cleaner? E.g.:\n\n    if n.Opt() \u003d\u003d \u0026walkingPtrArithmetic {\n        return\n    }\n    n.SetOpt(\u0026walkingPtrArithmetic)\n    defer n.SetOpt(nil)",
      "parentUuid": "2754e264_d587bfbb",
      "revId": "43101ed07d2d11b5c15002c54979b1f6b3bd02fb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6619b97d_b3ccc31a",
        "filename": "src/cmd/compile/internal/gc/walk.go",
        "patchSetId": 6
      },
      "lineNbr": 3960,
      "author": {
        "id": 5200
      },
      "writtenOn": "2019-10-14T22:00:39Z",
      "side": 1,
      "message": "Sure, that\u0027s at least clearer what is going on.",
      "parentUuid": "3c063232_89e33cd4",
      "revId": "43101ed07d2d11b5c15002c54979b1f6b3bd02fb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}