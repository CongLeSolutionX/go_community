{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7c258d56_9fffaf20",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "This isn\u0027t a good description of the change.\n\ncmd/go: permit -fdebug-prefix-map\u003d option when compiling",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f21ac3e_dd8dc40f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 63448
      },
      "writtenOn": "2023-06-19T23:30:48Z",
      "side": 1,
      "message": "Will change but is permit the right word? The flag is not forbidden but just leads to a behavior different from Go 1.19.",
      "parentUuid": "7c258d56_9fffaf20",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d200cd64_f931ab3c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-06-20T15:19:20Z",
      "side": 1,
      "message": "This change does have the (secondary?) effect of permitting `-fdebug-prefix-map` in `#cgo` directives within the cgo preamble. That was not permitted before, but maybe it\u0027s ok?\n\n(The alternative would be to add yet another list of compiler flags: those known to be compatible with internal linking but still not allowed in `#cgo` directives.)\n\nWith the behavior of this change as it stands, perhaps the description should begin with something like:\n\n```\ncmd/go: recognize -fdebug-prefix-map in CFLAGS\n\nThis change allows internal linking when -fdebug-prefix-map\nis set in CGO_CFLAGS, as is done in bazelbuild/rules_go when\nbuilding cgo code.\n\nAs a side effect, it also allows -fdebug-prefix-map to appear\nin #cgo directives in source code. We don\u0027t know of any cases\nwhere that is actually useful, but it appears to be harmless\nand simplifies the implementation of the internal linking change.\n```",
      "parentUuid": "7f21ac3e_dd8dc40f",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84401530_c0bd15c1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "I don\u0027t understand what this has to do with external linking.  What is causing the tool to choose external linking based on whether this option is listed in cmd/go/internal/work/security.go?  Thanks.",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5ca5594_b9eac2e1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "Add some line breaks in this paragraph.",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3be1ffc8_f437cacd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 63448
      },
      "writtenOn": "2023-06-19T23:30:48Z",
      "side": 1,
      "message": "Please see https://github.com/golang/go/blob/bc21d6a4fcf2c957a3f279fa8725e16df6586864/src/cmd/go/internal/work/exec.go#L3189-L3217 that was introduced in https://go-review.googlesource.com/c/go/+/475375.\n\nWhen encountering -fdebug-prefix-map\u003d the Go compiler started to emit the preferlinkext section(?). The Go linker will use this hint to link externally (when linkmode\u003dauto).",
      "parentUuid": "84401530_c0bd15c1",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d45c6c7_5dfb08f3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "Omit the colon.",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b990921e_5128b0c3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "Remove all this text, as the text itself explains.  Thanks.",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "740ac01c_608b52b3",
        "filename": "src/cmd/go/internal/work/security.go",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-06-19T21:37:22Z",
      "side": 1,
      "message": "We should not use .+ here, as that permits any character at all.  I think it would be OK to write\n\n-fdebug-prefix-map\u003d([^@]+)\u003d([^@]+)\n\nWe should also match -ffile-prefix-map in the same way.",
      "revId": "a41645031da1a83dc0d344f129fd7135b7c268dc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}