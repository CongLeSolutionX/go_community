{
  "comments": [
    {
      "key": {
        "uuid": "58d2e389_be8df1fc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 5070
      },
      "writtenOn": "2019-05-04T06:49:06Z",
      "side": 1,
      "message": "This needs new test. It does not have to be in syscall package. Maybe we could add new test in os/exec?\n\nMaybe create test child process that calls os.Environ and verifies that all variables are sorted.\n\nMaybe also add some variables (name starting with \"a\" or something) to the end of variable list before starting test child process and make sure the list is still sorted.",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b161e8a8_2693a84a",
        "filename": "src/go/build/deps_test.go",
        "patchSetId": 2
      },
      "lineNbr": 149,
      "author": {
        "id": 5070
      },
      "writtenOn": "2019-05-04T06:49:06Z",
      "side": 1,
      "message": "I am concerned about adding \"sort\" and \"strings\" packages to syscall dependencies list. But I don\u0027t see an alternative way to implement functionality below.\n\nI will let Brad or Ian decide what to do here.",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16aacaef_028821cb",
        "filename": "src/go/build/deps_test.go",
        "patchSetId": 2
      },
      "lineNbr": 149,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-05-04T16:07:17Z",
      "side": 1,
      "message": "I\u0027m concerned about that too.  It would be nice if we could ensure that these dependencies only exists on windows.  Maybe we need a separate test for syscall dependencies that are GOOS specific.  But I guess that can be in a different CL.",
      "parentUuid": "b161e8a8_2693a84a",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba87974a_fa1c5617",
        "filename": "src/go/build/deps_test.go",
        "patchSetId": 2
      },
      "lineNbr": 149,
      "author": {
        "id": 5070
      },
      "writtenOn": "2019-05-05T00:15:30Z",
      "side": 1,
      "message": "Maybe we could use Windows to sort environment strings here?\n\nAccording to https://docs.microsoft.com/en-us/windows/desktop/intl/handling-sorting-in-your-applications\n\n```\nCompareStringOrdinal compares two Unicode strings to test for binary equality, as opposed to linguistic equality. Examples of such non-linguistic strings are NTFS file names, environment variables, and ...\n```\n\nMaybe we could replace use of \"strings\" package with CompareStringOrdinal function? See https://docs.microsoft.com/en-us/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal\n\nI am not sure if we need to worry about \"sort\" package.",
      "parentUuid": "16aacaef_028821cb",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bda7b14a_b14b0158",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 5070
      },
      "writtenOn": "2019-05-04T06:49:06Z",
      "side": 1,
      "message": "You need to be careful here. For example, my environment starts with\n```\n\u003d::\u003d::\\\n\u003dC:\u003dC:\\Users\\Alex\n\u003dExitCode\u003d00000000\nALLUSERSPROFILE\u003dC:\\ProgramData\nAPPDATA\u003dC:\\Users\\Alex\\AppData\\Roaming\nCommonProgramFiles\u003dC:\\Program Files\\Common Files\n...\n```\n\nI think we want top 3 lines remain as they are - at the top of that list.",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8604affd_c747c7f2",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 5070
      },
      "writtenOn": "2019-05-05T04:52:14Z",
      "side": 1,
      "message": "Apparently these lines are removed by CreateProcess API.\n\nFrom https://docs.microsoft.com/en-us/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessw\n\n```\nIf an application provides an environment block, the current directory information of the system drives is not automatically propagated to the new process. For example, there is an environment variable named \u003dC: whose value is the current directory on drive C. An application must manually pass the current directory information to the new process. To do so, the application must explicitly create these environment variable strings, sort them alphabetically (because the system uses a sorted environment), and put them into the environment block. Typically, they will go at the front of the environment block, due to the environment block sort order.\n```",
      "parentUuid": "bda7b14a_b14b0158",
      "revId": "5e575be9e3762cef601d99e5c11225ff81b9e491",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}