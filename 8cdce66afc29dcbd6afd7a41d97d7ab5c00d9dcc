{
  "comments": [
    {
      "key": {
        "uuid": "7a52d94a_11c4f42d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 19560
      },
      "writtenOn": "2020-09-16T19:43:44Z",
      "side": 1,
      "message": "Given that the syscall package is frozen (https://github.com/golang/go/blob/10dfb1dd3d1d26122cf18f29468ec17eb7222c3f/src/syscall/syscall.go#L21-L25), I\u0027m not sure this is really worth doing as we\u0027re not going to add new public functions to this package.\n\nNew syscalls should be added to golang.org/x/sys/unix, so the change might be worth making there.\n\nI\u0027d however keep the Flock part of this change which I think could be added to a newly created syscall_illumos.go file without duplicating all the other files.",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b753633_43364bf8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 19560
      },
      "writtenOn": "2020-09-16T19:49:29Z",
      "side": 1,
      "message": "\u003e Given that the syscall package is frozen (https://github.com/golang/go/blob/10dfb1dd3d1d26122cf18f29468ec17eb7222c3f/src/syscall/syscall.go#L21-L25), I\u0027m not sure this is really worth doing as we\u0027re not going to add new public functions to this package.\n\u003e \n\u003e New syscalls should be added to golang.org/x/sys/unix, so the change might be worth making there.\n\nThat being said, I think we already have the infrastructure in x/sys/unix to add new illumos specific syscalls, see e.g. CL 224238",
      "parentUuid": "7a52d94a_11c4f42d",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "671b54dd_e5806448",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:55:28Z",
      "side": 1,
      "message": "I would like to add `Flock` to the standard `syscall` package, at least, in order to be able to use it in the same way as the existing `Flock` on other platforms. (That\u0027s #35618.)",
      "parentUuid": "2b753633_43364bf8",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1ed5778_f17f129c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 19560
      },
      "writtenOn": "2020-09-16T20:12:36Z",
      "side": 1,
      "message": "I see. So I think we should just add the Flock wrapper to syscall for illumos without duplicating all solaris files. I\u0027ve sent CL 255377 which does add it to x/sys/unix and we could just copy the implementation from there.",
      "parentUuid": "671b54dd_e5806448",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b63e868_021786a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:02:31Z",
      "side": 1,
      "message": "Add:\n\nFixes #35618",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18e13333_28c428ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:01:50Z",
      "side": 1,
      "message": "TRY\u003dsolaris,illumos",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6777744_87f693dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:05:35Z",
      "side": 1,
      "message": "I should add: I cloned this change locally and verified that the new illumos files are nearly identical to the solaris files (apart from Flock and a few constants added / removed).",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b09f1e4_56bc0b13",
        "filename": "src/cmd/go/internal/lockedfile/internal/filelock/filelock_fcntl.go",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:01:50Z",
      "side": 1,
      "message": "(spurious trailing space added to this line)",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af9ccc5d_c07fca41",
        "filename": "src/syscall/zsysnum_solaris_amd64.go",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:01:50Z",
      "side": 1,
      "message": "Needs a blank line above this one, I think.",
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3566438d_93a9361d",
        "filename": "src/syscall/zsysnum_solaris_amd64.go",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-09-16T19:01:50Z",
      "side": 1,
      "message": "Any particular reason to use an extra +build line here, instead of extending the tuple on the existing line as in the other files?",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 5,
        "endChar": 23
      },
      "revId": "8cdce66afc29dcbd6afd7a41d97d7ab5c00d9dcc",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}