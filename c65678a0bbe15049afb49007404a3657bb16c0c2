{
  "comments": [
    {
      "key": {
        "uuid": "f328006b_b1996592",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 5143
      },
      "writtenOn": "2018-08-25T06:46:59Z",
      "side": 1,
      "message": "s/if/though/\ns/the function\u0027s/Int64\u0027s/",
      "revId": "c65678a0bbe15049afb49007404a3657bb16c0c2",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c664900e_cb16fe5f",
        "filename": "src/cmd/compile/internal/gc/const.go",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 5143
      },
      "writtenOn": "2018-08-25T06:46:59Z",
      "side": 1,
      "message": "In a follow-up CL (so that this one can get backported if necessary), will you try adding:\n\nif !n.CanInt64() {\n  Fatalf(something useful)\n}\n\nThat would have provided an earlier and better diagnosis of the issue. (Although I see that CanInt64 calls Int64, so you\u0027ll have to inline the actual check.)\n\nIdeally you\u0027d try that out before we submit this CL, just to know whether it blows up.",
      "revId": "c65678a0bbe15049afb49007404a3657bb16c0c2",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54a5f096_646fbd0e",
        "filename": "src/cmd/compile/internal/gc/const.go",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 5385
      },
      "writtenOn": "2018-08-25T16:27:54Z",
      "side": 1,
      "message": "I tried this but unfortunately it breaks the compiler. Apparently\nthere\u0027s at least one other place with an overflow-y Int64() call.\n\nHere\u0027s where make.bash blows up:\n\n  Building Go cmd/dist using /usr/local/go.\n  Building Go toolchain1 using /usr/local/go.\n  Building Go bootstrap cmd/go (go_bootstrap) using Go toolchain1.\n  \u003cautogenerated\u003e:1: internal compiler error: Int64(9223372036854775808) overflow\n\n  goroutine 1 [running]:\n  runtime/debug.Stack(0x0, 0x0, 0x0)\n  \t/home/alberto/go/src/runtime/debug/stack.go:24 +0xa7\n  bootstrap/cmd/compile/internal/gc.Fatalf(0x9ffe3a, 0x12, 0xc42334d630, 0x1, 0x1)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/subr.go:182 +0x218\n  bootstrap/cmd/compile/internal/gc.(*Node).Int64(0xc421667950, 0x9f3bb3)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/const.go:124 +0x185\n  bootstrap/cmd/compile/internal/gc.dumpGlobalConst(0xc421667950)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/obj.go:257 +0x95\n  bootstrap/cmd/compile/internal/gc.dumpglobls()\n  \t/home/alberto/go/src/cmd/compile/internal/gc/obj.go:267 +0x67\n  bootstrap/cmd/compile/internal/gc.dumpLinkerObj(0xc4246fdf60)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/obj.go:139 +0xa4\n  bootstrap/cmd/compile/internal/gc.dumpobj1(0x7ffd09177259, 0x2a, 0x3)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/obj.go:75 +0x106\n  bootstrap/cmd/compile/internal/gc.dumpobj()\n  \t/home/alberto/go/src/cmd/compile/internal/gc/obj.go:51 +0x61\n  bootstrap/cmd/compile/internal/gc.Main(0xa18598)\n  \t/home/alberto/go/src/cmd/compile/internal/gc/main.go:690 +0x23b1\n  main.main()\n  \t/home/alberto/go/src/cmd/compile/main.go:51 +0x95\n\nWe\u0027ll have to review bad Int64() uses. It\u0027s unrelated to the issue\nthis change solves, though.",
      "parentUuid": "c664900e_cb16fe5f",
      "revId": "c65678a0bbe15049afb49007404a3657bb16c0c2",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b24e0270_31854d28",
        "filename": "src/cmd/compile/internal/gc/const.go",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 5143
      },
      "writtenOn": "2018-08-25T06:46:59Z",
      "side": 1,
      "message": "Trailing period, please.",
      "revId": "c65678a0bbe15049afb49007404a3657bb16c0c2",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ac46e15_4d9575f4",
        "filename": "src/cmd/compile/internal/gc/const.go",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 5385
      },
      "writtenOn": "2018-08-25T16:27:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b24e0270_31854d28",
      "revId": "c65678a0bbe15049afb49007404a3657bb16c0c2",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}