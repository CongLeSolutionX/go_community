{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f9221176_8c5f67f3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-07-11T00:51:21Z",
      "side": 1,
      "message": "This seems like a lot of code to handle what sounds like an extremely rare case.  Does this ever happen except for people writing an init process?  Can people writing an init process simply avoid the os and os/exec packages and just call syscall directly?",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bfcdb56a_d7a7bcb8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 35211
      },
      "writtenOn": "2023-07-11T06:02:58Z",
      "side": 1,
      "message": "Any Go binary that is the entry point of a Docker container is running as PID 1, so I wouldn\u0027t say it\u0027s rare in particular.\n\nPeople could in theory avoid the os and os/exec packages, but that isn\u0027t very appealing. There\u0027s quite a lot of useful stuff in those packages that you\u0027d have to replicate. For example, os/exec allows terminating a process based on context expiration. This is something that you\u0027d have to hand-roll then.",
      "parentUuid": "f9221176_8c5f67f3",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b0cfb04_1d9ac71d",
        "filename": "src/syscall/exec_unix.go",
        "patchSetId": 1
      },
      "lineNbr": 496,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-07-11T00:51:21Z",
      "side": 1,
      "message": "This is new user-visible API, which requires a proposal.  See https://go.dev/s/proposal.",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2a10cf5_05c42405",
        "filename": "src/syscall/exec_unix.go",
        "patchSetId": 1
      },
      "lineNbr": 496,
      "author": {
        "id": 35211
      },
      "writtenOn": "2023-07-11T06:02:58Z",
      "side": 1,
      "message": "Gotcha! I can write a proposal. Just let me know what your preference is on the name for the StartProcess() replacement and I\u0027ll make sure to incorporate that.",
      "parentUuid": "1b0cfb04_1d9ac71d",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e36ce2d0_133d59c8",
        "filename": "src/syscall/exec_unix.go",
        "patchSetId": 1
      },
      "lineNbr": 496,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-07-11T13:57:01Z",
      "side": 1,
      "message": "I haven\u0027t fully read read the CL, but the description suggests that it does more than is required to run as PID 1.  It seems to me that in general a PID 1 Go program shouldn\u0027t need to care about child processes that are reparented.  The os/exec code should always wait for a known process, not for an arbitrary process.  It\u0027s not clear to me that we need to make every Go program support reaping zombies just because it is PID 1.  For example, I assume that C programs do not routinely do that.",
      "parentUuid": "b2a10cf5_05c42405",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fd2c83b_6dd271bf",
        "filename": "src/syscall/exec_unix.go",
        "patchSetId": 1
      },
      "lineNbr": 536,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-07-11T00:51:21Z",
      "side": 1,
      "message": "This changes the second result from uintptr to ProcessHandle.  We can\u0027t do that, as it breaks the Go 1 compatibility guarantee (https://go.dev/doc/go1compat).",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c160c8a9_bf6acd8d",
        "filename": "src/syscall/exec_unix.go",
        "patchSetId": 1
      },
      "lineNbr": 536,
      "author": {
        "id": 35211
      },
      "writtenOn": "2023-07-11T06:02:58Z",
      "side": 1,
      "message": "What would your thoughts on adding a new function named StartProcessWithHandle()?",
      "parentUuid": "9fd2c83b_6dd271bf",
      "revId": "cdb3e2109476e7e18be8035d5f872a03ebf95087",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}