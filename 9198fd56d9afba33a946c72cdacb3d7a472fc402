{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "871febfe_ddb25527",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 36863
      },
      "writtenOn": "2021-10-20T20:12:53Z",
      "side": 1,
      "message": "TRY\u003daix-ppc64,ppc64,ppc64le,ppc64lep9",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "308046e9_cda1ef43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-10-20T20:13:07Z",
      "side": 1,
      "message": "SlowBots beginning. Status page: https://farmer.golang.org/try?commit\u003d9198fd56",
      "tag": "autogenerated:trybots~beginning",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1c46cc5_00ce7400",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-10-20T20:33:40Z",
      "side": 1,
      "message": "Build is still in progress... Status page: https://farmer.golang.org/try?commit\u003d9198fd56\nFailed on linux-ppc64le-power9osu: https://storage.googleapis.com/go-build-log/9198fd56/linux-ppc64le-power9osu_875fd2d9.log\nOther builds still in progress; subsequent failure notices suppressed until final report.\n\nConsult https://build.golang.org/ to see whether they are new failures. Keep in mind that TryBots currently test *exactly* your git commit, without rebasing. If your commit\u0027s git parent is old, the failure might\u0027ve already been fixed.\n",
      "parentUuid": "308046e9_cda1ef43",
      "tag": "autogenerated:trybots~progress",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3d97a3a_61730f6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-10-20T20:57:40Z",
      "side": 1,
      "message": "1 of 30 SlowBots failed.\nFailed on linux-ppc64le-power9osu: https://storage.googleapis.com/go-build-log/9198fd56/linux-ppc64le-power9osu_875fd2d9.log\n\nConsult https://build.golang.org/ to see whether they are new failures. Keep in mind that TryBots currently test *exactly* your git commit, without rebasing. If your commit\u0027s git parent is old, the failure might\u0027ve already been fixed.\n\nSlowBot builds that ran:\n* aix-ppc64\n* linux-ppc64-buildlet\n* linux-ppc64le-buildlet\n* linux-ppc64le-power9osu\n",
      "parentUuid": "308046e9_cda1ef43",
      "tag": "autogenerated:trybots~failed",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce94324d_c06ea564",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 36863
      },
      "writtenOn": "2021-10-20T20:12:27Z",
      "side": 1,
      "message": "@Cherry, what are your thoughts on this?\n\nShould we be marking this symbol as having a local entry point offset? I didn\u0027t see any way to do this today. Maybe I overlooked it. External objects work around this by adjust the relocation addend when converting into go relocation.",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80898289_7dcfd791",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 13315
      },
      "writtenOn": "2021-10-28T21:44:49Z",
      "side": 1,
      "message": "I\u0027m not sure what do you mean by \"a local entry point offset\". Do these functions have the two instructions at the entry or not? Maybe you could use the \"LOCAL\" attribute ( https://cs.opensource.google/go/go/+/master:src/cmd/internal/obj/link.go;l\u003d675 ) ?\n\nAlso, we probably should only add 8 if the the original offset is 0?",
      "parentUuid": "ce94324d_c06ea564",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06077526_6089c9fe",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 36863
      },
      "writtenOn": "2021-10-28T23:24:14Z",
      "side": 1,
      "message": "A second entry point for direct calls to a function which the linker knows share the same TOC pointer. This is always true today. It is also explained a little here too: https://cs.opensource.google/go/go/+/master:src/cmd/link/internal/ld/symtab.go;l\u003d140 . The local attribute doesn\u0027t seem quite right for this.\n\nAs for the checking the addend, yes. Though, a non-zero addend when resolving a go generated PIC R_CALLPOWER seems suspect.",
      "parentUuid": "80898289_7dcfd791",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22271497_afeb851c",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 13315
      },
      "writtenOn": "2021-10-29T15:25:47Z",
      "side": 1,
      "message": "Okay, thanks for the reference. I guess this code makes sense, then.\n\nAlternatively, if the local attribute doesn\u0027t seem right, you could create a new attribute for that.\n\nIf a R_CALLPOWER with nonzero addend is problematic (at least in theory), another possibility is just disabling the Duff\u0027s devices in some build modes, adjusting\nhttps://cs.opensource.google/go/go/+/master:src/cmd/compile/internal/ssa/config.go;l\u003d43\nand https://cs.opensource.google/go/go/+/master:src/cmd/compile/internal/ppc64/ggen.go;l\u003d27\nif the -shared flag is set. I think they are the  only sources of non-zero addend CALLs.",
      "parentUuid": "06077526_6089c9fe",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "beceb23e_3e2419e9",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 36863
      },
      "writtenOn": "2021-10-29T16:49:38Z",
      "side": 1,
      "message": "For the moment, this seems like the most sensible solution. Adding a new attribute seems like a heavy handed solution for these two outlier functions. It looks memory intensive to wire up another attribute through the linker to catch these outliers.\n\nMaybe I should consolidate the list of functions which do not have distinct local entry offset when built as PIC.",
      "parentUuid": "22271497_afeb851c",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b111bfd0_7f928064",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 13315
      },
      "writtenOn": "2021-10-29T19:36:46Z",
      "side": 1,
      "message": "Thanks. Yeah, this is fine for now.\n\nThinking from another direction: would it work if we just remove this special case and always add the two instructions? If in all cases we\u0027ll add 8 to the call target, that might work. (Not in this CL.)",
      "parentUuid": "beceb23e_3e2419e9",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f6fcf11_bb03c320",
        "filename": "src/cmd/link/internal/ppc64/asm.go",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 36863
      },
      "writtenOn": "2021-11-01T22:39:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b111bfd0_7f928064",
      "revId": "9198fd56d9afba33a946c72cdacb3d7a472fc402",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}