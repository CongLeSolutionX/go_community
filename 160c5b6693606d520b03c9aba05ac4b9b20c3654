{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8af5bc90_5d710982",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-11-16T00:34:50Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003d160c5b66\n",
      "tag": "autogenerated:trybots~beginning",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6e0a963_813eb0f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T00:35:59Z",
      "side": 1,
      "message": "I just split this into 3 parts, the first two I think are acceptable, the third, maybe, I\u0027d have to make a case for it.  But the first two will make deferring the third less painful.",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a2fde1a_d0bd8a4c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-11-16T00:45:56Z",
      "side": 1,
      "message": "TryBots are happy.\n\n",
      "parentUuid": "8af5bc90_5d710982",
      "tag": "autogenerated:trybots~happy",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9e57d63_bce4eb0c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "Thanks, I am leaving them unresolved till I make the changes.",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec43fff0_0d459791",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "I may have missed a few typographical fixes, but I think you will like this organization substantially better.  I moved the extra behavior to a compiler debug flag, no change to the exported flag.  I left the not-sure-if-fixed stuff unresolved, will get that in the morning.",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ac745f7_d93b0e87",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 241,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "nit:\n\n```\nconst (\n  None logFormat \u003d iota\n  Json0\n  \n  LastFormat \u003d Json0\n  LastReport \u003d None\n)\n```",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afa5fb67_c4fbcd10",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 241,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "ack",
      "parentUuid": "4ac745f7_d93b0e87",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a02d66f1_90ff1e77",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 241,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "afa5fb67_c4fbcd10",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82cc699a_baeb3741",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 245,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "Does the \"LSP format\" here refer to the LSP specification itself, or the wording of LSP messages?\n\nAlso, nit: please capitalize LSP consistently in prose.",
      "range": {
        "startLine": 245,
        "startChar": 3,
        "endLine": 245,
        "endChar": 13
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cf0ca28_45bce4b7",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 245,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "LSP format refers to the specification itself.  The words we put in the fields seem likely to change with optimizer improvements, will make clearer.",
      "parentUuid": "82cc699a_baeb3741",
      "range": {
        "startLine": 245,
        "startChar": 3,
        "endLine": 245,
        "endChar": 13
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6bb86907_42f18369",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 245,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1cf0ca28_45bce4b7",
      "range": {
        "startLine": 245,
        "startChar": 3,
        "endLine": 245,
        "endChar": 13
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e47092af_c9328152",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 249,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "nit: typo; missing space\n\nAlso, edit the sentence to not repeat \"turns out\"?",
      "range": {
        "startLine": 249,
        "startChar": 21,
        "endLine": 249,
        "endChar": 40
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16120b56_ebb2770a",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "I\u0027m having trouble reading this sentence. Can you try restating it more simply?\n\nE.g., one complete sentence that says how things are today. Full stop. Then another complete sentence that says how you envision that changing in the future.\n\nAlso, as discussed in the team meeting this week, I\u0027m still very unclear what commitments we\u0027ve made to users about the behavior of the logopt functionality, and what consequences that has on the rest of the team in evolving the compiler.\n\nThe typecheckers have been migrating towards a consistent set of stable error messages, along with examples: https://pkg.go.dev/internal/types/errors@go1.21.4\n\nI\u0027d like to see the compiler\u0027s internal diagnostics move in a similar direction.",
      "range": {
        "startLine": 253,
        "startChar": 24,
        "endLine": 255,
        "endChar": 37
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27222e19_9b2c5825",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "I think if I get rid of the overloaded version number hack, I can simplify the behavior and remove the need for future change, so I will do that.\n\nFor logopt diagnostics.\n\n\"Users\" for the normal logopt output are programs, and may depend on the message wording in brittle ways, so it should not change, at all.  But the compiler\u0027s optimizations (and how well we implement them) are subject to change, and we cannot guarantee perfect stability into the future.\n\nMy approach to this was to make the version explicit in the compiler flag, and to make the promise that the words would not change for that version.  When the compiler changes force a word change, then we bump the version.  I had originally thought that there might be changes to LSP over time that would (also) force change here, but that hasn\u0027t happened (yet).\n\nThe \"reports\" are for gathering experimental data (which maybe someday gets turned into tools, but there\u0027s no specific goal) about the compiler, tied to program location.  The logopt framework handles a lot of that, so, reuse it for that.  This has nothing to do with commitments to users, I just want to steal the useful plumbing.",
      "parentUuid": "16120b56_ebb2770a",
      "range": {
        "startLine": 253,
        "startChar": 24,
        "endLine": 255,
        "endChar": 37
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "716ee44d_f8e2bd9c",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27222e19_9b2c5825",
      "range": {
        "startLine": 253,
        "startChar": 24,
        "endLine": 255,
        "endChar": 37
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c82654b6_a5f5cb8e",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 259,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "Can we represent this as a {major,minor int} pair instead of as a string?",
      "range": {
        "startLine": 259,
        "startChar": 16,
        "endLine": 259,
        "endChar": 22
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caebe15a_420e3987",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 259,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "We can, but I don\u0027t see the need yet.  I don\u0027t know if it will ever change, and we don\u0027t know what the change will be.  Once there\u0027s a change we need to accommodate, we\u0027ll know better.",
      "parentUuid": "c82654b6_a5f5cb8e",
      "range": {
        "startLine": 259,
        "startChar": 16,
        "endLine": 259,
        "endChar": 22
      },
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ecceb61_6632a784",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 265,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "I\u0027m really not a fan of overloading numbers to have orthogonal meaning. It means every user needs to know about the magic constants and how to encode what they want to do.\n\nThis is effectively giving users a second knob to dial behavior, but creating a new ad hoc mechanism for controlling that knob. Can we use an existing mechanism instead? E.g., add a `-d` flag? Or generalize the `-json` flag to take more than just a single number?",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3588946_a43292be",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 265,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "I\u0027ll try to come up with something better.  Since it\u0027s expecting a \",\" after the version number, I can put any non-comma info I want there, I guess.",
      "parentUuid": "4ecceb61_6632a784",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9dca891_aa2ffb92",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 265,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3588946_a43292be",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69542454_e0164aac",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 265,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-17T00:24:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3588946_a43292be",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de267d91_b3ec2190",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 285,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "nit: error messages should start with a lowercase letter",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11817c4a_f3bbbe2e",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 483,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-16T19:47:18Z",
      "side": 1,
      "message": "Why only/exactly this version? I assume LSP is backwards compatible within major versions.",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7f30561_80c839f6",
        "filename": "src/cmd/compile/internal/logopt/log_opts.go",
        "patchSetId": 5
      },
      "lineNbr": 483,
      "author": {
        "id": 7061
      },
      "writtenOn": "2023-11-16T20:43:33Z",
      "side": 1,
      "message": "That\u0027s the version when it was written, and I have not checked since for changes.  It was written and worked for that version, claiming more than would be more than I actually know to be true.",
      "parentUuid": "11817c4a_f3bbbe2e",
      "revId": "160c5b6693606d520b03c9aba05ac4b9b20c3654",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}