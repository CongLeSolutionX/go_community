{
  "comments": [
    {
      "key": {
        "uuid": "c58c6129_f67341c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-23T11:58:25Z",
      "side": 1,
      "message": "If y\u0027all could eyeball this one, it is the next in the stack.",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "536dac76_b242e255",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-23T22:43:25Z",
      "side": 1,
      "message": "I\u0027m going look carefully at the other comments (and probably make changes), these I think required explanation but no particular change.",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a55929ef_bb720968",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T18:30:30Z",
      "side": 1,
      "message": "Next patch set coming as soon as local testing completes happily.",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5783e1e1_d8a4c1fa",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 16,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "I think normally at this point they should already be decomposed, right? Maybe the decompose code doesn\u0027t understand the new opcode so it couldn\u0027t? Maybe we could expand the decompose pass to handle them? Or maybe it\u0027s just not going to work?",
      "range": {
        "startLine": 16,
        "startChar": 35,
        "endLine": 16,
        "endChar": 58
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "244e37df_cc546474",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 16,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-23T22:43:25Z",
      "side": 1,
      "message": "It depends upon where you want to put the ABI logic, and what it looks like.  I\u0027m opting to put all that in one place, where calls are late-expanded.  This also keeps the appearance of calls uniform in the generic section of SSA, otherwise it will show some combination of register use and memory use.",
      "parentUuid": "5783e1e1_d8a4c1fa",
      "range": {
        "startLine": 16,
        "startChar": 35,
        "endLine": 16,
        "endChar": 58
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee9a2709_4a07693c",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 16,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-25T15:43:52Z",
      "side": 1,
      "message": "Thanks. I was thinking whether it is possible to decompose the struct/array accesses earlier but keep the high level Call structure, and still lower Calls here. Maybe that is not possible.",
      "parentUuid": "244e37df_cc546474",
      "range": {
        "startLine": 16,
        "startChar": 35,
        "endLine": 16,
        "endChar": 58
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e69d684_8deef671",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 58,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Nit: use t.IsStruct() helper, etc. ?",
      "range": {
        "startLine": 58,
        "startChar": 9,
        "endLine": 58,
        "endChar": 28
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71723c27_804a5f45",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 58,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T18:30:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3e69d684_8deef671",
      "range": {
        "startLine": 58,
        "startChar": 9,
        "endLine": 58,
        "endChar": 28
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a42f3ba4_ae157664",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 107,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Should this be the field type? Also other cases below?",
      "range": {
        "startLine": 107,
        "startChar": 64,
        "endLine": 107,
        "endChar": 65
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1da03f7b_52760429",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 107,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-23T22:43:25Z",
      "side": 1,
      "message": "No, the way this works is that a part is being picked out of an aggregate select, and t is the type of the piece.\nSo t is correct.  I might rename it \"leafType\", if that would help.",
      "parentUuid": "a42f3ba4_ae157664",
      "range": {
        "startLine": 107,
        "startChar": 64,
        "endLine": 107,
        "endChar": 65
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "796d997b_89d4dcfe",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 107,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-25T15:43:52Z",
      "side": 1,
      "message": "Okay, I think I see it now.",
      "parentUuid": "1da03f7b_52760429",
      "range": {
        "startLine": 107,
        "startChar": 64,
        "endLine": 107,
        "endChar": 65
      },
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f220ced1_18d1c932",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 121,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Uncomment or delete. In fact, could this happen? Maybe use Fatalf if this really cannot happen.",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "206e1ceb_818b4565",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 121,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T18:30:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f220ced1_18d1c932",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e984d7de_062775df",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 121,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T21:33:21Z",
      "side": 1,
      "message": "Turns out yes, it can happen.  int64 on 32-bit has a whole lot more ways to create \"aggregates\" than all the other kinds, which rely on load, phi, arg, and make only.  It is safe to ignore the \"wrong\" ones that will come later if this is run before decompose builtin.",
      "parentUuid": "206e1ceb_818b4565",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3dd1e153_9f59c423",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 156,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Do whatever easier here. The opt pass will optimize them anyway.",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef44c0dc_58feb157",
        "filename": "src/cmd/compile/internal/ssa/expand_calls.go",
        "patchSetId": 23
      },
      "lineNbr": 156,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-23T22:43:25Z",
      "side": 1,
      "message": "Without this the intermediate SSA got surprisingly messy, and I was worried about cost, and the possibility that the common expressions wouldn\u0027t be caught until the next CSE pass.",
      "parentUuid": "3dd1e153_9f59c423",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e294db7_713f76c6",
        "filename": "src/cmd/compile/internal/ssa/writebarrier.go",
        "patchSetId": 23
      },
      "lineNbr": 530,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Maybe we should add OpSelectNAddr here as well?",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3668f1f_c42cc0cc",
        "filename": "src/cmd/compile/internal/ssa/writebarrier.go",
        "patchSetId": 23
      },
      "lineNbr": 530,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T18:30:30Z",
      "side": 1,
      "message": "yes.",
      "parentUuid": "5e294db7_713f76c6",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aaa347d4_5535834a",
        "filename": "src/cmd/compile/internal/ssa/writebarrier.go",
        "patchSetId": 23
      },
      "lineNbr": 611,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-09-23T21:11:57Z",
      "side": 1,
      "message": "Should we include OpSelectNAddr in this function?",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "212f7f0f_4ec48382",
        "filename": "src/cmd/compile/internal/ssa/writebarrier.go",
        "patchSetId": 23
      },
      "lineNbr": 611,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-09-24T18:30:30Z",
      "side": 1,
      "message": "Probably.  It hasn\u0027t seemed necessary yet, but it fits the description of the function.",
      "parentUuid": "aaa347d4_5535834a",
      "revId": "3b804ee50a98175241e2dbf64112c5cdddadb85a",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}