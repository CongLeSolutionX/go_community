{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "99085596_7f511cf1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2022-07-18T19:48:06Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003d5171776d\n",
      "tag": "autogenerated:trybots~beginning",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ebd0c1c_36fc8813",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2022-07-18T20:02:06Z",
      "side": 1,
      "message": "TryBots are happy.\n\n",
      "parentUuid": "99085596_7f511cf1",
      "tag": "autogenerated:trybots~happy",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9db7d0c_69feb761",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5015
      },
      "writtenOn": "2022-07-18T23:57:54Z",
      "side": 1,
      "message": "If I understand right, you can\u0027t have a non-constant size/offset/alignment unless a type parameter is involved. That probably means there\u0027s a tidier and clearer way to write this, assuming my questions from before are answered as I expect:\n\nThe size will be a constant if neither the type nor any of its elements is a type parameter.\n\nBut then we have this question: Does a slice of type parameters have a constant size?",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c56c2618_9809df84",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5206
      },
      "writtenOn": "2022-07-19T03:55:48Z",
      "side": 1,
      "message": "A slice of type parameters has a constant size, because for any slice s \"unsafe.Sizeof(s) \u003d\u003d unsafe.Sizeof(uintptr) + 2*unsafe.Sizeof(int)\".  The element type doesn\u0027t affect that.",
      "parentUuid": "a9db7d0c_69feb761",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b01d274e_6e6ce1d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5015
      },
      "writtenOn": "2022-07-20T07:32:18Z",
      "side": 1,
      "message": "I\u0027m OK with the wording here, if not with what\u0027s going on. It\u0027s creepy to have an expression that is sometimes constant. But them\u0027s the breaks, I guess.\n\n",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ae1cd9e_431005fd",
        "filename": "src/unsafe/unsafe.go",
        "patchSetId": 2
      },
      "lineNbr": 195,
      "author": {
        "id": 5015
      },
      "writtenOn": "2022-07-20T07:32:18Z",
      "side": 1,
      "message": "Stop the sentence at \"size\" and make the parenthetical a standalone sentence, but keep the parens. Makes it a little easier to read.\n\nI\u0027d like to find a cleaner definition but can\u0027t come up with one. I think you can drop \"or fields\", though.\n\nOptional but recommended: Put the definition of variable sized types in one place and just refer to it in the others:\nSee the description of Sizeof for a definition of variable sized types.",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8df89ed_b64dc9f0",
        "filename": "src/unsafe/unsafe.go",
        "patchSetId": 2
      },
      "lineNbr": 218,
      "author": {
        "id": 5015
      },
      "writtenOn": "2022-07-18T23:52:36Z",
      "side": 1,
      "message": "The wording seems clear now, but is it correct? If I have a type constraint\n  uint8 | int8\ndoes that yield a non-constant size? Similarly, if I have a type\n  struct { a, b int; c typeparameter; d int }\nis OffsetOf(a) (so to speak) constant?\n\nAs with so much about type parameters, the knock-on effects are hard to divine.",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4f17c65_c63c83de",
        "filename": "src/unsafe/unsafe.go",
        "patchSetId": 2
      },
      "lineNbr": 218,
      "author": {
        "id": 5206
      },
      "writtenOn": "2022-07-19T03:55:48Z",
      "side": 1,
      "message": "Yes, using \"uint8 | int8\" yields a non-constant size.  And your example Offsetof example will not be a constant either.  That is, of course the values will always be the same.  But they will not be treated as a Go constant: you can\u0027t use them as an array length or in general as part of a constant expression.\n\nWe wrote the rule that way (it\u0027s in the spec at https://tip.golang.org/ref/spec#Package_unsafe) so that code like \"uintptr | int64\" would not have different behavior on different systems.",
      "parentUuid": "b8df89ed_b64dc9f0",
      "revId": "5171776db1d2e799ce0feb4c9488acd6c979cf05",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}