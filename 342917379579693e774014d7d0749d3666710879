{
  "comments": [
    {
      "key": {
        "uuid": "34b4e6b8_62c26240",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-08-08T17:30:29Z",
      "side": 1,
      "message": "I think this might do it. At least, it\u0027s ready enough for review.\n\n",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70944964_8d1797f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-08-10T04:26:40Z",
      "side": 1,
      "message": "Austin, could you take a look at this? I particularly want your input on what we need to support go115reduceliveness and/or what regMapIndex should be for the deferreturn call (where there should be no live registers).\n",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc5cbd8e_9cdbd8ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28783
      },
      "writtenOn": "2020-08-11T16:20:15Z",
      "side": 1,
      "message": "Keith, thanks for doing this!",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0515bc_06731a2a",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 28783
      },
      "writtenOn": "2020-08-11T16:20:15Z",
      "side": 1,
      "message": "Maybe just add a comment that the set of live variables that we will compute/force is the set of defer arg slots that have pointers ?",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18d05fce_a1e1b2dc",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 1008,
      "author": {
        "id": 28783
      },
      "writtenOn": "2020-08-09T05:24:44Z",
      "side": 1,
      "message": "Can we avoid zeroing here if the defer arg has no pointers (hence not relevant for GC)?  That\u0027s what we currently do in openDeferSave() in ssa.go?  We won\u0027t actually access the slot in the defer exit code unless the corresponding defer has been activated.",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb2ef54b_d167d9bb",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 1008,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-08-09T19:18:30Z",
      "side": 1,
      "message": "Sure, I can add that.",
      "parentUuid": "18d05fce_a1e1b2dc",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5116eb7f_513d004c",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 1008,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-08-09T19:37:11Z",
      "side": 1,
      "message": "Actually, I think this is already handled. The only variables in the lv.vars list are those that have pointers.",
      "parentUuid": "cb2ef54b_d167d9bb",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f5726d9_934f51e8",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 1008,
      "author": {
        "id": 28783
      },
      "writtenOn": "2020-08-10T15:24:37Z",
      "side": 1,
      "message": "OK, yes, see that now.  Is this SetNeedzero(true) needed here, as compared to the fact that I called SetNeedzero(true) in openDeferSave() when I created the slot?",
      "parentUuid": "5116eb7f_513d004c",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "596bc2a4_df9303dc",
        "filename": "src/cmd/compile/internal/gc/plive.go",
        "patchSetId": 1
      },
      "lineNbr": 1118,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-08-10T18:32:57Z",
      "side": 1,
      "message": "I think you want to set this to 0 to indicate there are no live registers. If go115ReduceLiveness is true, regMapIndex is ignored. If go115ReduceLiveness is false, then you want to indicate there are no live registers, and register map 0 always has no live registers. Setting this to StackMapDontCare will instead cause it to inherit whatever register map was active before the deferreturn.\n\n(Luckily this should be going away soon!)",
      "revId": "342917379579693e774014d7d0749d3666710879",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}