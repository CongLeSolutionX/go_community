{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "aaeb456f_6d19296c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-11-12T18:22:38Z",
      "side": 1,
      "message": "About to go make the necessary changes.\n\nThe arbitraryness is a known problem, but in practice these hacks (combined with the next CL) work pretty well.  W/o inlining mitigations, the next CL causes some problems.\n\nI\u0027m also testing whether the allocation sensitivity matters that much, given that the search for good parameters settled on something that looks a whole lot like fast-path wrapper and slow-path call.\n(i.e., the caller size limit is 11 nodes, and that includes a call, which is penalized by 9).",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73a3e262_07692834",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 112,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-11-12T17:18:46Z",
      "side": 1,
      "message": "Is this just a convenient spot to set a breakpoint? Or is it intended to write something here to debug a particular instance?",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bebdaba_98c115ae",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 112,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-11-12T18:22:38Z",
      "side": 1,
      "message": "This is for debugging particular instances.  I ended up doing that a lot, it seems like something we\u0027ll want in the future.",
      "parentUuid": "73a3e262_07692834",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d6f02b6_580d06dc",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 555,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-11-12T17:18:46Z",
      "side": 1,
      "message": "I\u0027m confused as to why we need to return additional values here instead of just returning maxCost - inlineAllocatorCallPenalty. We know here that ncalls\u003d\u003d1 so we\u0027ll do mkinlcall exactly once.",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c4d29ce_e98ca82e",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 555,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-11-12T18:22:38Z",
      "side": 1,
      "message": "That would be a historical-reasons issue; for a while I was playing with other penalties.\nBut given the recursion problems below, this is what I ought to do.",
      "parentUuid": "0d6f02b6_580d06dc",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ac46f60_bc9dca52",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 1262,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-11-12T17:18:46Z",
      "side": 1,
      "message": "You\u0027ve already subtracted allocatorCallPenalty from maxCost. On the recursive call you\u0027ll do that again. Is that intended?",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ff44406_addcfbde",
        "filename": "src/cmd/compile/internal/gc/inl.go",
        "patchSetId": 6
      },
      "lineNbr": 1262,
      "author": {
        "id": 7061
      },
      "writtenOn": "2020-11-12T18:22:38Z",
      "side": 1,
      "message": "That is NOT intended.  Ugh.\nIf I modify the original max cost (instead of returning a pair) that solves both problems.",
      "parentUuid": "3ac46f60_bc9dca52",
      "revId": "8e0e4f92e3217a0a457145eddd0da015002e6ec6",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}