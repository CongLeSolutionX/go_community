{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e31f1122_853c660c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 47743
      },
      "writtenOn": "2021-10-20T18:36:49Z",
      "side": 1,
      "message": "Updated poolStarvation bench to avoid big GOMAXPROCS problem.",
      "revId": "0c896a784aa9949c903ebdf51b9a2b1365308a93",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72b05d50_2b3f0a8e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 47743
      },
      "writtenOn": "2021-10-26T21:06:03Z",
      "side": 1,
      "message": "Ping message. Do you make a decision about this patch?",
      "revId": "0c896a784aa9949c903ebdf51b9a2b1365308a93",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fee94763_916f1f41",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 7061
      },
      "writtenOn": "2021-10-29T11:58:27Z",
      "side": 1,
      "message": "Thanks for all of your work on this. Unfortunately, we haven\u0027t been able to reproduce consistent benchmark wins. and there seem to be some significant slow downs. I did a round of benchmarking on a newly-rebooted and relatively quiet machine, using perflock to reduce frequency throttling and boosting, comparing the latest version of this CL with its parent, for GOMAXPROCS set to 2 through 8. Theoretically, it definitely seems like there should be an improvement, so the best I can say is we still don\u0027t understand what\u0027s going on. Sorry, I know you worked hard on this and theory says it ought to be a help, but I think it has to wait either on this problem appearing in the wild or us figuring out how to set up the benchmark to exhibit the theoretical problem.\n\nname \\ time/op      Pool-old     Pool-new     delta\nPool-2              6.82ns ± 2%  7.00ns ± 4%   +2.66%  (p\u003d0.000 n\u003d28+30)\nPoolOverflow-2      1.56µs ± 1%  1.57µs ± 2%   +0.59%  (p\u003d0.000 n\u003d26+28)\nPoolStarvation-2    3.22µs ±32%  4.45µs ±44%  +38.52%  (p\u003d0.000 n\u003d27+30)\nPoolSTW-2           11.2µs ± 2%  11.1µs ± 1%   -0.63%  (p\u003d0.006 n\u003d29+28)\nPoolExpensiveNew-2  1.55ms ±11%  1.57ms ± 9%     ~     (p\u003d0.440 n\u003d30+30)\n[Geo mean]          3.59µs       3.86µs        +7.57%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-2            10.7k ± 2%   10.8k ± 2%     ~     (p\u003d0.981 n\u003d29+29)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-2            13.4k ± 2%   13.3k ± 3%   -0.80%  (p\u003d0.014 n\u003d29+28)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-2    0.37 ± 1%    0.37 ± 1%   -0.47%  (p\u003d0.000 n\u003d30+30)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-2    2.24 ±11%    2.26 ±11%     ~     (p\u003d0.530 n\u003d30+30)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-3              4.64ns ± 3%  4.79ns ± 4%  +3.30%  (p\u003d0.000 n\u003d30+29)\nPoolOverflow-3      1.04µs ± 2%  1.05µs ± 1%  +0.28%  (p\u003d0.001 n\u003d24+27)\nPoolStarvation-3    6.76µs ±12%  6.78µs ± 7%    ~     (p\u003d0.464 n\u003d27+29)\nPoolSTW-3           11.9µs ± 4%  11.4µs ± 3%  -4.01%  (p\u003d0.000 n\u003d30+29)\nPoolExpensiveNew-3  1.86ms ± 9%  1.82ms ±13%    ~     (p\u003d0.170 n\u003d28+30)\n[Geo mean]          3.73µs       3.71µs       -0.47%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-3            11.4k ± 3%   11.0k ± 2%  -3.29%  (p\u003d0.000 n\u003d30+27)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-3            14.0k ± 4%   13.6k ± 4%  -2.83%  (p\u003d0.000 n\u003d30+30)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-3    0.37 ± 2%    0.37 ± 1%  -0.48%  (p\u003d0.006 n\u003d30+30)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-3    4.17 ± 8%    4.05 ±15%    ~     (p\u003d0.076 n\u003d26+30)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-4              3.47ns ± 4%  3.56ns ± 4%  +2.70%  (p\u003d0.000 n\u003d26+28)\nPoolOverflow-4       784ns ± 1%   785ns ± 1%    ~     (p\u003d0.869 n\u003d24+28)\nPoolStarvation-4    6.20µs ±11%  6.14µs ± 5%    ~     (p\u003d0.371 n\u003d30+30)\nPoolSTW-4           11.7µs ± 1%  11.5µs ± 2%  -1.49%  (p\u003d0.000 n\u003d23+28)\nPoolExpensiveNew-4  1.85ms ± 9%  1.86ms ± 9%    ~     (p\u003d0.476 n\u003d30+30)\n[Geo mean]          3.25µs       3.26µs       +0.19%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-4            11.3k ± 2%   11.2k ± 2%  -0.78%  (p\u003d0.000 n\u003d29+30)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-4            14.1k ± 3%   13.9k ± 3%  -1.29%  (p\u003d0.001 n\u003d29+30)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-4    0.35 ± 1%    0.35 ± 1%    ~     (p\u003d0.081 n\u003d30+30)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-4    5.63 ±10%    5.67 ±10%    ~     (p\u003d0.458 n\u003d30+30)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-5              2.77ns ± 2%  2.85ns ± 4%  +2.98%  (p\u003d0.000 n\u003d27+30)\nPoolOverflow-5       629ns ± 2%   629ns ± 1%    ~     (p\u003d0.812 n\u003d27+25)\nPoolStarvation-5    6.04µs ± 7%  6.20µs ± 4%  +2.75%  (p\u003d0.000 n\u003d30+30)\nPoolSTW-5           11.9µs ± 2%  11.9µs ± 2%    ~     (p\u003d0.756 n\u003d29+28)\nPoolExpensiveNew-5  1.84ms ±10%  1.84ms ± 6%    ~     (p\u003d0.946 n\u003d29+30)\n[Geo mean]          2.97µs       3.00µs       +1.16%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-5            11.6k ± 2%   11.6k ± 1%    ~     (p\u003d0.701 n\u003d30+27)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-5            14.4k ± 4%   14.3k ± 5%    ~     (p\u003d0.140 n\u003d29+29)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-5    0.34 ± 2%    0.34 ± 1%    ~     (p\u003d0.935 n\u003d30+30)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-5    7.05 ±11%    7.06 ± 7%    ~     (p\u003d0.910 n\u003d29+30)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-6              2.36ns ± 6%  2.41ns ±11%  +2.03%  (p\u003d0.010 n\u003d29+29)\nPoolOverflow-6       531ns ± 3%   534ns ± 5%    ~     (p\u003d0.572 n\u003d26+29)\nPoolStarvation-6    5.97µs ± 2%  5.74µs ± 2%  -3.86%  (p\u003d0.000 n\u003d28+25)\nPoolSTW-6           12.2µs ± 3%  12.1µs ± 2%  -0.71%  (p\u003d0.041 n\u003d29+29)\nPoolExpensiveNew-6  1.80ms ±10%  1.77ms ± 9%    ~     (p\u003d0.175 n\u003d30+28)\n[Geo mean]          2.78µs       2.75µs       -0.77%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-6            11.8k ± 2%   11.8k ± 1%    ~     (p\u003d0.173 n\u003d25+29)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-6            14.6k ± 3%   14.5k ± 2%  -0.78%  (p\u003d0.038 n\u003d29+29)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-6    0.33 ± 1%    0.33 ± 1%  -0.47%  (p\u003d0.017 n\u003d30+28)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-6    8.29 ±10%    8.12 ± 9%    ~     (p\u003d0.156 n\u003d30+28)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-7              2.30ns ± 5%  2.33ns ± 3%  +1.26%  (p\u003d0.002 n\u003d27+28)\nPoolOverflow-7       519ns ± 4%   517ns ± 2%    ~     (p\u003d0.799 n\u003d29+27)\nPoolStarvation-7    5.77µs ± 4%  5.98µs ± 3%  +3.53%  (p\u003d0.000 n\u003d30+29)\nPoolSTW-7           12.5µs ± 2%  12.7µs ± 6%  +1.59%  (p\u003d0.041 n\u003d28+30)\nPoolExpensiveNew-7  1.67ms ± 8%  1.58ms ±16%  -5.69%  (p\u003d0.002 n\u003d30+30)\n[Geo mean]          2.70µs       2.70µs       +0.01%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-7            12.1k ± 1%   12.3k ± 5%    ~     (p\u003d0.346 n\u003d27+30)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-7            14.9k ± 3%   15.2k ±10%    ~     (p\u003d0.087 n\u003d28+28)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-7    0.31 ± 2%    0.31 ± 2%  -0.45%  (p\u003d0.036 n\u003d29+29)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-7    8.93 ± 9%    8.62 ±15%  -3.48%  (p\u003d0.039 n\u003d30+30)\n\n-----------------------------------------------------------------------\nname \\ time/op      Pool-old     Pool-new     delta\nPool-8              2.24ns ± 3%  2.26ns ± 4%  +0.90%  (p\u003d0.029 n\u003d25+27)\nPoolOverflow-8       501ns ± 2%   506ns ± 3%  +0.87%  (p\u003d0.001 n\u003d28+30)\nPoolStarvation-8    5.96µs ± 3%  6.33µs ± 3%  +6.18%  (p\u003d0.000 n\u003d30+29)\nPoolSTW-8           12.7µs ± 2%  12.6µs ± 2%  -1.33%  (p\u003d0.000 n\u003d30+29)\nPoolExpensiveNew-8  1.45ms ±13%  1.58ms ±10%  +9.03%  (p\u003d0.000 n\u003d30+27)\n[Geo mean]          2.62µs       2.70µs       +3.06%\n\nname \\ p50-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-8            12.4k ± 1%   12.2k ± 1%  -1.45%  (p\u003d0.000 n\u003d30+29)\n\nname \\ p95-ns/STW   Pool-old     Pool-new     delta\nPoolSTW-8            15.1k ± 3%   14.9k ± 3%  -1.22%  (p\u003d0.012 n\u003d30+29)\n\nname \\ GCs/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-8    0.30 ± 2%    0.31 ± 2%  +1.25%  (p\u003d0.000 n\u003d30+30)\n\nname \\ New/op       Pool-old     Pool-new     delta\nPoolExpensiveNew-8    9.11 ±14%    9.53 ±13%  +4.70%  (p\u003d0.005 n\u003d30+28)\n-----------------------------------------------------------------------",
      "parentUuid": "72b05d50_2b3f0a8e",
      "revId": "0c896a784aa9949c903ebdf51b9a2b1365308a93",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}