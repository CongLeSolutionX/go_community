{
  "comments": [
    {
      "key": {
        "uuid": "44511d1a_63edd53f",
        "filename": "src/runtime/mem_js.go",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 13315
      },
      "writtenOn": "2019-04-29T15:42:36Z",
      "side": 1,
      "message": "I\u0027m not really sure, but I thought sysReserve can just ignore the hint and allocates from the end, instead of returning nil?\n\nIn malloc.go,\n\n// sysReserve reserves address space without allocating memory.\n// If the pointer passed to it is non-nil, the caller wants the\n// reservation there, but sysReserve can still choose another\n// location if that one is unavailable.",
      "revId": "0d26262351cbaebe10e6a4d1687f5fefe51db3a8",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b505268_8f35206f",
        "filename": "src/runtime/mem_js.go",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 13620
      },
      "writtenOn": "2019-04-29T16:13:37Z",
      "side": 1,
      "message": "Yes, this is allowed, but then mheap.sysAlloc discards the result and tries the next heap arena hint, see https://github.com/golang/go/blob/76659e47971b594aa6855ef77e022420e070e5ea/src/runtime/malloc.go#L570. This is especially bad for wasm since we don\u0027t reuse chunks passed to sysFree. I\u0027ve extended the comment to explain this situation.",
      "parentUuid": "44511d1a_63edd53f",
      "revId": "0d26262351cbaebe10e6a4d1687f5fefe51db3a8",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}