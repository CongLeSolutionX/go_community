{
  "comments": [
    {
      "key": {
        "uuid": "adc098c2_136e9ab8",
        "filename": "src/cmd/go/testdata/script/cover_atomic_pkgall.txt",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 6365
      },
      "writtenOn": "2018-08-02T14:43:35Z",
      "side": 1,
      "message": "`[short] skip` at the start of the test and leave off the [!short] prefix on the rest of the lines, throughout this change",
      "revId": "3a6186f6471d7004c2731d8eec1c37479a01c0bb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5912729c_30d0c83d",
        "filename": "src/cmd/go/testdata/script/cover_atomic_pkgall.txt",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 28432
      },
      "writtenOn": "2018-08-02T23:43:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "adc098c2_136e9ab8",
      "revId": "3a6186f6471d7004c2731d8eec1c37479a01c0bb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7092bbd2_565a55be",
        "filename": "src/cmd/go/testdata/script/cover_atomic_pkgall.txt",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 6365
      },
      "writtenOn": "2018-08-02T14:43:35Z",
      "side": 1,
      "message": "[!race] stop\n\n(we only need to check stdout again if we executed the go command again.)",
      "range": {
        "startLine": 4,
        "startChar": 9,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "3a6186f6471d7004c2731d8eec1c37479a01c0bb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49cb23d0_a12b64f3",
        "filename": "src/cmd/go/testdata/script/cover_atomic_pkgall.txt",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 28432
      },
      "writtenOn": "2018-08-02T23:43:55Z",
      "side": 1,
      "message": "I tried the below:\n---\n[!race] stop\n\ngo test -coverpkg\u003dall -race x\nstdout ok[\\s\\S]+?coverage\n---\n\nIs the usage right? The -race does not seem to affect test execution.\n\u003e go test cmd/go -v -run\u003dScript/cover_atomic\n\u003e go test -race cmd/go -v -run\u003dScript/cover_atomic\n\nThe lines beyond \"[!race] stop\" are executed in both cases.\nThe testScript.cmdStop() does not get invoked in either case.",
      "parentUuid": "7092bbd2_565a55be",
      "range": {
        "startLine": 4,
        "startChar": 9,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "3a6186f6471d7004c2731d8eec1c37479a01c0bb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9610a3a8_ca1ec7d7",
        "filename": "src/cmd/go/testdata/script/cover_atomic_pkgall.txt",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 6365
      },
      "writtenOn": "2018-08-04T19:08:50Z",
      "side": 1,
      "message": "\u003e I tried the below:\n\u003e ---\n\u003e [!race] stop\n\u003e \n\u003e go test -coverpkg\u003dall -race x\n\u003e stdout ok[\\s\\S]+?coverage\n\u003e ---\n\u003e \n\u003e Is the usage right? The -race does not seem to affect test execution.\n\u003e \u003e go test cmd/go -v -run\u003dScript/cover_atomic\n\u003e \u003e go test -race cmd/go -v -run\u003dScript/cover_atomic\n\u003e \n\u003e The lines beyond \"[!race] stop\" are executed in both cases.\n\u003e The testScript.cmdStop() does not get invoked in either case.\n\nYes, that is correct: [race] indicates whether the race detector can be used, not whether it is enabled in the test binary itself.\n\n(See https://github.com/golang/go/blob/5a720d229d5ebc2f8b599aa54a3d807a1d54365f/src/cmd/go/testdata/script/README#L74.)",
      "parentUuid": "49cb23d0_a12b64f3",
      "range": {
        "startLine": 4,
        "startChar": 9,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "3a6186f6471d7004c2731d8eec1c37479a01c0bb",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}