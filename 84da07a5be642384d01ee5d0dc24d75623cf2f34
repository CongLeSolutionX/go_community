{
  "comments": [
    {
      "key": {
        "uuid": "553030f4_f0a60f12",
        "filename": "src/net/rpc/client.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 5015
      },
      "writtenOn": "2018-06-26T21:28:10Z",
      "side": 1,
      "message": "I find this wording a little confusing. This is documenting a property it doesn\u0027t need, very strange.\n\nAnd maybe unnecessary.\nWe never say that something is not thread-safe, we only say when it is. What about just dropping this?",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87e7a85c_8371f2ec",
        "filename": "src/net/rpc/client.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 5015
      },
      "writtenOn": "2018-06-26T21:29:54Z",
      "side": 1,
      "message": "If you think it\u0027s really important to say something, make it positive:\n\nNewClient protects access to the conn, making it safe for concurrent access.",
      "parentUuid": "553030f4_f0a60f12",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7b08bd3_67717663",
        "filename": "src/net/rpc/client.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 5015
      },
      "writtenOn": "2018-06-26T21:34:39Z",
      "side": 1,
      "message": "Maybe even clearer:\n\nNewClient serializes access to the conn from multiple goroutines.",
      "parentUuid": "87e7a85c_8371f2ec",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77264759_2cd91776",
        "filename": "src/net/rpc/client.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 5400
      },
      "writtenOn": "2018-06-27T09:16:05Z",
      "side": 1,
      "message": "Well, actually, thinking of this more: there is an additional requirement and my original comment is wrong.\nNewClient serializes access to Read and Write _separately_, so it\u0027s OK to wrap conn with flate.Reader and flate.Writer and that\u0027s what I meant. But calls to Read are concurrent with calls to Write, so in general case conn can\u0027t completely ignore concurrency.\nI don\u0027t feel that I can come up with proper and clean statement about this. Rob, can you suggest a wording? Or I can just drop this part of the change.",
      "parentUuid": "d7b08bd3_67717663",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9b022b7_cac42116",
        "filename": "src/net/rpc/client.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 5015
      },
      "writtenOn": "2018-07-24T06:05:58Z",
      "side": 1,
      "message": "How about this?\n\nThe read and write halves of the connection are serialized independently, so no interlocking is required. However each half may be accessed concurrently so the implementation of conn should protect against concurrent reads or concurrent writes.\n\nIt\u0027s longer. You could make it a separate paragraph here, and then elsewhere just say,\n\nSee NewClient\u0027s comment for information about concurrent access.",
      "parentUuid": "77264759_2cd91776",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0527e8d3_886074f0",
        "filename": "src/net/rpc/server.go",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 5015
      },
      "writtenOn": "2018-06-26T21:28:10Z",
      "side": 1,
      "message": "Good.",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c458161_d1a5b724",
        "filename": "src/net/rpc/server.go",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 5400
      },
      "writtenOn": "2018-06-27T09:16:05Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0527e8d3_886074f0",
      "revId": "84da07a5be642384d01ee5d0dc24d75623cf2f34",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}