// Copyright 2016 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

// +build aix darwin dragonfly freebsd !android,linux netbsd openbsd solaris
// +build !cgo

package user

import (
	"reflect"
	"strings"
	"testing"
)

const testGroupFile = `# See the opendirectoryd(8) man page for additional 
# information about Open Directory.
##
nobody:*:-2:
nogroup:*:-1:
wheel:*:0:root
emptyid:*::root
invalidgid:*:notanumber:root
+plussign:*:20:root
-minussign:*:21:root
      
daemon:*:1:root
    indented:*:7:
# comment:*:4:found
     # comment:*:4:found
kmem:*:2:root
largegroup:x:1000:user1,user2,user3,user4,user5,user6,user7,user8,user9,user10,user11,user12,user13,user14,user15,user16,user17,user18,user19,user20,user21,user22,user23,user24,user25,user26,user27,user28,user29,user30,user31,user32,user33,user34,user35,user36,user37,user38,user39,user40,user41,user42,user43,user44,user45,user46,user47,user48,user49,user50,user51,user52,user53,user54,user55,user56,user57,user58,user59,user60,user61,user62,user63,user64,user65,user66,user67,user68,user69,user70,user71,user72,user73,user74,user75,user76,user77,user78,user79,user80,user81,user82,user83,user84,user85,user86,user87,user88,user89,user90,user91,user92,user93,user94,user95,user96,user97,user98,user99,user100,user101,user102,user103,user104,user105,user106,user107,user108,user109,user110,user111,user112,user113,user114,user115,user116,user117,user118,user119,user120,user121,user122,user123,user124,user125,user126,user127,user128,user129,user130,user131,user132,user133,user134,user135,user136,user137,user138,user139,user140,user141,user142,user143,user144,user145,user146,user147,user148,user149,user150,user151,user152,user153,user154,user155,user156,user157,user158,user159,user160,user161,user162,user163,user164,user165,user166,user167,user168,user169,user170,user171,user172,user173,user174,user175,user176,user177,user178,user179,user180,user181,user182,user183,user184,user185,user186,user187,user188,user189,user190,user191,user192,user193,user194,user195,user196,user197,user198,user199,user200,user201,user202,user203,user204,user205,user206,user207,user208,user209,user210,user211,user212,user213,user214,user215,user216,user217,user218,user219,user220,user221,user222,user223,user224,user225,user226,user227,user228,user229,user230,user231,user232,user233,user234,user235,user236,user237,user238,user239,user240,user241,user242,user243,user244,user245,user246,user247,user248,user249,user250,user251,user252,user253,user254,user255,user256,user257,user258,user259,user260,user261,user262,user263,user264,user265,user266,user267,user268,user269,user270,user271,user272,user273,user274,user275,user276,user277,user278,user279,user280,user281,user282,user283,user284,user285,user286,user287,user288,user289,user290,user291,user292,user293,user294,user295,user296,user297,user298,user299,user300,user301,user302,user303,user304,user305,user306,user307,user308,user309,user310,user311,user312,user313,user314,user315,user316,user317,user318,user319,user320,user321,user322,user323,user324,user325,user326,user327,user328,user329,user330,user331,user332,user333,user334,user335,user336,user337,user338,user339,user340,user341,user342,user343,user344,user345,user346,user347,user348,user349,user350,user351,user352,user353,user354,user355,user356,user357,user358,user359,user360,user361,user362,user363,user364,user365,user366,user367,user368,user369,user370,user371,user372,user373,user374,user375,user376,user377,user378,user379,user380,user381,user382,user383,user384,user385,user386,user387,user388,user389,user390,user391,user392,user393,user394,user395,user396,user397,user398,user399,user400,user401,user402,user403,user404,user405,user406,user407,user408,user409,user410,user411,user412,user413,user414,user415,user416,user417,user418,user419,user420,user421,user422,user423,user424,user425,user426,user427,user428,user429,user430,user431,user432,user433,user434,user435,user436,user437,user438,user439,user440,user441,user442,user443,user444,user445,user446,user447,user448,user449,user450,user451,user452,user453,user454,user455,user456,user457,user458,user459,user460,user461,user462,user463,user464,user465,user466,user467,user468,user469,user470,user471,user472,user473,user474,user475,user476,user477,user478,user479,user480,user481,user482,user483,user484,user485,user486,user487,user488,user489,user490,user491,user492,user493,user494,user495,user496,user497,user498,user499,user500,user501,user502,user503,user504,user505,user506,user507,user508,user509,user510,user511,user512,user513,user514,user515,user516,user517,user518,user519,user520,user521,user522,user523,user524,user525,user526,user527,user528,user529,user530,user531,user532,user533,user534,user535,user536,user537,user538,user539,user540,user541,user542,user543,user544,user545,user546,user547,user548,user549,user550,user551,user552,user553,user554,user555,user556,user557,user558,user559,user560,user561,user562,user563,user564,user565,user566,user567,user568,user569,user570,user571,user572,user573,user574,user575,user576,user577,user578,user579,user580,user581,user582,user583,user584,user585,user586,user587,user588,user589,user590,user591,user592,user593,user594,user595,user596,user597,user598,user599,user600,user601,user602,user603,user604,user605,user606,user607,user608,user609,user610,user611,user612,user613,user614,user615,user616,user617,user618,user619,user620,user621,user622,user623,user624,user625,user626,user627,user628,user629,user630,user631,user632,user633,user634,user635,user636,user637,user638,user639,user640,user641,user642,user643,user644,user645,user646,user647,user648,user649,user650,user651,user652,user653,user654,user655,user656,user657,user658,user659,user660,user661,user662,user663,user664,user665,user666,user667,user668,user669,user670,user671,user672,user673,user674,user675,user676,user677,user678,user679,user680,user681,user682,user683,user684,user685,user686,user687,user688,user689,user690,user691,user692,user693,user694,user695,user696,user697,user698,user699,user700,user701,user702,user703,user704,user705,user706,user707,user708,user709,user710,user711,user712,user713,user714,user715,user716,user717,user718,user719,user720,user721,user722,user723,user724,user725,user726,user727,user728,user729,user730,user731,user732,user733,user734,user735,user736,user737,user738,user739,user740,user741,user742,user743,user744,user745,user746,user747,user748,user749,user750,user751,user752,user753,user754,user755,user756,user757,user758,user759,user760,user761,user762,user763,user764,user765,user766,user767,user768,user769,user770,user771,user772,user773,user774,user775,user776,user777,user778,user779,user780,user781,user782,user783,user784,user785,user786,user787,user788,user789,user790,user791,user792,user793,user794,user795,user796,user797,user798,user799,user800,user801,user802,user803,user804,user805,user806,user807,user808,user809,user810,user811,user812,user813,user814,user815,user816,user817,user818,user819,user820,user821,user822,user823,user824,user825,user826,user827,user828,user829,user830,user831,user832,user833,user834,user835,user836,user837,user838,user839,user840,user841,user842,user843,user844,user845,user846,user847,user848,user849,user850,user851,user852,user853,user854,user855,user856,user857,user858,user859,user860,user861,user862,user863,user864,user865,user866,user867,user868,user869,user870,user871,user872,user873,user874,user875,user876,user877,user878,user879,user880,user881,user882,user883,user884,user885,user886,user887,user888,user889,user890,user891,user892,user893,user894,user895,user896,user897,user898,user899,user900,user901,user902,user903,user904,user905,user906,user907,user908,user909,user910,user911,user912,user913,user914,user915,user916,user917,user918,user919,user920,user921,user922,user923,user924,user925,user926,user927,user928,user929,user930,user931,user932,user933,user934,user935,user936,user937,user938,user939,user940,user941,user942,user943,user944,user945,user946,user947,user948,user949,user950,user951,user952,user953,user954,user955,user956,user957,user958,user959,user960,user961,user962,user963,user964,user965,user966,user967,user968,user969,user970,user971,user972,user973,user974,user975,user976,user977,user978,user979,user980,user981,user982,user983,user984,user985,user986,user987,user988,user989,user990,user991,user992,user993,user994,user995,user996,user997,user998,user999,user1000,user1001,user1002,user1003,user1004,user1005,user1006,user1007,user1008,user1009,user1010,user1011,user1012,user1013,user1014,user1015,user1016,user1017,user1018,user1019,user1020,user1021,user1022,user1023,user1024,user1025,user1026,user1027,user1028,user1029,user1030,user1031,user1032,user1033,user1034,user1035,user1036,user1037,user1038,user1039,user1040,user1041,user1042,user1043,user1044,user1045,user1046,user1047,user1048,user1049,user1050,user1051,user1052,user1053,user1054,user1055,user1056,user1057,user1058,user1059,user1060,user1061,user1062,user1063,user1064,user1065,user1066,user1067,user1068,user1069,user1070,user1071,user1072,user1073,user1074,user1075,user1076,user1077,user1078,user1079,user1080,user1081,user1082,user1083,user1084,user1085,user1086,user1087,user1088,user1089,user1090,user1091,user1092,user1093,user1094,user1095,user1096,user1097,user1098,user1099,user1100,user1101,user1102,user1103,user1104,user1105,user1106,user1107,user1108,user1109,user1110,user1111,user1112,user1113,user1114,user1115,user1116,user1117,user1118,user1119,user1120,user1121,user1122,user1123,user1124,user1125,user1126,user1127,user1128,user1129,user1130,user1131,user1132,user1133,user1134,user1135,user1136,user1137,user1138,user1139,user1140,user1141,user1142,user1143,user1144,user1145,user1146,user1147,user1148,user1149,user1150,user1151,user1152,user1153,user1154,user1155,user1156,user1157,user1158,user1159,user1160,user1161,user1162,user1163,user1164,user1165,user1166,user1167,user1168,user1169,user1170,user1171,user1172,user1173,user1174,user1175,user1176,user1177,user1178,user1179,user1180,user1181,user1182,user1183,user1184,user1185,user1186,user1187,user1188,user1189,user1190,user1191,user1192,user1193,user1194,user1195,user1196,user1197,user1198,user1199,user1200,user1201,user1202,user1203,user1204,user1205,user1206,user1207,user1208,user1209,user1210,user1211,user1212,user1213,user1214,user1215,user1216,user1217,user1218,user1219,user1220,user1221,user1222,user1223,user1224,user1225,user1226,user1227,user1228,user1229,user1230,user1231,user1232,user1233,user1234,user1235,user1236,user1237,user1238,user1239,user1240,user1241,user1242,user1243,user1244,user1245,user1246,user1247,user1248,user1249,user1250,user1251,user1252,user1253,user1254,user1255,user1256,user1257,user1258,user1259,user1260,user1261,user1262,user1263,user1264,user1265,user1266,user1267,user1268,user1269,user1270,user1271,user1272,user1273,user1274,user1275,user1276,user1277,user1278,user1279,user1280,user1281,user1282,user1283,user1284,user1285,user1286,user1287,user1288,user1289,user1290,user1291,user1292,user1293,user1294,user1295,user1296,user1297,user1298,user1299,user1300,user1301,user1302,user1303,user1304,user1305,user1306,user1307,user1308,user1309,user1310,user1311,user1312,user1313,user1314,user1315,user1316,user1317,user1318,user1319,user1320,user1321,user1322,user1323,user1324,user1325,user1326,user1327,user1328,user1329,user1330,user1331,user1332,user1333,user1334,user1335,user1336,user1337,user1338,user1339,user1340,user1341,user1342,user1343,user1344,user1345,user1346,user1347,user1348,user1349,user1350,user1351,user1352,user1353,user1354,user1355,user1356,user1357,user1358,user1359,user1360,user1361,user1362,user1363,user1364,user1365,user1366,user1367,user1368,user1369,user1370,user1371,user1372,user1373,user1374,user1375,user1376,user1377,user1378,user1379,user1380,user1381,user1382,user1383,user1384,user1385,user1386,user1387,user1388,user1389,user1390,user1391,user1392,user1393,user1394,user1395,user1396,user1397,user1398,user1399,user1400,user1401,user1402,user1403,user1404,user1405,user1406,user1407,user1408,user1409,user1410,user1411,user1412,user1413,user1414,user1415,user1416,user1417,user1418,user1419,user1420,user1421,user1422,user1423,user1424,user1425,user1426,user1427,user1428,user1429,user1430,user1431,user1432,user1433,user1434,user1435,user1436,user1437,user1438,user1439,user1440,user1441,user1442,user1443,user1444,user1445,user1446,user1447,user1448,user1449,user1450,user1451,user1452,user1453,user1454,user1455,user1456,user1457,user1458,user1459,user1460,user1461,user1462,user1463,user1464,user1465,user1466,user1467,user1468,user1469,user1470,user1471,user1472,user1473,user1474,user1475,user1476,user1477,user1478,user1479,user1480,user1481,user1482,user1483,user1484,user1485,user1486,user1487,user1488,user1489,user1490,user1491,user1492,user1493,user1494,user1495,user1496,user1497,user1498,user1499,user1500,user1501,user1502,user1503,user1504,user1505,user1506,user1507,user1508,user1509,user1510,user1511,user1512,user1513,user1514,user1515,user1516,user1517,user1518,user1519,user1520,user1521,user1522,user1523,user1524,user1525,user1526,user1527,user1528,user1529,user1530,user1531,user1532,user1533,user1534,user1535,user1536,user1537,user1538,user1539,user1540,user1541,user1542,user1543,user1544,user1545,user1546,user1547,user1548,user1549,user1550,user1551,user1552,user1553,user1554,user1555,user1556,user1557,user1558,user1559,user1560,user1561,user1562,user1563,user1564,user1565,user1566,user1567,user1568,user1569,user1570,user1571,user1572,user1573,user1574,user1575,user1576,user1577,user1578,user1579,user1580,user1581,user1582,user1583,user1584,user1585,user1586,user1587,user1588,user1589,user1590,user1591,user1592,user1593,user1594,user1595,user1596,user1597,user1598,user1599,user1600,user1601,user1602,user1603,user1604,user1605,user1606,user1607,user1608,user1609,user1610,user1611,user1612,user1613,user1614,user1615,user1616,user1617,user1618,user1619,user1620,user1621,user1622,user1623,user1624,user1625,user1626,user1627,user1628,user1629,user1630,user1631,user1632,user1633,user1634,user1635,user1636,user1637,user1638,user1639,user1640,user1641,user1642,user1643,user1644,user1645,user1646,user1647,user1648,user1649,user1650,user1651,user1652,user1653,user1654,user1655,user1656,user1657,user1658,user1659,user1660,user1661,user1662,user1663,user1664,user1665,user1666,user1667,user1668,user1669,user1670,user1671,user1672,user1673,user1674,user1675,user1676,user1677,user1678,user1679,user1680,user1681,user1682,user1683,user1684,user1685,user1686,user1687,user1688,user1689,user1690,user1691,user1692,user1693,user1694,user1695,user1696,user1697,user1698,user1699,user1700,user1701,user1702,user1703,user1704,user1705,user1706,user1707,user1708,user1709,user1710,user1711,user1712,user1713,user1714,user1715,user1716,user1717,user1718,user1719,user1720,user1721,user1722,user1723,user1724,user1725,user1726,user1727,user1728,user1729,user1730,user1731,user1732,user1733,user1734,user1735,user1736,user1737,user1738,user1739,user1740,user1741,user1742,user1743,user1744,user1745,user1746,user1747,user1748,user1749,user1750,user1751,user1752,user1753,user1754,user1755,user1756,user1757,user1758,user1759,user1760,user1761,user1762,user1763,user1764,user1765,user1766,user1767,user1768,user1769,user1770,user1771,user1772,user1773,user1774,user1775,user1776,user1777,user1778,user1779,user1780,user1781,user1782,user1783,user1784,user1785,user1786,user1787,user1788,user1789,user1790,user1791,user1792,user1793,user1794,user1795,user1796,user1797,user1798,user1799,user1800,user1801,user1802,user1803,user1804,user1805,user1806,user1807,user1808,user1809,user1810,user1811,user1812,user1813,user1814,user1815,user1816,user1817,user1818,user1819,user1820,user1821,user1822,user1823,user1824,user1825,user1826,user1827,user1828,user1829,user1830,user1831,user1832,user1833,user1834,user1835,user1836,user1837,user1838,user1839,user1840,user1841,user1842,user1843,user1844,user1845,user1846,user1847,user1848,user1849,user1850,user1851,user1852,user1853,user1854,user1855,user1856,user1857,user1858,user1859,user1860,user1861,user1862,user1863,user1864,user1865,user1866,user1867,user1868,user1869,user1870,user1871,user1872,user1873,user1874,user1875,user1876,user1877,user1878,user1879,user1880,user1881,user1882,user1883,user1884,user1885,user1886,user1887,user1888,user1889,user1890,user1891,user1892,user1893,user1894,user1895,user1896,user1897,user1898,user1899,user1900,user1901,user1902,user1903,user1904,user1905,user1906,user1907,user1908,user1909,user1910,user1911,user1912,user1913,user1914,user1915,user1916,user1917,user1918,user1919,user1920,user1921,user1922,user1923,user1924,user1925,user1926,user1927,user1928,user1929,user1930,user1931,user1932,user1933,user1934,user1935,user1936,user1937,user1938,user1939,user1940,user1941,user1942,user1943,user1944,user1945,user1946,user1947,user1948,user1949,user1950,user1951,user1952,user1953,user1954,user1955,user1956,user1957,user1958,user1959,user1960,user1961,user1962,user1963,user1964,user1965,user1966,user1967,user1968,user1969,user1970,user1971,user1972,user1973,user1974,user1975,user1976,user1977,user1978,user1979,user1980,user1981,user1982,user1983,user1984,user1985,user1986,user1987,user1988,user1989,user1990,user1991,user1992,user1993,user1994,user1995,user1996,user1997,user1998,user1999,user2000,user2001,user2002,user2003,user2004,user2005,user2006,user2007,user2008,user2009,user2010,user2011,user2012,user2013,user2014,user2015,user2016,user2017,user2018,user2019,user2020,user2021,user2022,user2023,user2024,user2025,user2026,user2027,user2028,user2029,user2030,user2031,user2032,user2033,user2034,user2035,user2036,user2037,user2038,user2039,user2040,user2041,user2042,user2043,user2044,user2045,user2046,user2047,user2048,user2049,user2050,user2051,user2052,user2053,user2054,user2055,user2056,user2057,user2058,user2059,user2060,user2061,user2062,user2063,user2064,user2065,user2066,user2067,user2068,user2069,user2070,user2071,user2072,user2073,user2074,user2075,user2076,user2077,user2078,user2079,user2080,user2081,user2082,user2083,user2084,user2085,user2086,user2087,user2088,user2089,user2090,user2091,user2092,user2093,user2094,user2095,user2096,user2097,user2098,user2099,user2100,user2101,user2102,user2103,user2104,user2105,user2106,user2107,user2108,user2109,user2110,user2111,user2112,user2113,user2114,user2115,user2116,user2117,user2118,user2119,user2120,user2121,user2122,user2123,user2124,user2125,user2126,user2127,user2128,user2129,user2130,user2131,user2132,user2133,user2134,user2135,user2136,user2137,user2138,user2139,user2140,user2141,user2142,user2143,user2144,user2145,user2146,user2147,user2148,user2149,user2150,user2151,user2152,user2153,user2154,user2155,user2156,user2157,user2158,user2159,user2160,user2161,user2162,user2163,user2164,user2165,user2166,user2167,user2168,user2169,user2170,user2171,user2172,user2173,user2174,user2175,user2176,user2177,user2178,user2179,user2180,user2181,user2182,user2183,user2184,user2185,user2186,user2187,user2188,user2189,user2190,user2191,user2192,user2193,user2194,user2195,user2196,user2197,user2198,user2199,user2200,user2201,user2202,user2203,user2204,user2205,user2206,user2207,user2208,user2209,user2210,user2211,user2212,user2213,user2214,user2215,user2216,user2217,user2218,user2219,user2220,user2221,user2222,user2223,user2224,user2225,user2226,user2227,user2228,user2229,user2230,user2231,user2232,user2233,user2234,user2235,user2236,user2237,user2238,user2239,user2240,user2241,user2242,user2243,user2244,user2245,user2246,user2247,user2248,user2249,user2250,user2251,user2252,user2253,user2254,user2255,user2256,user2257,user2258,user2259,user2260,user2261,user2262,user2263,user2264,user2265,user2266,user2267,user2268,user2269,user2270,user2271,user2272,user2273,user2274,user2275,user2276,user2277,user2278,user2279,user2280,user2281,user2282,user2283,user2284,user2285,user2286,user2287,user2288,user2289,user2290,user2291,user2292,user2293,user2294,user2295,user2296,user2297,user2298,user2299,user2300,user2301,user2302,user2303,user2304,user2305,user2306,user2307,user2308,user2309,user2310,user2311,user2312,user2313,user2314,user2315,user2316,user2317,user2318,user2319,user2320,user2321,user2322,user2323,user2324,user2325,user2326,user2327,user2328,user2329,user2330,user2331,user2332,user2333,user2334,user2335,user2336,user2337,user2338,user2339,user2340,user2341,user2342,user2343,user2344,user2345,user2346,user2347,user2348,user2349,user2350,user2351,user2352,user2353,user2354,user2355,user2356,user2357,user2358,user2359,user2360,user2361,user2362,user2363,user2364,user2365,user2366,user2367,user2368,user2369,user2370,user2371,user2372,user2373,user2374,user2375,user2376,user2377,user2378,user2379,user2380,user2381,user2382,user2383,user2384,user2385,user2386,user2387,user2388,user2389,user2390,user2391,user2392,user2393,user2394,user2395,user2396,user2397,user2398,user2399,user2400,user2401,user2402,user2403,user2404,user2405,user2406,user2407,user2408,user2409,user2410,user2411,user2412,user2413,user2414,user2415,user2416,user2417,user2418,user2419,user2420,user2421,user2422,user2423,user2424,user2425,user2426,user2427,user2428,user2429,user2430,user2431,user2432,user2433,user2434,user2435,user2436,user2437,user2438,user2439,user2440,user2441,user2442,user2443,user2444,user2445,user2446,user2447,user2448,user2449,user2450,user2451,user2452,user2453,user2454,user2455,user2456,user2457,user2458,user2459,user2460,user2461,user2462,user2463,user2464,user2465,user2466,user2467,user2468,user2469,user2470,user2471,user2472,user2473,user2474,user2475,user2476,user2477,user2478,user2479,user2480,user2481,user2482,user2483,user2484,user2485,user2486,user2487,user2488,user2489,user2490,user2491,user2492,user2493,user2494,user2495,user2496,user2497,user2498,user2499,user2500,user2501,user2502,user2503,user2504,user2505,user2506,user2507,user2508,user2509,user2510,user2511,user2512,user2513,user2514,user2515,user2516,user2517,user2518,user2519,user2520,user2521,user2522,user2523,user2524,user2525,user2526,user2527,user2528,user2529,user2530,user2531,user2532,user2533,user2534,user2535,user2536,user2537,user2538,user2539,user2540,user2541,user2542,user2543,user2544,user2545,user2546,user2547,user2548,user2549,user2550,user2551,user2552,user2553,user2554,user2555,user2556,user2557,user2558,user2559,user2560,user2561,user2562,user2563,user2564,user2565,user2566,user2567,user2568,user2569,user2570,user2571,user2572,user2573,user2574,user2575,user2576,user2577,user2578,user2579,user2580,user2581,user2582,user2583,user2584,user2585,user2586,user2587,user2588,user2589,user2590,user2591,user2592,user2593,user2594,user2595,user2596,user2597,user2598,user2599,user2600,user2601,user2602,user2603,user2604,user2605,user2606,user2607,user2608,user2609,user2610,user2611,user2612,user2613,user2614,user2615,user2616,user2617,user2618,user2619,user2620,user2621,user2622,user2623,user2624,user2625,user2626,user2627,user2628,user2629,user2630,user2631,user2632,user2633,user2634,user2635,user2636,user2637,user2638,user2639,user2640,user2641,user2642,user2643,user2644,user2645,user2646,user2647,user2648,user2649,user2650,user2651,user2652,user2653,user2654,user2655,user2656,user2657,user2658,user2659,user2660,user2661,user2662,user2663,user2664,user2665,user2666,user2667,user2668,user2669,user2670,user2671,user2672,user2673,user2674,user2675,user2676,user2677,user2678,user2679,user2680,user2681,user2682,user2683,user2684,user2685,user2686,user2687,user2688,user2689,user2690,user2691,user2692,user2693,user2694,user2695,user2696,user2697,user2698,user2699,user2700,user2701,user2702,user2703,user2704,user2705,user2706,user2707,user2708,user2709,user2710,user2711,user2712,user2713,user2714,user2715,user2716,user2717,user2718,user2719,user2720,user2721,user2722,user2723,user2724,user2725,user2726,user2727,user2728,user2729,user2730,user2731,user2732,user2733,user2734,user2735,user2736,user2737,user2738,user2739,user2740,user2741,user2742,user2743,user2744,user2745,user2746,user2747,user2748,user2749,user2750,user2751,user2752,user2753,user2754,user2755,user2756,user2757,user2758,user2759,user2760,user2761,user2762,user2763,user2764,user2765,user2766,user2767,user2768,user2769,user2770,user2771,user2772,user2773,user2774,user2775,user2776,user2777,user2778,user2779,user2780,user2781,user2782,user2783,user2784,user2785,user2786,user2787,user2788,user2789,user2790,user2791,user2792,user2793,user2794,user2795,user2796,user2797,user2798,user2799,user2800,user2801,user2802,user2803,user2804,user2805,user2806,user2807,user2808,user2809,user2810,user2811,user2812,user2813,user2814,user2815,user2816,user2817,user2818,user2819,user2820,user2821,user2822,user2823,user2824,user2825,user2826,user2827,user2828,user2829,user2830,user2831,user2832,user2833,user2834,user2835,user2836,user2837,user2838,user2839,user2840,user2841,user2842,user2843,user2844,user2845,user2846,user2847,user2848,user2849,user2850,user2851,user2852,user2853,user2854,user2855,user2856,user2857,user2858,user2859,user2860,user2861,user2862,user2863,user2864,user2865,user2866,user2867,user2868,user2869,user2870,user2871,user2872,user2873,user2874,user2875,user2876,user2877,user2878,user2879,user2880,user2881,user2882,user2883,user2884,user2885,user2886,user2887,user2888,user2889,user2890,user2891,user2892,user2893,user2894,user2895,user2896,user2897,user2898,user2899,user2900,user2901,user2902,user2903,user2904,user2905,user2906,user2907,user2908,user2909,user2910,user2911,user2912,user2913,user2914,user2915,user2916,user2917,user2918,user2919,user2920,user2921,user2922,user2923,user2924,user2925,user2926,user2927,user2928,user2929,user2930,user2931,user2932,user2933,user2934,user2935,user2936,user2937,user2938,user2939,user2940,user2941,user2942,user2943,user2944,user2945,user2946,user2947,user2948,user2949,user2950,user2951,user2952,user2953,user2954,user2955,user2956,user2957,user2958,user2959,user2960,user2961,user2962,user2963,user2964,user2965,user2966,user2967,user2968,user2969,user2970,user2971,user2972,user2973,user2974,user2975,user2976,user2977,user2978,user2979,user2980,user2981,user2982,user2983,user2984,user2985,user2986,user2987,user2988,user2989,user2990,user2991,user2992,user2993,user2994,user2995,user2996,user2997,user2998,user2999,user3000,user3001,user3002,user3003,user3004,user3005,user3006,user3007,user3008,user3009,user3010,user3011,user3012,user3013,user3014,user3015,user3016,user3017,user3018,user3019,user3020,user3021,user3022,user3023,user3024,user3025,user3026,user3027,user3028,user3029,user3030,user3031,user3032,user3033,user3034,user3035,user3036,user3037,user3038,user3039,user3040,user3041,user3042,user3043,user3044,user3045,user3046,user3047,user3048,user3049,user3050,user3051,user3052,user3053,user3054,user3055,user3056,user3057,user3058,user3059,user3060,user3061,user3062,user3063,user3064,user3065,user3066,user3067,user3068,user3069,user3070,user3071,user3072,user3073,user3074,user3075,user3076,user3077,user3078,user3079,user3080,user3081,user3082,user3083,user3084,user3085,user3086,user3087,user3088,user3089,user3090,user3091,user3092,user3093,user3094,user3095,user3096,user3097,user3098,user3099,user3100,user3101,user3102,user3103,user3104,user3105,user3106,user3107,user3108,user3109,user3110,user3111,user3112,user3113,user3114,user3115,user3116,user3117,user3118,user3119,user3120,user3121,user3122,user3123,user3124,user3125,user3126,user3127,user3128,user3129,user3130,user3131,user3132,user3133,user3134,user3135,user3136,user3137,user3138,user3139,user3140,user3141,user3142,user3143,user3144,user3145,user3146,user3147,user3148,user3149,user3150,user3151,user3152,user3153,user3154,user3155,user3156,user3157,user3158,user3159,user3160,user3161,user3162,user3163,user3164,user3165,user3166,user3167,user3168,user3169,user3170,user3171,user3172,user3173,user3174,user3175,user3176,user3177,user3178,user3179,user3180,user3181,user3182,user3183,user3184,user3185,user3186,user3187,user3188,user3189,user3190,user3191,user3192,user3193,user3194,user3195,user3196,user3197,user3198,user3199,user3200,user3201,user3202,user3203,user3204,user3205,user3206,user3207,user3208,user3209,user3210,user3211,user3212,user3213,user3214,user3215,user3216,user3217,user3218,user3219,user3220,user3221,user3222,user3223,user3224,user3225,user3226,user3227,user3228,user3229,user3230,user3231,user3232,user3233,user3234,user3235,user3236,user3237,user3238,user3239,user3240,user3241,user3242,user3243,user3244,user3245,user3246,user3247,user3248,user3249,user3250,user3251,user3252,user3253,user3254,user3255,user3256,user3257,user3258,user3259,user3260,user3261,user3262,user3263,user3264,user3265,user3266,user3267,user3268,user3269,user3270,user3271,user3272,user3273,user3274,user3275,user3276,user3277,user3278,user3279,user3280,user3281,user3282,user3283,user3284,user3285,user3286,user3287,user3288,user3289,user3290,user3291,user3292,user3293,user3294,user3295,user3296,user3297,user3298,user3299,user3300,user3301,user3302,user3303,user3304,user3305,user3306,user3307,user3308,user3309,user3310,user3311,user3312,user3313,user3314,user3315,user3316,user3317,user3318,user3319,user3320,user3321,user3322,user3323,user3324,user3325,user3326,user3327,user3328,user3329,user3330,user3331,user3332,user3333,user3334,user3335,user3336,user3337,user3338,user3339,user3340,user3341,user3342,user3343,user3344,user3345,user3346,user3347,user3348,user3349,user3350,user3351,user3352,user3353,user3354,user3355,user3356,user3357,user3358,user3359,user3360,user3361,user3362,user3363,user3364,user3365,user3366,user3367,user3368,user3369,user3370,user3371,user3372,user3373,user3374,user3375,user3376,user3377,user3378,user3379,user3380,user3381,user3382,user3383,user3384,user3385,user3386,user3387,user3388,user3389,user3390,user3391,user3392,user3393,user3394,user3395,user3396,user3397,user3398,user3399,user3400,user3401,user3402,user3403,user3404,user3405,user3406,user3407,user3408,user3409,user3410,user3411,user3412,user3413,user3414,user3415,user3416,user3417,user3418,user3419,user3420,user3421,user3422,user3423,user3424,user3425,user3426,user3427,user3428,user3429,user3430,user3431,user3432,user3433,user3434,user3435,user3436,user3437,user3438,user3439,user3440,user3441,user3442,user3443,user3444,user3445,user3446,user3447,user3448,user3449,user3450,user3451,user3452,user3453,user3454,user3455,user3456,user3457,user3458,user3459,user3460,user3461,user3462,user3463,user3464,user3465,user3466,user3467,user3468,user3469,user3470,user3471,user3472,user3473,user3474,user3475,user3476,user3477,user3478,user3479,user3480,user3481,user3482,user3483,user3484,user3485,user3486,user3487,user3488,user3489,user3490,user3491,user3492,user3493,user3494,user3495,user3496,user3497,user3498,user3499,user3500,user3501,user3502,user3503,user3504,user3505,user3506,user3507,user3508,user3509,user3510,user3511,user3512,user3513,user3514,user3515,user3516,user3517,user3518,user3519,user3520,user3521,user3522,user3523,user3524,user3525,user3526,user3527,user3528,user3529,user3530,user3531,user3532,user3533,user3534,user3535,user3536,user3537,user3538,user3539,user3540,user3541,user3542,user3543,user3544,user3545,user3546,user3547,user3548,user3549,user3550,user3551,user3552,user3553,user3554,user3555,user3556,user3557,user3558,user3559,user3560,user3561,user3562,user3563,user3564,user3565,user3566,user3567,user3568,user3569,user3570,user3571,user3572,user3573,user3574,user3575,user3576,user3577,user3578,user3579,user3580,user3581,user3582,user3583,user3584,user3585,user3586,user3587,user3588,user3589,user3590,user3591,user3592,user3593,user3594,user3595,user3596,user3597,user3598,user3599,user3600,user3601,user3602,user3603,user3604,user3605,user3606,user3607,user3608,user3609,user3610,user3611,user3612,user3613,user3614,user3615,user3616,user3617,user3618,user3619,user3620,user3621,user3622,user3623,user3624,user3625,user3626,user3627,user3628,user3629,user3630,user3631,user3632,user3633,user3634,user3635,user3636,user3637,user3638,user3639,user3640,user3641,user3642,user3643,user3644,user3645,user3646,user3647,user3648,user3649,user3650,user3651,user3652,user3653,user3654,user3655,user3656,user3657,user3658,user3659,user3660,user3661,user3662,user3663,user3664,user3665,user3666,user3667,user3668,user3669,user3670,user3671,user3672,user3673,user3674,user3675,user3676,user3677,user3678,user3679,user3680,user3681,user3682,user3683,user3684,user3685,user3686,user3687,user3688,user3689,user3690,user3691,user3692,user3693,user3694,user3695,user3696,user3697,user3698,user3699,user3700,user3701,user3702,user3703,user3704,user3705,user3706,user3707,user3708,user3709,user3710,user3711,user3712,user3713,user3714,user3715,user3716,user3717,user3718,user3719,user3720,user3721,user3722,user3723,user3724,user3725,user3726,user3727,user3728,user3729,user3730,user3731,user3732,user3733,user3734,user3735,user3736,user3737,user3738,user3739,user3740,user3741,user3742,user3743,user3744,user3745,user3746,user3747,user3748,user3749,user3750,user3751,user3752,user3753,user3754,user3755,user3756,user3757,user3758,user3759,user3760,user3761,user3762,user3763,user3764,user3765,user3766,user3767,user3768,user3769,user3770,user3771,user3772,user3773,user3774,user3775,user3776,user3777,user3778,user3779,user3780,user3781,user3782,user3783,user3784,user3785,user3786,user3787,user3788,user3789,user3790,user3791,user3792,user3793,user3794,user3795,user3796,user3797,user3798,user3799,user3800,user3801,user3802,user3803,user3804,user3805,user3806,user3807,user3808,user3809,user3810,user3811,user3812,user3813,user3814,user3815,user3816,user3817,user3818,user3819,user3820,user3821,user3822,user3823,user3824,user3825,user3826,user3827,user3828,user3829,user3830,user3831,user3832,user3833,user3834,user3835,user3836,user3837,user3838,user3839,user3840,user3841,user3842,user3843,user3844,user3845,user3846,user3847,user3848,user3849,user3850,user3851,user3852,user3853,user3854,user3855,user3856,user3857,user3858,user3859,user3860,user3861,user3862,user3863,user3864,user3865,user3866,user3867,user3868,user3869,user3870,user3871,user3872,user3873,user3874,user3875,user3876,user3877,user3878,user3879,user3880,user3881,user3882,user3883,user3884,user3885,user3886,user3887,user3888,user3889,user3890,user3891,user3892,user3893,user3894,user3895,user3896,user3897,user3898,user3899,user3900,user3901,user3902,user3903,user3904,user3905,user3906,user3907,user3908,user3909,user3910,user3911,user3912,user3913,user3914,user3915,user3916,user3917,user3918,user3919,user3920,user3921,user3922,user3923,user3924,user3925,user3926,user3927,user3928,user3929,user3930,user3931,user3932,user3933,user3934,user3935,user3936,user3937,user3938,user3939,user3940,user3941,user3942,user3943,user3944,user3945,user3946,user3947,user3948,user3949,user3950,user3951,user3952,user3953,user3954,user3955,user3956,user3957,user3958,user3959,user3960,user3961,user3962,user3963,user3964,user3965,user3966,user3967,user3968,user3969,user3970,user3971,user3972,user3973,user3974,user3975,user3976,user3977,user3978,user3979,user3980,user3981,user3982,user3983,user3984,user3985,user3986,user3987,user3988,user3989,user3990,user3991,user3992,user3993,user3994,user3995,user3996,user3997,user3998,user3999,user4000,user4001,user4002,user4003,user4004,user4005,user4006,user4007,user4008,user4009,user4010,user4011,user4012,user4013,user4014,user4015,user4016,user4017,user4018,user4019,user4020,user4021,user4022,user4023,user4024,user4025,user4026,user4027,user4028,user4029,user4030,user4031,user4032,user4033,user4034,user4035,user4036,user4037,user4038,user4039,user4040,user4041,user4042,user4043,user4044,user4045,user4046,user4047,user4048,user4049,user4050,user4051,user4052,user4053,user4054,user4055,user4056,user4057,user4058,user4059,user4060,user4061,user4062,user4063,user4064,user4065,user4066,user4067,user4068,user4069,user4070,user4071,user4072,user4073,user4074,user4075,user4076,user4077,user4078,user4079,user4080,user4081,user4082,user4083,user4084,user4085,user4086,user4087,user4088,user4089,user4090,user4091,user4092,user4093,user4094,user4095,user4096,user4097,user4098,user4099,user4100,user4101,user4102,user4103,user4104,user4105,user4106,user4107,user4108,user4109,user4110,user4111,user4112,user4113,user4114,user4115,user4116,user4117,user4118,user4119,user4120,user4121,user4122,user4123,user4124,user4125,user4126,user4127,user4128,user4129,user4130,user4131,user4132,user4133,user4134,user4135,user4136,user4137,user4138,user4139,user4140,user4141,user4142,user4143,user4144,user4145,user4146,user4147,user4148,user4149,user4150,user4151,user4152,user4153,user4154,user4155,user4156,user4157,user4158,user4159,user4160,user4161,user4162,user4163,user4164,user4165,user4166,user4167,user4168,user4169,user4170,user4171,user4172,user4173,user4174,user4175,user4176,user4177,user4178,user4179,user4180,user4181,user4182,user4183,user4184,user4185,user4186,user4187,user4188,user4189,user4190,user4191,user4192,user4193,user4194,user4195,user4196,user4197,user4198,user4199,user4200,user4201,user4202,user4203,user4204,user4205,user4206,user4207,user4208,user4209,user4210,user4211,user4212,user4213,user4214,user4215,user4216,user4217,user4218,user4219,user4220,user4221,user4222,user4223,user4224,user4225,user4226,user4227,user4228,user4229,user4230,user4231,user4232,user4233,user4234,user4235,user4236,user4237,user4238,user4239,user4240,user4241,user4242,user4243,user4244,user4245,user4246,user4247,user4248,user4249,user4250,user4251,user4252,user4253,user4254,user4255,user4256,user4257,user4258,user4259,user4260,user4261,user4262,user4263,user4264,user4265,user4266,user4267,user4268,user4269,user4270,user4271,user4272,user4273,user4274,user4275,user4276,user4277,user4278,user4279,user4280,user4281,user4282,user4283,user4284,user4285,user4286,user4287,user4288,user4289,user4290,user4291,user4292,user4293,user4294,user4295,user4296,user4297,user4298,user4299,user4300,user4301,user4302,user4303,user4304,user4305,user4306,user4307,user4308,user4309,user4310,user4311,user4312,user4313,user4314,user4315,user4316,user4317,user4318,user4319,user4320,user4321,user4322,user4323,user4324,user4325,user4326,user4327,user4328,user4329,user4330,user4331,user4332,user4333,user4334,user4335,user4336,user4337,user4338,user4339,user4340,user4341,user4342,user4343,user4344,user4345,user4346,user4347,user4348,user4349,user4350,user4351,user4352,user4353,user4354,user4355,user4356,user4357,user4358,user4359,user4360,user4361,user4362,user4363,user4364,user4365,user4366,user4367,user4368,user4369,user4370,user4371,user4372,user4373,user4374,user4375,user4376,user4377,user4378,user4379,user4380,user4381,user4382,user4383,user4384,user4385,user4386,user4387,user4388,user4389,user4390,user4391,user4392,user4393,user4394,user4395,user4396,user4397,user4398,user4399,user4400,user4401,user4402,user4403,user4404,user4405,user4406,user4407,user4408,user4409,user4410,user4411,user4412,user4413,user4414,user4415,user4416,user4417,user4418,user4419,user4420,user4421,user4422,user4423,user4424,user4425,user4426,user4427,user4428,user4429,user4430,user4431,user4432,user4433,user4434,user4435,user4436,user4437,user4438,user4439,user4440,user4441,user4442,user4443,user4444,user4445,user4446,user4447,user4448,user4449,user4450,user4451,user4452,user4453,user4454,user4455,user4456,user4457,user4458,user4459,user4460,user4461,user4462,user4463,user4464,user4465,user4466,user4467,user4468,user4469,user4470,user4471,user4472,user4473,user4474,user4475,user4476,user4477,user4478,user4479,user4480,user4481,user4482,user4483,user4484,user4485,user4486,user4487,user4488,user4489,user4490,user4491,user4492,user4493,user4494,user4495,user4496,user4497,user4498,user4499,user4500,user4501,user4502,user4503,user4504,user4505,user4506,user4507,user4508,user4509,user4510,user4511,user4512,user4513,user4514,user4515,user4516,user4517,user4518,user4519,user4520,user4521,user4522,user4523,user4524,user4525,user4526,user4527,user4528,user4529,user4530,user4531,user4532,user4533,user4534,user4535,user4536,user4537,user4538,user4539,user4540,user4541,user4542,user4543,user4544,user4545,user4546,user4547,user4548,user4549,user4550,user4551,user4552,user4553,user4554,user4555,user4556,user4557,user4558,user4559,user4560,user4561,user4562,user4563,user4564,user4565,user4566,user4567,user4568,user4569,user4570,user4571,user4572,user4573,user4574,user4575,user4576,user4577,user4578,user4579,user4580,user4581,user4582,user4583,user4584,user4585,user4586,user4587,user4588,user4589,user4590,user4591,user4592,user4593,user4594,user4595,user4596,user4597,user4598,user4599,user4600,user4601,user4602,user4603,user4604,user4605,user4606,user4607,user4608,user4609,user4610,user4611,user4612,user4613,user4614,user4615,user4616,user4617,user4618,user4619,user4620,user4621,user4622,user4623,user4624,user4625,user4626,user4627,user4628,user4629,user4630,user4631,user4632,user4633,user4634,user4635,user4636,user4637,user4638,user4639,user4640,user4641,user4642,user4643,user4644,user4645,user4646,user4647,user4648,user4649,user4650,user4651,user4652,user4653,user4654,user4655,user4656,user4657,user4658,user4659,user4660,user4661,user4662,user4663,user4664,user4665,user4666,user4667,user4668,user4669,user4670,user4671,user4672,user4673,user4674,user4675,user4676,user4677,user4678,user4679,user4680,user4681,user4682,user4683,user4684,user4685,user4686,user4687,user4688,user4689,user4690,user4691,user4692,user4693,user4694,user4695,user4696,user4697,user4698,user4699,user4700,user4701,user4702,user4703,user4704,user4705,user4706,user4707,user4708,user4709,user4710,user4711,user4712,user4713,user4714,user4715,user4716,user4717,user4718,user4719,user4720,user4721,user4722,user4723,user4724,user4725,user4726,user4727,user4728,user4729,user4730,user4731,user4732,user4733,user4734,user4735,user4736,user4737,user4738,user4739,user4740,user4741,user4742,user4743,user4744,user4745,user4746,user4747,user4748,user4749,user4750,user4751,user4752,user4753,user4754,user4755,user4756,user4757,user4758,user4759,user4760,user4761,user4762,user4763,user4764,user4765,user4766,user4767,user4768,user4769,user4770,user4771,user4772,user4773,user4774,user4775,user4776,user4777,user4778,user4779,user4780,user4781,user4782,user4783,user4784,user4785,user4786,user4787,user4788,user4789,user4790,user4791,user4792,user4793,user4794,user4795,user4796,user4797,user4798,user4799,user4800,user4801,user4802,user4803,user4804,user4805,user4806,user4807,user4808,user4809,user4810,user4811,user4812,user4813,user4814,user4815,user4816,user4817,user4818,user4819,user4820,user4821,user4822,user4823,user4824,user4825,user4826,user4827,user4828,user4829,user4830,user4831,user4832,user4833,user4834,user4835,user4836,user4837,user4838,user4839,user4840,user4841,user4842,user4843,user4844,user4845,user4846,user4847,user4848,user4849,user4850,user4851,user4852,user4853,user4854,user4855,user4856,user4857,user4858,user4859,user4860,user4861,user4862,user4863,user4864,user4865,user4866,user4867,user4868,user4869,user4870,user4871,user4872,user4873,user4874,user4875,user4876,user4877,user4878,user4879,user4880,user4881,user4882,user4883,user4884,user4885,user4886,user4887,user4888,user4889,user4890,user4891,user4892,user4893,user4894,user4895,user4896,user4897,user4898,user4899,user4900,user4901,user4902,user4903,user4904,user4905,user4906,user4907,user4908,user4909,user4910,user4911,user4912,user4913,user4914,user4915,user4916,user4917,user4918,user4919,user4920,user4921,user4922,user4923,user4924,user4925,user4926,user4927,user4928,user4929,user4930,user4931,user4932,user4933,user4934,user4935,user4936,user4937,user4938,user4939,user4940,user4941,user4942,user4943,user4944,user4945,user4946,user4947,user4948,user4949,user4950,user4951,user4952,user4953,user4954,user4955,user4956,user4957,user4958,user4959,user4960,user4961,user4962,user4963,user4964,user4965,user4966,user4967,user4968,user4969,user4970,user4971,user4972,user4973,user4974,user4975,user4976,user4977,user4978,user4979,user4980,user4981,user4982,user4983,user4984,user4985,user4986,user4987,user4988,user4989,user4990,user4991,user4992,user4993,user4994,user4995,user4996,user4997,user4998,user4999,user5000,user5001,user5002,user5003,user5004,user5005,user5006,user5007,user5008,user5009,user5010,user5011,user5012,user5013,user5014,user5015,user5016,user5017,user5018,user5019,user5020,user5021,user5022,user5023,user5024,user5025,user5026,user5027,user5028,user5029,user5030,user5031,user5032,user5033,user5034,user5035,user5036,user5037,user5038,user5039,user5040,user5041,user5042,user5043,user5044,user5045,user5046,user5047,user5048,user5049,user5050,user5051,user5052,user5053,user5054,user5055,user5056,user5057,user5058,user5059,user5060,user5061,user5062,user5063,user5064,user5065,user5066,user5067,user5068,user5069,user5070,user5071,user5072,user5073,user5074,user5075,user5076,user5077,user5078,user5079,user5080,user5081,user5082,user5083,user5084,user5085,user5086,user5087,user5088,user5089,user5090,user5091,user5092,user5093,user5094,user5095,user5096,user5097,user5098,user5099,user5100,user5101,user5102,user5103,user5104,user5105,user5106,user5107,user5108,user5109,user5110,user5111,user5112,user5113,user5114,user5115,user5116,user5117,user5118,user5119,user5120,user5121,user5122,user5123,user5124,user5125,user5126,user5127,user5128,user5129,user5130,user5131,user5132,user5133,user5134,user5135,user5136,user5137,user5138,user5139,user5140,user5141,user5142,user5143,user5144,user5145,user5146,user5147,user5148,user5149,user5150,user5151,user5152,user5153,user5154,user5155,user5156,user5157,user5158,user5159,user5160,user5161,user5162,user5163,user5164,user5165,user5166,user5167,user5168,user5169,user5170,user5171,user5172,user5173,user5174,user5175,user5176,user5177,user5178,user5179,user5180,user5181,user5182,user5183,user5184,user5185,user5186,user5187,user5188,user5189,user5190,user5191,user5192,user5193,user5194,user5195,user5196,user5197,user5198,user5199,user5200,user5201,user5202,user5203,user5204,user5205,user5206,user5207,user5208,user5209,user5210,user5211,user5212,user5213,user5214,user5215,user5216,user5217,user5218,user5219,user5220,user5221,user5222,user5223,user5224,user5225,user5226,user5227,user5228,user5229,user5230,user5231,user5232,user5233,user5234,user5235,user5236,user5237,user5238,user5239,user5240,user5241,user5242,user5243,user5244,user5245,user5246,user5247,user5248,user5249,user5250,user5251,user5252,user5253,user5254,user5255,user5256,user5257,user5258,user5259,user5260,user5261,user5262,user5263,user5264,user5265,user5266,user5267,user5268,user5269,user5270,user5271,user5272,user5273,user5274,user5275,user5276,user5277,user5278,user5279,user5280,user5281,user5282,user5283,user5284,user5285,user5286,user5287,user5288,user5289,user5290,user5291,user5292,user5293,user5294,user5295,user5296,user5297,user5298,user5299,user5300,user5301,user5302,user5303,user5304,user5305,user5306,user5307,user5308,user5309,user5310,user5311,user5312,user5313,user5314,user5315,user5316,user5317,user5318,user5319,user5320,user5321,user5322,user5323,user5324,user5325,user5326,user5327,user5328,user5329,user5330,user5331,user5332,user5333,user5334,user5335,user5336,user5337,user5338,user5339,user5340,user5341,user5342,user5343,user5344,user5345,user5346,user5347,user5348,user5349,user5350,user5351,user5352,user5353,user5354,user5355,user5356,user5357,user5358,user5359,user5360,user5361,user5362,user5363,user5364,user5365,user5366,user5367,user5368,user5369,user5370,user5371,user5372,user5373,user5374,user5375,user5376,user5377,user5378,user5379,user5380,user5381,user5382,user5383,user5384,user5385,user5386,user5387,user5388,user5389,user5390,user5391,user5392,user5393,user5394,user5395,user5396,user5397,user5398,user5399,user5400,user5401,user5402,user5403,user5404,user5405,user5406,user5407,user5408,user5409,user5410,user5411,user5412,user5413,user5414,user5415,user5416,user5417,user5418,user5419,user5420,user5421,user5422,user5423,user5424,user5425,user5426,user5427,user5428,user5429,user5430,user5431,user5432,user5433,user5434,user5435,user5436,user5437,user5438,user5439,user5440,user5441,user5442,user5443,user5444,user5445,user5446,user5447,user5448,user5449,user5450,user5451,user5452,user5453,user5454,user5455,user5456,user5457,user5458,user5459,user5460,user5461,user5462,user5463,user5464,user5465,user5466,user5467,user5468,user5469,user5470,user5471,user5472,user5473,user5474,user5475,user5476,user5477,user5478,user5479,user5480,user5481,user5482,user5483,user5484,user5485,user5486,user5487,user5488,user5489,user5490,user5491,user5492,user5493,user5494,user5495,user5496,user5497,user5498,user5499,user5500,user5501,user5502,user5503,user5504,user5505,user5506,user5507,user5508,user5509,user5510,user5511,user5512,user5513,user5514,user5515,user5516,user5517,user5518,user5519,user5520,user5521,user5522,user5523,user5524,user5525,user5526,user5527,user5528,user5529,user5530,user5531,user5532,user5533,user5534,user5535,user5536,user5537,user5538,user5539,user5540,user5541,user5542,user5543,user5544,user5545,user5546,user5547,user5548,user5549,user5550,user5551,user5552,user5553,user5554,user5555,user5556,user5557,user5558,user5559,user5560,user5561,user5562,user5563,user5564,user5565,user5566,user5567,user5568,user5569,user5570,user5571,user5572,user5573,user5574,user5575,user5576,user5577,user5578,user5579,user5580,user5581,user5582,user5583,user5584,user5585,user5586,user5587,user5588,user5589,user5590,user5591,user5592,user5593,user5594,user5595,user5596,user5597,user5598,user5599,user5600,user5601,user5602,user5603,user5604,user5605,user5606,user5607,user5608,user5609,user5610,user5611,user5612,user5613,user5614,user5615,user5616,user5617,user5618,user5619,user5620,user5621,user5622,user5623,user5624,user5625,user5626,user5627,user5628,user5629,user5630,user5631,user5632,user5633,user5634,user5635,user5636,user5637,user5638,user5639,user5640,user5641,user5642,user5643,user5644,user5645,user5646,user5647,user5648,user5649,user5650,user5651,user5652,user5653,user5654,user5655,user5656,user5657,user5658,user5659,user5660,user5661,user5662,user5663,user5664,user5665,user5666,user5667,user5668,user5669,user5670,user5671,user5672,user5673,user5674,user5675,user5676,user5677,user5678,user5679,user5680,user5681,user5682,user5683,user5684,user5685,user5686,user5687,user5688,user5689,user5690,user5691,user5692,user5693,user5694,user5695,user5696,user5697,user5698,user5699,user5700,user5701,user5702,user5703,user5704,user5705,user5706,user5707,user5708,user5709,user5710,user5711,user5712,user5713,user5714,user5715,user5716,user5717,user5718,user5719,user5720,user5721,user5722,user5723,user5724,user5725,user5726,user5727,user5728,user5729,user5730,user5731,user5732,user5733,user5734,user5735,user5736,user5737,user5738,user5739,user5740,user5741,user5742,user5743,user5744,user5745,user5746,user5747,user5748,user5749,user5750,user5751,user5752,user5753,user5754,user5755,user5756,user5757,user5758,user5759,user5760,user5761,user5762,user5763,user5764,user5765,user5766,user5767,user5768,user5769,user5770,user5771,user5772,user5773,user5774,user5775,user5776,user5777,user5778,user5779,user5780,user5781,user5782,user5783,user5784,user5785,user5786,user5787,user5788,user5789,user5790,user5791,user5792,user5793,user5794,user5795,user5796,user5797,user5798,user5799,user5800,user5801,user5802,user5803,user5804,user5805,user5806,user5807,user5808,user5809,user5810,user5811,user5812,user5813,user5814,user5815,user5816,user5817,user5818,user5819,user5820,user5821,user5822,user5823,user5824,user5825,user5826,user5827,user5828,user5829,user5830,user5831,user5832,user5833,user5834,user5835,user5836,user5837,user5838,user5839,user5840,user5841,user5842,user5843,user5844,user5845,user5846,user5847,user5848,user5849,user5850,user5851,user5852,user5853,user5854,user5855,user5856,user5857,user5858,user5859,user5860,user5861,user5862,user5863,user5864,user5865,user5866,user5867,user5868,user5869,user5870,user5871,user5872,user5873,user5874,user5875,user5876,user5877,user5878,user5879,user5880,user5881,user5882,user5883,user5884,user5885,user5886,user5887,user5888,user5889,user5890,user5891,user5892,user5893,user5894,user5895,user5896,user5897,user5898,user5899,user5900,user5901,user5902,user5903,user5904,user5905,user5906,user5907,user5908,user5909,user5910,user5911,user5912,user5913,user5914,user5915,user5916,user5917,user5918,user5919,user5920,user5921,user5922,user5923,user5924,user5925,user5926,user5927,user5928,user5929,user5930,user5931,user5932,user5933,user5934,user5935,user5936,user5937,user5938,user5939,user5940,user5941,user5942,user5943,user5944,user5945,user5946,user5947,user5948,user5949,user5950,user5951,user5952,user5953,user5954,user5955,user5956,user5957,user5958,user5959,user5960,user5961,user5962,user5963,user5964,user5965,user5966,user5967,user5968,user5969,user5970,user5971,user5972,user5973,user5974,user5975,user5976,user5977,user5978,user5979,user5980,user5981,user5982,user5983,user5984,user5985,user5986,user5987,user5988,user5989,user5990,user5991,user5992,user5993,user5994,user5995,user5996,user5997,user5998,user5999,user6000,user6001,user6002,user6003,user6004,user6005,user6006,user6007,user6008,user6009,user6010,user6011,user6012,user6013,user6014,user6015,user6016,user6017,user6018,user6019,user6020,user6021,user6022,user6023,user6024,user6025,user6026,user6027,user6028,user6029,user6030,user6031,user6032,user6033,user6034,user6035,user6036,user6037,user6038,user6039,user6040,user6041,user6042,user6043,user6044,user6045,user6046,user6047,user6048,user6049,user6050,user6051,user6052,user6053,user6054,user6055,user6056,user6057,user6058,user6059,user6060,user6061,user6062,user6063,user6064,user6065,user6066,user6067,user6068,user6069,user6070,user6071,user6072,user6073,user6074,user6075,user6076,user6077,user6078,user6079,user6080,user6081,user6082,user6083,user6084,user6085,user6086,user6087,user6088,user6089,user6090,user6091,user6092,user6093,user6094,user6095,user6096,user6097,user6098,user6099,user6100,user6101,user6102,user6103,user6104,user6105,user6106,user6107,user6108,user6109,user6110,user6111,user6112,user6113,user6114,user6115,user6116,user6117,user6118,user6119,user6120,user6121,user6122,user6123,user6124,user6125,user6126,user6127,user6128,user6129,user6130,user6131,user6132,user6133,user6134,user6135,user6136,user6137,user6138,user6139,user6140,user6141,user6142,user6143,user6144,user6145,user6146,user6147,user6148,user6149,user6150,user6151,user6152,user6153,user6154,user6155,user6156,user6157,user6158,user6159,user6160,user6161,user6162,user6163,user6164,user6165,user6166,user6167,user6168,user6169,user6170,user6171,user6172,user6173,user6174,user6175,user6176,user6177,user6178,user6179,user6180,user6181,user6182,user6183,user6184,user6185,user6186,user6187,user6188,user6189,user6190,user6191,user6192,user6193,user6194,user6195,user6196,user6197,user6198,user6199,user6200,user6201,user6202,user6203,user6204,user6205,user6206,user6207,user6208,user6209,user6210,user6211,user6212,user6213,user6214,user6215,user6216,user6217,user6218,user6219,user6220,user6221,user6222,user6223,user6224,user6225,user6226,user6227,user6228,user6229,user6230,user6231,user6232,user6233,user6234,user6235,user6236,user6237,user6238,user6239,user6240,user6241,user6242,user6243,user6244,user6245,user6246,user6247,user6248,user6249,user6250,user6251,user6252,user6253,user6254,user6255,user6256,user6257,user6258,user6259,user6260,user6261,user6262,user6263,user6264,user6265,user6266,user6267,user6268,user6269,user6270,user6271,user6272,user6273,user6274,user6275,user6276,user6277,user6278,user6279,user6280,user6281,user6282,user6283,user6284,user6285,user6286,user6287,user6288,user6289,user6290,user6291,user6292,user6293,user6294,user6295,user6296,user6297,user6298,user6299,user6300,user6301,user6302,user6303,user6304,user6305,user6306,user6307,user6308,user6309,user6310,user6311,user6312,user6313,user6314,user6315,user6316,user6317,user6318,user6319,user6320,user6321,user6322,user6323,user6324,user6325,user6326,user6327,user6328,user6329,user6330,user6331,user6332,user6333,user6334,user6335,user6336,user6337,user6338,user6339,user6340,user6341,user6342,user6343,user6344,user6345,user6346,user6347,user6348,user6349,user6350,user6351,user6352,user6353,user6354,user6355,user6356,user6357,user6358,user6359,user6360,user6361,user6362,user6363,user6364,user6365,user6366,user6367,user6368,user6369,user6370,user6371,user6372,user6373,user6374,user6375,user6376,user6377,user6378,user6379,user6380,user6381,user6382,user6383,user6384,user6385,user6386,user6387,user6388,user6389,user6390,user6391,user6392,user6393,user6394,user6395,user6396,user6397,user6398,user6399,user6400,user6401,user6402,user6403,user6404,user6405,user6406,user6407,user6408,user6409,user6410,user6411,user6412,user6413,user6414,user6415,user6416,user6417,user6418,user6419,user6420,user6421,user6422,user6423,user6424,user6425,user6426,user6427,user6428,user6429,user6430,user6431,user6432,user6433,user6434,user6435,user6436,user6437,user6438,user6439,user6440,user6441,user6442,user6443,user6444,user6445,user6446,user6447,user6448,user6449,user6450,user6451,user6452,user6453,user6454,user6455,user6456,user6457,user6458,user6459,user6460,user6461,user6462,user6463,user6464,user6465,user6466,user6467,user6468,user6469,user6470,user6471,user6472,user6473,user6474,user6475,user6476,user6477,user6478,user6479,user6480,user6481,user6482,user6483,user6484,user6485,user6486,user6487,user6488,user6489,user6490,user6491,user6492,user6493,user6494,user6495,user6496,user6497,user6498,user6499,user6500,user6501,user6502,user6503,user6504,user6505,user6506,user6507,user6508,user6509,user6510,user6511,user6512,user6513,user6514,user6515,user6516,user6517,user6518,user6519,user6520,user6521,user6522,user6523,user6524,user6525,user6526,user6527,user6528,user6529,user6530,user6531,user6532,user6533,user6534,user6535,user6536,user6537,user6538,user6539,user6540,user6541,user6542,user6543,user6544,user6545,user6546,user6547,user6548,user6549,user6550,user6551,user6552,user6553,user6554,user6555,user6556,user6557,user6558,user6559,user6560,user6561,user6562,user6563,user6564,user6565,user6566,user6567,user6568,user6569,user6570,user6571,user6572,user6573,user6574,user6575,user6576,user6577,user6578,user6579,user6580,user6581,user6582,user6583,user6584,user6585,user6586,user6587,user6588,user6589,user6590,user6591,user6592,user6593,user6594,user6595,user6596,user6597,user6598,user6599,user6600,user6601,user6602,user6603,user6604,user6605,user6606,user6607,user6608,user6609,user6610,user6611,user6612,user6613,user6614,user6615,user6616,user6617,user6618,user6619,user6620,user6621,user6622,user6623,user6624,user6625,user6626,user6627,user6628,user6629,user6630,user6631,user6632,user6633,user6634,user6635,user6636,user6637,user6638,user6639,user6640,user6641,user6642,user6643,user6644,user6645,user6646,user6647,user6648,user6649,user6650,user6651,user6652,user6653,user6654,user6655,user6656,user6657,user6658,user6659,user6660,user6661,user6662,user6663,user6664,user6665,user6666,user6667,user6668,user6669,user6670,user6671,user6672,user6673,user6674,user6675,user6676,user6677,user6678,user6679,user6680,user6681,user6682,user6683,user6684,user6685,user6686,user6687,user6688,user6689,user6690,user6691,user6692,user6693,user6694,user6695,user6696,user6697,user6698,user6699,user6700,user6701,user6702,user6703,user6704,user6705,user6706,user6707,user6708,user6709,user6710,user6711,user6712,user6713,user6714,user6715,user6716,user6717,user6718,user6719,user6720,user6721,user6722,user6723,user6724,user6725,user6726,user6727,user6728,user6729,user6730,user6731,user6732,user6733,user6734,user6735,user6736,user6737,user6738,user6739,user6740,user6741,user6742,user6743,user6744,user6745,user6746,user6747,user6748,user6749,user6750,user6751,user6752,user6753,user6754,user6755,user6756,user6757,user6758,user6759,user6760,user6761,user6762,user6763,user6764,user6765,user6766,user6767,user6768,user6769,user6770,user6771,user6772,user6773,user6774,user6775,user6776,user6777,user6778,user6779,user6780,user6781,user6782,user6783,user6784,user6785,user6786,user6787,user6788,user6789,user6790,user6791,user6792,user6793,user6794,user6795,user6796,user6797,user6798,user6799,user6800,user6801,user6802,user6803,user6804,user6805,user6806,user6807,user6808,user6809,user6810,user6811,user6812,user6813,user6814,user6815,user6816,user6817,user6818,user6819,user6820,user6821,user6822,user6823,user6824,user6825,user6826,user6827,user6828,user6829,user6830,user6831,user6832,user6833,user6834,user6835,user6836,user6837,user6838,user6839,user6840,user6841,user6842,user6843,user6844,user6845,user6846,user6847,user6848,user6849,user6850,user6851,user6852,user6853,user6854,user6855,user6856,user6857,user6858,user6859,user6860,user6861,user6862,user6863,user6864,user6865,user6866,user6867,user6868,user6869,user6870,user6871,user6872,user6873,user6874,user6875,user6876,user6877,user6878,user6879,user6880,user6881,user6882,user6883,user6884,user6885,user6886,user6887,user6888,user6889,user6890,user6891,user6892,user6893,user6894,user6895,user6896,user6897,user6898,user6899,user6900,user6901,user6902,user6903,user6904,user6905,user6906,user6907,user6908,user6909,user6910,user6911,user6912,user6913,user6914,user6915,user6916,user6917,user6918,user6919,user6920,user6921,user6922,user6923,user6924,user6925,user6926,user6927,user6928,user6929,user6930,user6931,user6932,user6933,user6934,user6935,user6936,user6937,user6938,user6939,user6940,user6941,user6942,user6943,user6944,user6945,user6946,user6947,user6948,user6949,user6950,user6951,user6952,user6953,user6954,user6955,user6956,user6957,user6958,user6959,user6960,user6961,user6962,user6963,user6964,user6965,user6966,user6967,user6968,user6969,user6970,user6971,user6972,user6973,user6974,user6975,user6976,user6977,user6978,user6979,user6980,user6981,user6982,user6983,user6984,user6985,user6986,user6987,user6988,user6989,user6990,user6991,user6992,user6993,user6994,user6995,user6996,user6997,user6998,user6999,user7000,user7001,user7002,user7003,user7004,user7005,user7006,user7007,user7008,user7009,user7010,user7011,user7012,user7013,user7014,user7015,user7016,user7017,user7018,user7019,user7020,user7021,user7022,user7023,user7024,user7025,user7026,user7027,user7028,user7029,user7030,user7031,user7032,user7033,user7034,user7035,user7036,user7037,user7038,user7039,user7040,user7041,user7042,user7043,user7044,user7045,user7046,user7047,user7048,user7049,user7050,user7051,user7052,user7053,user7054,user7055,user7056,user7057,user7058,user7059,user7060,user7061,user7062,user7063,user7064,user7065,user7066,user7067,user7068,user7069,user7070,user7071,user7072,user7073,user7074,user7075,user7076,user7077,user7078,user7079,user7080,user7081,user7082,user7083,user7084,user7085,user7086,user7087,user7088,user7089,user7090,user7091,user7092,user7093,user7094,user7095,user7096,user7097,user7098,user7099,user7100,user7101,user7102,user7103,user7104,user7105,user7106,user7107,user7108,user7109,user7110,user7111,user7112,user7113,user7114,user7115,user7116,user7117,user7118,user7119,user7120,user7121,user7122,user7123,user7124,user7125,user7126,user7127,user7128,user7129,user7130,user7131,user7132,user7133,user7134,user7135,user7136,user7137,user7138,user7139,user7140,user7141,user7142,user7143,user7144,user7145,user7146,user7147,user7148,user7149,user7150,user7151,user7152,user7153,user7154,user7155,user7156,user7157,user7158,user7159,user7160,user7161,user7162,user7163,user7164,user7165,user7166,user7167,user7168,user7169,user7170,user7171,user7172,user7173,user7174,user7175,user7176,user7177,user7178,user7179,user7180,user7181,user7182,user7183,user7184,user7185,user7186,user7187,user7188,user7189,user7190,user7191,user7192,user7193,user7194,user7195,user7196,user7197,user7198,user7199,user7200,user7201,user7202,user7203,user7204,user7205,user7206,user7207,user7208,user7209,user7210,user7211,user7212,user7213,user7214,user7215,user7216,user7217,user7218,user7219,user7220,user7221,user7222,user7223,user7224,user7225,user7226,user7227,user7228,user7229,user7230,user7231,user7232,user7233,user7234,user7235,user7236,user7237,user7238,user7239,user7240,user7241,user7242,user7243,user7244,user7245,user7246,user7247,user7248,user7249,user7250,user7251,user7252,user7253,user7254,user7255,user7256,user7257,user7258,user7259,user7260,user7261,user7262,user7263,user7264,user7265,user7266,user7267,user7268,user7269,user7270,user7271,user7272,user7273,user7274,user7275,user7276,user7277,user7278,user7279,user7280,user7281,user7282,user7283,user7284,user7285,user7286,user7287,user7288,user7289,user7290,user7291,user7292,user7293,user7294,user7295,user7296,user7297,user7298,user7299,user7300,user7301,user7302,user7303,user7304,user7305,user7306,user7307,user7308,user7309,user7310,user7311,user7312,user7313,user7314,user7315,user7316,user7317,user7318,user7319,user7320,user7321,user7322,user7323,user7324,user7325,user7326,user7327,user7328,user7329,user7330,user7331,user7332,user7333,user7334,user7335,user7336,user7337,user7338,user7339,user7340,user7341,user7342,user7343,user7344,user7345,user7346,user7347,user7348,user7349,user7350,user7351,user7352,user7353,user7354,user7355,user7356,user7357,user7358,user7359,user7360,user7361,user7362,user7363,user7364,user7365,user7366,user7367,user7368,user7369,user7370,user7371,user7372,user7373,user7374,user7375,user7376,user7377,user7378,user7379,user7380,user7381,user7382,user7383,user7384,user7385,user7386,user7387,user7388,user7389,user7390,user7391,user7392,user7393,user7394,user7395,user7396,user7397,user7398,user7399,user7400,user7401,user7402,user7403,user7404,user7405,user7406,user7407,user7408,user7409,user7410,user7411,user7412,user7413,user7414,user7415,user7416,user7417,user7418,user7419,user7420,user7421,user7422,user7423,user7424,user7425,user7426,user7427,user7428,user7429,user7430,user7431,user7432,user7433,user7434,user7435,user7436,user7437,user7438,user7439,user7440,user7441,user7442,user7443,user7444,user7445,user7446,user7447,user7448,user7449,user7450,user7451,user7452,user7453,user7454,user7455,user7456,user7457,user7458,user7459,user7460,user7461,user7462,user7463,user7464,user7465,user7466,user7467,user7468,user7469,user7470,user7471,user7472,user7473,user7474,user7475,user7476,user7477,user7478,user7479,user7480,user7481,user7482,user7483,user7484,user7485,user7486,user7487,user7488,user7489,user7490,user7491,user7492,user7493,user7494,user7495,user7496,user7497,user7498,user7499,user7500
`

var groupTests = []struct {
	in   string
	name string
	gid  string
}{
	{testGroupFile, "nobody", "-2"},
	{testGroupFile, "kmem", "2"},
	{testGroupFile, "notinthefile", ""},
	{testGroupFile, "comment", ""},
	{testGroupFile, "plussign", ""},
	{testGroupFile, "+plussign", ""},
	{testGroupFile, "-minussign", ""},
	{testGroupFile, "minussign", ""},
	{testGroupFile, "emptyid", ""},
	{testGroupFile, "invalidgid", ""},
	{testGroupFile, "indented", "7"},
	{testGroupFile, "# comment", ""},
	{testGroupFile, "largegroup", "1000"},
	{"", "emptyfile", ""},
}

func TestFindGroupName(t *testing.T) {
	for _, tt := range groupTests {
		got, err := findGroupName(tt.name, strings.NewReader(tt.in))
		if tt.gid == "" {
			if err == nil {
				t.Errorf("findGroupName(%s): got nil error, expected err", tt.name)
				continue
			}
			switch terr := err.(type) {
			case UnknownGroupError:
				if terr.Error() != "group: unknown group "+tt.name {
					t.Errorf("findGroupName(%s): got %v, want %v", tt.name, terr, tt.name)
				}
			default:
				t.Errorf("findGroupName(%s): got unexpected error %v", tt.name, terr)
			}
		} else {
			if err != nil {
				t.Fatalf("findGroupName(%s): got unexpected error %v", tt.name, err)
			}
			if got.Gid != tt.gid {
				t.Errorf("findGroupName(%s): got gid %v, want %s", tt.name, got.Gid, tt.gid)
			}
			if got.Name != tt.name {
				t.Errorf("findGroupName(%s): got name %s, want %s", tt.name, got.Name, tt.name)
			}
		}
	}
}

var groupIdTests = []struct {
	in   string
	gid  string
	name string
}{
	{testGroupFile, "-2", "nobody"},
	{testGroupFile, "2", "kmem"},
	{testGroupFile, "notinthefile", ""},
	{testGroupFile, "comment", ""},
	{testGroupFile, "7", "indented"},
	{testGroupFile, "4", ""},
	{testGroupFile, "20", ""}, // row starts with a plus
	{testGroupFile, "21", ""}, // row starts with a minus
	{"", "emptyfile", ""},
}

func TestFindGroupId(t *testing.T) {
	for _, tt := range groupIdTests {
		got, err := findGroupId(tt.gid, strings.NewReader(tt.in))
		if tt.name == "" {
			if err == nil {
				t.Errorf("findGroupId(%s): got nil error, expected err", tt.gid)
				continue
			}
			switch terr := err.(type) {
			case UnknownGroupIdError:
				if terr.Error() != "group: unknown groupid "+tt.gid {
					t.Errorf("findGroupId(%s): got %v, want %v", tt.name, terr, tt.name)
				}
			default:
				t.Errorf("findGroupId(%s): got unexpected error %v", tt.name, terr)
			}
		} else {
			if err != nil {
				t.Fatalf("findGroupId(%s): got unexpected error %v", tt.name, err)
			}
			if got.Gid != tt.gid {
				t.Errorf("findGroupId(%s): got gid %v, want %s", tt.name, got.Gid, tt.gid)
			}
			if got.Name != tt.name {
				t.Errorf("findGroupId(%s): got name %s, want %s", tt.name, got.Name, tt.name)
			}
		}
	}
}

const testUserFile = `   # Example user file
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:3:bin:/bin:/usr/sbin/nologin
     indented:x:3:3:indented:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
negative:x:-5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
allfields:x:6:12:mansplit,man2,man3,man4:/home/allfields:/usr/sbin/nologin
+plussign:x:8:10:man:/var/cache/man:/usr/sbin/nologin
-minussign:x:9:10:man:/var/cache/man:/usr/sbin/nologin

malformed:x:27:12 # more:colons:after:comment

struid:x:notanumber:12 # more:colons:after:comment

# commented:x:28:12:commented:/var/cache/man:/usr/sbin/nologin
      # commentindented:x:29:12:commentindented:/var/cache/man:/usr/sbin/nologin

struid2:x:30:badgid:struid2name:/home/struid:/usr/sbin/nologin
`

var userIdTests = []struct {
	in   string
	uid  string
	name string
}{
	{testUserFile, "-5", "negative"},
	{testUserFile, "2", "bin"},
	{testUserFile, "100", ""}, // not in the file
	{testUserFile, "8", ""},   // plus sign, glibc doesn't find it
	{testUserFile, "9", ""},   // minus sign, glibc doesn't find it
	{testUserFile, "27", ""},  // malformed
	{testUserFile, "28", ""},  // commented out
	{testUserFile, "29", ""},  // commented out, indented
	{testUserFile, "3", "indented"},
	{testUserFile, "30", ""}, // the Gid is not valid, shouldn't match
	{"", "1", ""},
}

func TestInvalidUserId(t *testing.T) {
	_, err := findUserId("notanumber", strings.NewReader(""))
	if err == nil {
		t.Fatalf("findUserId('notanumber'): got nil error")
	}
	if want := "user: invalid userid notanumber"; err.Error() != want {
		t.Errorf("findUserId('notanumber'): got %v, want %s", err, want)
	}
}

func TestLookupUserId(t *testing.T) {
	for _, tt := range userIdTests {
		got, err := findUserId(tt.uid, strings.NewReader(tt.in))
		if tt.name == "" {
			if err == nil {
				t.Errorf("findUserId(%s): got nil error, expected err", tt.uid)
				continue
			}
			switch terr := err.(type) {
			case UnknownUserIdError:
				if want := "user: unknown userid " + tt.uid; terr.Error() != want {
					t.Errorf("findUserId(%s): got %v, want %v", tt.name, terr, want)
				}
			default:
				t.Errorf("findUserId(%s): got unexpected error %v", tt.name, terr)
			}
		} else {
			if err != nil {
				t.Fatalf("findUserId(%s): got unexpected error %v", tt.name, err)
			}
			if got.Uid != tt.uid {
				t.Errorf("findUserId(%s): got uid %v, want %s", tt.name, got.Uid, tt.uid)
			}
			if got.Username != tt.name {
				t.Errorf("findUserId(%s): got name %s, want %s", tt.name, got.Username, tt.name)
			}
		}
	}
}

func TestLookupUserPopulatesAllFields(t *testing.T) {
	u, err := findUsername("allfields", strings.NewReader(testUserFile))
	if err != nil {
		t.Fatal(err)
	}
	want := &User{
		Username: "allfields",
		Uid:      "6",
		Gid:      "12",
		Name:     "mansplit",
		HomeDir:  "/home/allfields",
	}
	if !reflect.DeepEqual(u, want) {
		t.Errorf("findUsername: got %#v, want %#v", u, want)
	}
}

var userTests = []struct {
	in   string
	name string
	uid  string
}{
	{testUserFile, "negative", "-5"},
	{testUserFile, "bin", "2"},
	{testUserFile, "notinthefile", ""},
	{testUserFile, "indented", "3"},
	{testUserFile, "plussign", ""},
	{testUserFile, "+plussign", ""},
	{testUserFile, "minussign", ""},
	{testUserFile, "-minussign", ""},
	{testUserFile, "   indented", ""},
	{testUserFile, "commented", ""},
	{testUserFile, "commentindented", ""},
	{testUserFile, "malformed", ""},
	{testUserFile, "# commented", ""},
	{"", "emptyfile", ""},
}

func TestLookupUser(t *testing.T) {
	for _, tt := range userTests {
		got, err := findUsername(tt.name, strings.NewReader(tt.in))
		if tt.uid == "" {
			if err == nil {
				t.Errorf("lookupUser(%s): got nil error, expected err", tt.uid)
				continue
			}
			switch terr := err.(type) {
			case UnknownUserError:
				if want := "user: unknown user " + tt.name; terr.Error() != want {
					t.Errorf("lookupUser(%s): got %v, want %v", tt.name, terr, want)
				}
			default:
				t.Errorf("lookupUser(%s): got unexpected error %v", tt.name, terr)
			}
		} else {
			if err != nil {
				t.Fatalf("lookupUser(%s): got unexpected error %v", tt.name, err)
			}
			if got.Uid != tt.uid {
				t.Errorf("lookupUser(%s): got uid %v, want %s", tt.name, got.Uid, tt.uid)
			}
			if got.Username != tt.name {
				t.Errorf("lookupUser(%s): got name %s, want %s", tt.name, got.Username, tt.name)
			}
		}
	}
}
