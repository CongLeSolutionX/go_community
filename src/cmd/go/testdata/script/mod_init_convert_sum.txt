# Check that when we create a go.mod and import a vendor configuration file,
# the module requirements are consistent with MVS, and we save sums needed
# to load the build list in go.sum.
go mod init m
stderr '^go: run ''go mod tidy'' to add module requirements and sums$'
go mod edit -go=1.16
cmp go.mod go.mod.want
cmp go.sum go.sum.want

-- Gopkg.lock --
[[projects]]
  name = "rsc.io/quote"
  version = "v1.5.2"

[[projects]]
  name = "rsc.io/sampler"
  version = "v1.2.0"  # too low
-- go.mod.want --
module m

go 1.16

require (
	rsc.io/quote v1.5.2
	rsc.io/sampler v1.3.0
)
-- go.sum.want --
golang.org/x/text v0.0.0-20170915032832-14c0d48ead0c/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
rsc.io/quote v1.5.2/go.mod h1:LzX7hefJvL54yjefDEDHNONDjII0t9xZLPXsUe+TKr0=
rsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=
-- use.go --
package use

import _ "rsc.io/quote"
