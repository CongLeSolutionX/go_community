# https://golang.org/issue/41297: 'go list -m' should not require go.sum with
# -versions or when all args are version queries.

go mod init m
go mod edit -require=rsc.io/quote@v1.0.0
go list -m -mod=readonly rsc.io/quote@latest

# TODO(#41297): This should not be an error.
! go list -m -mod=readonly -versions rsc.io/quote
stderr '^go list -m: rsc\.io/quote@v1\.0\.0: missing go\.sum entry; to add it:\n\tgo mod download rsc\.io/quote$'
