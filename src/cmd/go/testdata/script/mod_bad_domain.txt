env GO111MODULE=on

# explicit get should report errors about bad names
! go get appengine
stderr 'appengine is not a known package or module'
! go get x/y.z
stderr 'x/y.z is not a known package or module'

# build should skip over appengine imports
! go build
! stderr appengine
stderr 'nonexistent.rsc.io is not a known package or module'

-- go.mod --
module x

-- x.go --
package x

import _ "appengine"
import _ "nonexistent.rsc.io" // domain does not exist
