env GO111MODULE=on
env GOFLAGS=-mod=mod

! go mod init example.com/user/repo/v0
stderr '^go: invalid module path "example.com/user/repo/v0": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v02
stderr '^go: invalid module path "example.com/user/repo/v02": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v1
stderr '^go: invalid module path "example.com/user/repo/v1": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v2.0
stderr '^go: invalid module path "example.com/user/repo/v2.0": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v2.1.4
stderr '^go: invalid module path "example.com/user/repo/v2.1.4": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v2.
stderr '^go: invalid module path "example.com/user/repo/v2.": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init example.com/user/repo/v.2
stderr '^go: invalid module path "example.com/user/repo/v.2": major version suffixes must be in the form of /vN and are only allowed for v2 or later$'

! go mod init gopkg.in/pkg
stderr '^go: invalid module path "gopkg.in/pkg": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg
stderr '^go: invalid module path "gopkg.in/user/pkg": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg/v0
stderr '^go: invalid module path "gopkg.in/user/pkg/v0": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg.v
stderr '^go: invalid module path "gopkg.in/user/pkg.v": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg.v0.1
stderr '^go: invalid module path "gopkg.in/user/pkg.v0.1": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg.v.1
stderr '^go: invalid module path "gopkg.in/user/pkg.v.1": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'

! go mod init gopkg.in/user/pkg.v01
stderr '^go: invalid module path "gopkg.in/user/pkg.v01": module paths beginning with gopkg.in/ must always have a major version suffix in the form of .vN$'
