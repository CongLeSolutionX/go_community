{
  "comments": [
    {
      "key": {
        "uuid": "bdeac3ce_7a2a00ef",
        "filename": "src/crypto/crypto.go",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-02-04T20:51:08Z",
      "side": 1,
      "message": "This is still pretty vague to my eyes, and I\u0027m not sure it belongs up here.  As I understand the problem you are trying to address, it is that the Sign method didn\u0027t pass on the full SignerOpts type, just the value of the HashFunc method.  But the Sign method does explicitly say that the type may matter.  That already seems like a more general comment than this paragraph adds.  Perhaps we just need to add, in the comment about Sign, something like\n\nBecause Sign may type assert opts, when wrapping a Signer with another Signer, you must pass down the opts value, not just the result of calling opts.HashFunc.",
      "revId": "23bb2fb5737f0f9734981f2ab5bcb7fe0b18388c",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9804e05_08b10ed2",
        "filename": "src/crypto/crypto.go",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 11715
      },
      "writtenOn": "2019-02-04T21:10:23Z",
      "side": 1,
      "message": "This is not just about wrappers. The final concrete implementation might be an HSM, so there might not be an actual *rsa.PrivateKey, so I wanted to encode the requirement that the behavior has to be the same. Carrying the type of opts in wrappers is important, but not necessarily enough if the final concrete implementation does not look at it.\n\nThe docs of (*rsa.PrivateKey).Sign are pretty good, so I wanted to redirect to them.",
      "parentUuid": "bdeac3ce_7a2a00ef",
      "revId": "23bb2fb5737f0f9734981f2ab5bcb7fe0b18388c",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7891874_2d73c35a",
        "filename": "src/crypto/crypto.go",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-02-05T00:55:44Z",
      "side": 1,
      "message": "It\u0027s your call but I still find the text in the CL to be vague, and specific to Sign rather than to the overall Signer interface.",
      "parentUuid": "c9804e05_08b10ed2",
      "revId": "23bb2fb5737f0f9734981f2ab5bcb7fe0b18388c",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}