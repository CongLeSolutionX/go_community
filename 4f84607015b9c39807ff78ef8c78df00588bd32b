{
  "comments": [
    {
      "key": {
        "uuid": "5c6a4eda_77b69024",
        "filename": "src/cmd/link/internal/ld/ar.go",
        "patchSetId": 5
      },
      "lineNbr": 110,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "This makes me nervous because it silently truncates values, which could cause inexplicable behavior given a corrupt archive map.  I would rather change archiveMap and load to use int, and check for truncation in readArmap.",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_37b01823",
        "filename": "src/cmd/link/internal/ld/ar.go",
        "patchSetId": 5
      },
      "lineNbr": 141,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "Another silent truncation, albeit less serious.",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_779f708a",
        "filename": "src/cmd/link/internal/ld/go.go",
        "patchSetId": 5
      },
      "lineNbr": 42,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "You lost the return here (and the Debug[\u0027u\u0027] check though perhaps that is elsewhere now).",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_d78d1c61",
        "filename": "src/cmd/link/internal/ld/ldelf.go",
        "patchSetId": 5
      },
      "lineNbr": 597,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "This truncation should be checked.",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_57834c31",
        "filename": "src/cmd/link/internal/ld/ldelf.go",
        "patchSetId": 5
      },
      "lineNbr": 977,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "Check truncation.",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_7788d04a",
        "filename": "src/cmd/link/internal/ld/ldelf.go",
        "patchSetId": 5
      },
      "lineNbr": 980,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "Check truncation.",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7723d90_faf561a3",
        "filename": "src/cmd/link/internal/ld/link.go",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 5846
      },
      "writtenOn": "2016-03-16T14:28:32Z",
      "side": 1,
      "message": "Maybe its not applicable here since i have yet to understand the full patch. But would it be possible to mmap as MAP_PRIVATE and just write to the mmap discarding or save the contents when the mmap is closed as necessary?",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_d7a75cd4",
        "filename": "src/cmd/link/internal/ld/link.go",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 5030
      },
      "writtenOn": "2016-03-16T14:33:35Z",
      "side": 1,
      "message": "The slice s.P is a part of the mmap\u0027ed file. The linker significantly grows s.P, so that it would overwrite other real data. \n\nI suspect the linker\u0027s use of s.P can be rearranged so that it is possible, but it requires more work to get there.",
      "parentUuid": "f7723d90_faf561a3",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_1a09797d",
        "filename": "src/cmd/link/internal/ld/link.go",
        "patchSetId": 5
      },
      "lineNbr": 80,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "As far as I can see you can adopt this MAP_PRIVATE suggestion by just changing a few lines in the reader code.  In ldelf.go, change `s.P \u003d s.P[:sect.size]` to `s.P \u003d s.P[:sect.size:sect.size]`, and similarly in ldmacho.go, ldpe.go, objfile.go.",
      "parentUuid": "5c6a4eda_d7a75cd4",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_9ab1090f",
        "filename": "src/cmd/link/internal/ld/read_unix.go",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "I think you have to say either \"unmapped\" or \"unmmaped\".  I don\u0027t think you can say \"unmaped\".",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6a4eda_5abdb1dc",
        "filename": "src/cmd/link/internal/ld/read_unix.go",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-03-16T17:11:10Z",
      "side": 1,
      "message": "s/earlier to/earlier/",
      "revId": "4f84607015b9c39807ff78ef8c78df00588bd32b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}