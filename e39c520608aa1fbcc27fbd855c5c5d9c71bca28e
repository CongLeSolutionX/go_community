{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "63081be8_9496b86a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19560
      },
      "writtenOn": "2021-04-07T16:24:37Z",
      "side": 1,
      "message": "TRY\u003ddragonfly-amd64-5_8",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd16ab97_1006b307",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 30903
      },
      "writtenOn": "2021-04-07T16:42:56Z",
      "side": 1,
      "message": "\u003e Patch Set 2: TryBot-Result-1\n\u003e \n\u003e 1 of 24 SlowBots failed:\n\u003e Failed on dragonfly-amd64-5_8: https://storage.googleapis.com/go-build-log/e39c5206/dragonfly-amd64-5_8_fdb77e72.log\n\u003e \n\u003e Consult https://build.golang.org/ to see whether they are new failures. Keep in mind that TryBots currently test *exactly* your git commit, without rebasing. If your commit\u0027s git parent is old, the failure might\u0027ve already been fixed.\n\u003e \n\u003e SlowBot builds that ran:\n\u003e * dragonfly-amd64-5_8\n\nLooks like fixed the old issue but failed because of anohter issue. The information seems not useful, what else could I do to further verify the failure? Any suggestions?",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "675ffe88_9e2a46e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19560
      },
      "writtenOn": "2021-04-07T18:13:54Z",
      "side": 1,
      "message": "I tried to run the test in gdb on my DragonflyBSD system with this CL applied:\n \n[tklauser@dragonflybsd ~/src/go/src]$ ./make.bash\n[tklauser@dragonflybsd ~/src/go/src]$ ../bin/go test -c runtime/cgo\n[tklauser@dragonflybsd ~/src/go/src]$ ./cgo.test \nSegmentation fault (core dumped)\n[tklauser@dragonflybsd ~/src/go/src]$ gdb -c cgo.test.core -- cgo.test\nGNU gdb (GDB) 7.6.1\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u003chttp://gnu.org/licenses/gpl.html\u003e\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-dragonfly\".\nFor bug reporting instructions, please see:\n\u003chttp://bugs.dragonflybsd.org/\u003e...\nReading symbols from /home/tklauser/src/go/src/cgo.test...done.\n[New process 1]\nCore was generated by `cgo.test\u0027.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x00000008006bba82 in sigblockall () from /lib/libc.so.8\n(gdb) bt\n#0  0x00000008006bba82 in sigblockall () from /lib/libc.so.8\n#1  0x00000008006d3dd0 in malloc () from /lib/libc.so.8\n#2  0x000000080065aa94 in pthread_attr_init () from /usr/lib/libpthread.so.0\n#3  0x000000000040104b in x_cgo_init ()\n#4  0x0000000000000000 in ?? ()\n(gdb)\n\nNot sure what to make of this. Maybe Ian can help?",
      "parentUuid": "bd16ab97_1006b307",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a944552c_45c6b828",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5206
      },
      "writtenOn": "2021-04-07T22:17:04Z",
      "side": 1,
      "message": "I\u0027m not sure.  Why does it crash?\n\nIt\u0027s possible that we don\u0027t really support internal linking on dragonfly.",
      "parentUuid": "675ffe88_9e2a46e5",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93b913da_9986a0ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19560
      },
      "writtenOn": "2021-04-09T14:37:33Z",
      "side": 1,
      "message": "I\u0027m not sure why it crashes. But it could be related to DragonflyBSD using a per-thread shared page to block/unblock all signals: https://github.com/DragonFlyBSD/DragonFlyBSD/commit/721505dec240\n\nMy understanding from that commit is that this is what is implemented in sigblockall, which is where we get the segfault.",
      "parentUuid": "a944552c_45c6b828",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6a213e56_54c9e8cb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5206
      },
      "writtenOn": "2021-04-13T00:31:25Z",
      "side": 1,
      "message": "I took a look at this.  I think that sigblockall is crashing because thread local storage has not been initialized.  I didn\u0027t look but I assume that on Dragonfly thread local storage is set up by the dynamic linker, not by libc.\n\nI sent CL 309571 as an alternative.",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7c6eb56_90b56eab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 30903
      },
      "writtenOn": "2021-04-13T06:20:18Z",
      "side": 1,
      "message": "Thanks for invest more time! and sorry for causing the trouble..",
      "parentUuid": "6a213e56_54c9e8cb",
      "revId": "e39c520608aa1fbcc27fbd855c5c5d9c71bca28e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}