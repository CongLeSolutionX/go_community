{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6e41a6b0_7b72c82e",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-02-20T05:43:19Z",
      "side": 1,
      "message": "What about adjusting sys.AdditionalInheritedHandles for different parent? Who will adjust them?",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b91fef7_2438b1a6",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 20556
      },
      "writtenOn": "2021-02-20T12:30:13Z",
      "side": 1,
      "message": "Look closely. StartProcess handles this very carefully, choosing the correct parent for duplication.",
      "parentUuid": "6e41a6b0_7b72c82e",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f361a712_278fc60c",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-02-20T22:16:08Z",
      "side": 1,
      "message": "I did look again. I still don\u0027t see how sys.AdditionalInheritedHandles are adjusted for different parent. Which lines do adjusting?",
      "parentUuid": "7b91fef7_2438b1a6",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2efbcaba_0ce00cfb",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 20556
      },
      "writtenOn": "2021-02-20T22:20:57Z",
      "side": 1,
      "message": "DuplicateHandle duplicates those handles into the parent process instead of the current process, if a different parent is set.",
      "parentUuid": "f361a712_278fc60c",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a7e5d22_aa4bdc0f",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-02-20T22:36:54Z",
      "side": 1,
      "message": "If you mean DuplicateHandle on line 323, then it is only applied on handles in attr.Files. sys.AdditionalInheritedHandles and not listed in attr.Files. Should sys.AdditionalInheritedHandles handles should also be adjusted when parent change?",
      "parentUuid": "2efbcaba_0ce00cfb",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34183a62_d8908e4c",
        "filename": "src/syscall/exec_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 351,
      "author": {
        "id": 20556
      },
      "writtenOn": "2021-02-20T23:02:51Z",
      "side": 1,
      "message": "Oh, I\u0027m sorry - I misunderstood your question.\n\nIndeed it\u0027s up to the caller to make sure that the additional raw handles are already part of the parent process. This is, in fact, the only way that this API is useful. When you duplicate a handle, the integer value of it changes, which means it can\u0027t be passed to a new process as part of a command line. That means we must not call duplicatehandle on handles passed in.",
      "parentUuid": "9a7e5d22_aa4bdc0f",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 47
      },
      "revId": "94cc70c131c7691e525b924b077e613621ed976e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}