{
  "comments": [
    {
      "key": {
        "uuid": "fc0a7fe0_bdae6cc7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-04-06T16:29:06Z",
      "side": 1,
      "message": "Given how much discussion it took me to understand this, I think the commit message should be expanded a bit. :)\n\nSomething along the lines of:\n\nCurrently, the linker msyncs before munmapping the output file. The original intent of this was to ensure the mmaped IO was coherent with the read/write-based IO later in the linker. Now that we do all IO through mmap, this is no longer necessary. msync also theoretically let us report IO errors to the user, but in practice IO errors (like the disk being full) were likely to cause a SIGBUS during page faulting, crashing the linker unceremoniously long before the msync. The final reason for msync, ensuring durability, we never actually cared about because the linker\u0027s output can easily be recreated. Since there\u0027s no longer any reason to msync and msyncs are incredibly expensive, this CL eliminates them.\n\n(Except this isn\u0027t actually true yet because we haven\u0027t eliminated read/write-based IO. Hence why we need to do that first.)",
      "revId": "9aa80e15d10972e9d1b6b0631b00ada45ef53dd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}