{
  "comments": [
    {
      "key": {
        "uuid": "4e403ed3_c07179ce",
        "filename": "src/runtime/cgo/gcc_aix_ppc64.c",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-03-26T20:09:19Z",
      "side": 1,
      "message": "I don\u0027t understand this.  This makes it seem that any Go program that uses cgo will call _rt0_ppc64_aix_lib.  But _rt0_ppc64_aix_lib is for Go code built with -buildmode\u003dc-archive or c-shared, not for an ordinary Go program.  It doesn\u0027t look right to call it for all programs that use cgo.",
      "revId": "88751965897881700f68d6cd48c9a583644139a0",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4ad01b3_98540ed5",
        "filename": "src/runtime/cgo/gcc_aix_ppc64.c",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 27994
      },
      "writtenOn": "2019-03-27T08:09:03Z",
      "side": 1,
      "message": "Sadly, that\u0027s the case... But, if you look at _rt0_aix_ppc64.s:103, _rt0_ppc64_aix_lib returns if runtime.isarchive is not set (and it will do the same for runtime.islibrary once c-shared is implemented) \nAIX doesn\u0027t provide many options to automatically call this init function. \n - .init_array section doesn\u0027t exist\n - -Wl,-binitfini works in some case (as long as there is no C function with a constructor attribute). And it must be added to every C programs using Go archive... \n\nThat\u0027s not as smooth as on Linux, but as far as I know that\u0027s the best solution for AIX.",
      "parentUuid": "4e403ed3_c07179ce",
      "revId": "88751965897881700f68d6cd48c9a583644139a0",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9c0b3d0_a194521e",
        "filename": "src/runtime/cgo/gcc_aix_ppc64.c",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-03-27T13:55:32Z",
      "side": 1,
      "message": "Ah, tricky.  Please add a comment here explaining that.",
      "parentUuid": "b4ad01b3_98540ed5",
      "revId": "88751965897881700f68d6cd48c9a583644139a0",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}