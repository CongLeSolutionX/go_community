{
  "comments": [
    {
      "key": {
        "uuid": "8b94f722_3b4dc379",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 10820
      },
      "writtenOn": "2017-09-11T18:23:56Z",
      "side": 1,
      "message": "Ditto comment below -- I expect this will always be true.",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c62dc6cc_e3e84d23",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 23250
      },
      "writtenOn": "2017-09-11T23:25:03Z",
      "side": 1,
      "message": "Yes. This is true. However, I hated that wasteful execution of goroutine.",
      "parentUuid": "8b94f722_3b4dc379",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a51218f5_9b575b5a",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 10820
      },
      "writtenOn": "2017-09-11T18:23:56Z",
      "side": 1,
      "message": "+1 to needing a test. I\u0027m not sure this can ever be true because startBackgroundRead happens before conn.serve calls ServeHTTP, which is the thing that would callHijack.",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d0b7d7a_19a42737",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 23250
      },
      "writtenOn": "2017-09-11T23:25:03Z",
      "side": 1,
      "message": "This change is for avoiding execution if startBackgroundRead is registered by registerOnHitEOF in rare case.",
      "parentUuid": "a51218f5_9b575b5a",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e51ed6e7_3b5dbed1",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 10820
      },
      "writtenOn": "2017-09-12T00:39:42Z",
      "side": 1,
      "message": "I am confused. If this only fixes the case where startBackgroundRead happens after ServeHTTP (due to startBackgroundRead being called by onHitEOF), then why does the CL description mark the bug fixed?\n\nAlso, I am wondering if there is a different way to fix this that handles all cases at once?",
      "parentUuid": "9d0b7d7a_19a42737",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee954dc0_f96ffa49",
        "filename": "src/net/http/server.go",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 23250
      },
      "writtenOn": "2017-09-12T00:53:13Z",
      "side": 1,
      "message": "I\u0027m sorry. My explanation was inadequate.\nThis change is not associated with the github issue, and it ensures not to execute background process if hijacked. If this is not needed, I\u0027ll cut this change.",
      "parentUuid": "e51ed6e7_3b5dbed1",
      "revId": "6a05f6056d0a408463db8404a96d546eb311bac3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}