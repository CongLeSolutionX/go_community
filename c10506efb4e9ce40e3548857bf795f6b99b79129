{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "32b0b040_1fdb877a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-08-24T07:08:11Z",
      "side": 1,
      "message": "SlowBots beginning. Status page: https://farmer.golang.org/try?commit\u003dc10506ef\nNote that builder plan9-arm has known issues:\n\thttps://go.dev/issue/49338\n",
      "tag": "autogenerated:trybots~beginning",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d1afc46_6f17918f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-08-24T09:44:54Z",
      "side": 1,
      "message": "SlowBots are happy.\n\nSlowBot builds that ran:\n* plan9-arm\n* windows-amd64-2016\n",
      "parentUuid": "32b0b040_1fdb877a",
      "tag": "autogenerated:trybots~happy",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9e345d6_7eff401e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 34895
      },
      "writtenOn": "2023-08-24T20:54:56Z",
      "side": 1,
      "message": "Thanks.",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5954f59_7ca98f40",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T16:21:16Z",
      "side": 1,
      "message": "I find these method names pretty confusing. `mustUseGoResolver` seems to mean exactly the same thing as `isGoResolverForced`.\n\nIs there some reason these have to be two separate functions? If not, it seems simpler to keep the original name and move the `defer` in here:\n\n```\nfunc (c *conf) mustUseGoResolver(r *Resolver) (useGo bool) {\n\tif c.dnsDebugLevel \u003e 1 {\n\t\tdefer func() {\n\t\t\tprint(\"go package net: mustUseGoResolver() \u003d \", useGo, \"\\n\")\n\t\t}()\n\t}\n\t\n\t…\n}\n```",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fe8e69f_bcd585a8",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-25T16:30:44Z",
      "side": 1,
      "message": "yeah, but then the conf.go:220 would print the debug message.",
      "parentUuid": "e5954f59_7ca98f40",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a2803b3_27eb212c",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T16:49:16Z",
      "side": 1,
      "message": "Ok... so move the debug message into `(*Resolver).lookupPort` instead? AFAICT that\u0027s the only remaining caller of `mustUseGoResolver`:\nhttps://cs.opensource.google/search?q\u003dmustUseGoResolver\u0026ss\u003dgo%2Fgo",
      "parentUuid": "8fe8e69f_bcd585a8",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86c53ebc_bfe5e9d9",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-25T17:00:19Z",
      "side": 1,
      "message": "\u003e AFAICT that\u0027s the only remaining caller of mustUseGoResolver\n\nBut this change introduces like 10 more usages of mustUseGoResolver (lookup_windows.go, lookup_plan9.go)",
      "parentUuid": "4a2803b3_27eb212c",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8d77982_4355553f",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T17:31:43Z",
      "side": 1,
      "message": "I see. So what\u0027s the problem with having the debug logging present in the call from `lookupOrder`?\n\nIt seems like the `lookup` functions always either call at most one of `mustUseGoResolver`, `hostLookupOrder`, or `addrLookupOrder` — if that\u0027s the case, it wouldn\u0027t lead to duplicate debug messages.",
      "parentUuid": "86c53ebc_bfe5e9d9",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3e34c9e_5b8248ba",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-25T17:49:56Z",
      "side": 1,
      "message": "\u003e  I see. So what\u0027s the problem with having the debug logging present in the call from lookupOrder?\n\nIt is not needed there, `addrLookupOrder` and `hostLookupOrder` print the debugs.\nWhy would we print the result of `isGoResolverForced` in `lookupOrder`?\n\n\u003e It seems like the lookup functions always either call at most one of mustUseGoResolver, hostLookupOrder, or addrLookupOrder — if that\u0027s the case, it wouldn\u0027t lead to duplicate debug \n\nBut if we remove the `isGoResolverForced` and add the debug to `mustUseGoResolver`, then it would cause duplicate logs.\n\nhostLookupOrder (log) -\u003e lookupOrder -\u003e mustUseGoResolver (log).",
      "parentUuid": "c8d77982_4355553f",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94c74fce_7c2ac235",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-25T18:29:11Z",
      "side": 1,
      "message": "or do you mean to just remove the debug from `mustUseGoResolver` at all?",
      "parentUuid": "d3e34c9e_5b8248ba",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9070b7e_7d656e8e",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T21:09:17Z",
      "side": 1,
      "message": "\u003e But if we remove the `isGoResolverForced` and add the debug to `mustUseGoResolver`, then it would cause duplicate logs.\n\u003e\n\u003e hostLookupOrder (log) -\u003e lookupOrder -\u003e mustUseGoResolver (log).\n\n`hostLookupOrder` logs a different message from the one in `mustUseGoResolver`. They aren\u0027t strictly redundant.\n\nBut now I\u0027m even more confused: `addrLookupOrder` accepts an `addr` argument, but completely ignores it except for the logging. Why does it have that extra argument to begin with?\n\n\u003e or do you mean to just remove the debug from `mustUseGoResolver` at all?\n\nRemoving the debug print from `mustUseGoResolver` seems like a fine solution too.",
      "parentUuid": "94c74fce_7c2ac235",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1b1bc46_049ed14e",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 184,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-26T16:38:41Z",
      "side": 1,
      "message": "Ok, removed the debug from `mustUseGoResolver`.",
      "parentUuid": "e9070b7e_7d656e8e",
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c55266a3_608a5e72",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 210,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T16:21:16Z",
      "side": 1,
      "message": "This function always returns exactly the same result as `isGoResolverForced` — why does it have its own doc comment with a different description?",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 210,
        "endChar": 76
      },
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4d957ac_5761e94e",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 210,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-25T16:30:44Z",
      "side": 1,
      "message": "how would you change it? My point in the doc comment was that the `addrLookupOrder` and `hostLookupOrder` should be prevered over `mustUseGoResolver`.",
      "parentUuid": "c55266a3_608a5e72",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 210,
        "endChar": 76
      },
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4582ea9_912f0f9a",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 210,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-08-25T16:49:16Z",
      "side": 1,
      "message": "Nothing about `isGoResolverForced` is specific to “non-hostname and non-address resolutions”, and `addrLookupOrder` and `hostLookupOrder` both end up calling `isGoResolverForced` anyway.\n\nI would resolve this by deleting the new wrapper function and its comment and renaming `isGoResolverForced` back to `mustUseGoResolver`.",
      "parentUuid": "b4d957ac_5761e94e",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 210,
        "endChar": 76
      },
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad5c0674_59a905cd",
        "filename": "src/net/conf.go",
        "patchSetId": 3
      },
      "lineNbr": 210,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-08-26T16:38:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4582ea9_912f0f9a",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 210,
        "endChar": 76
      },
      "revId": "c10506efb4e9ce40e3548857bf795f6b99b79129",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}