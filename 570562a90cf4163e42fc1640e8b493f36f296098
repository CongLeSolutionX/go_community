{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e127d7a7_fb7eea03",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-11T09:11:41Z",
      "side": 1,
      "message": "Patch 2 removes an instruction via auto increment.\n\nAlso adding Jordan to the reviewers as he wrote the original code of this function.",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5b29a2db_2690296a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 32626
      },
      "writtenOn": "2020-11-11T12:53:37Z",
      "side": 1,
      "message": "LGTM",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e52c577_801aa347",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5070
      },
      "writtenOn": "2020-11-13T08:13:17Z",
      "side": 1,
      "message": "I do not know enough about arm assembler to review this.\n\nSorry.\n\nAlex",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a14248ad_05a543e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T15:21:48Z",
      "side": 1,
      "message": "Can you add somebody to the reviewers who might know?",
      "parentUuid": "8e52c577_801aa347",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4c46546_b765d9ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:01:24Z",
      "side": 1,
      "message": "Thanks for the review. New version coming up shortly.",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "619f177c_44b1993d",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-11-13T16:49:00Z",
      "side": 1,
      "message": "This function is already not working because of this. I think we may want to address this first.",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "231e5179_a0fa0fa7",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:01:24Z",
      "side": 1,
      "message": "I don\u0027t really know what \"this\" is, and it doesn\u0027t seem like a reason to hold up actual bug fixes here that have been tested on real hardware.",
      "parentUuid": "619f177c_44b1993d",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "552d918e_e06b2075",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-11-13T17:07:12Z",
      "side": 1,
      "message": "This function couldn\u0027t possibly work because cgocallback_gofunc no longer exists.\n\nBy \"this\" I meant the TODO.",
      "parentUuid": "231e5179_a0fa0fa7",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bdde3dd_0f42b1ec",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:08:18Z",
      "side": 1,
      "message": "Oh! Yowza. Is this a 1.16 regression or something?",
      "parentUuid": "552d918e_e06b2075",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6917b9dd_85e6e912",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-11-13T17:11:10Z",
      "side": 1,
      "message": "See CL 258938, where we reworked cgo callback path. You could call it a regression, in some sense. Due to the lack of builder we just couldn\u0027t keep the port up.",
      "parentUuid": "1bdde3dd_0f42b1ec",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b7e4603_ea8c1e2f",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:13:02Z",
      "side": 1,
      "message": "\"The lack of builder\" -- I have a builder and volunteer it to the Go team. If only you guys would take me up on that offer.\n\nAnyway, if you want to take a stab at fixing that regression, I\u0027ll test the patches.",
      "parentUuid": "6917b9dd_85e6e912",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d034799_216ba4d2",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-11-13T18:42:08Z",
      "side": 1,
      "message": "Hi Jason. My understanding is that the releases team has been working with Microsoft for some time now to sort out the licenses to run windows/arm builders, but I don\u0027t know the status there.\n\nWhen I made the cgo change, I tried to fix the windows/arm port by running it in the windows/arm64 VM you sent us a while ago, but every windows/arm binary I tried to run crashed immediately, even from versions of Go where I thought windows/arm support was stable, so I figured I just didn\u0027t know what I was doing and that wasn\u0027t how you run windows/arm binaries.\n\nOn the technical side, with CL 258938, we\u0027re actually in a much *better* place to support windows/arm callbacks with any number of arguments because the frame layout doesn\u0027t have to be contiguous or compatible with Go\u0027s frame layout.",
      "parentUuid": "4b7e4603_ea8c1e2f",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01d277b9_8f936690",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 34411
      },
      "writtenOn": "2020-11-13T20:07:03Z",
      "side": 1,
      "message": "Carlos from the release team here. Hi Jason! We appreciate your offer to provide a builder. Unfortunately, due to license constraints, we don\u0027t believe we are able to accept it until we hear back from various legal teams, which we\u0027re expecting by the end of the year.",
      "parentUuid": "5d034799_216ba4d2",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "981db648_21c0e8c1",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T20:17:33Z",
      "side": 1,
      "message": "Hi Austin --\n\nHuh, that\u0027s pretty weird about _every binary_ crashing. I wonder if there are other regressions in 1.16? Did you try any 1.15 binaries? I\u0027ve been developing a 1.15-based windows/arm application (wireguard) for the last few weeks with great success, modulo the things I\u0027ve sent CLs for.\n\nIf you\u0027ve got some draft code of what you think the windows/arm situation should look like for this file, I can run it (on real hardware, rather than the VM) and see, and if there are problems maybe polish it if I can figure out what\u0027s going on, or revert back to you.",
      "parentUuid": "01d277b9_8f936690",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ed232bb_4d4f5804",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 5070
      },
      "writtenOn": "2020-11-13T20:22:19Z",
      "side": 1,
      "message": "Carlos,\n\nThank you for your comment about the builder. But why we cannot buy windows/arm64 machine and use it as builder? Would that work?\n\nGo Team uses many machines provided by volunteers. windows/arm64 could be just one of them. No?",
      "parentUuid": "981db648_21c0e8c1",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d03876a5_b33ceed0",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 34411
      },
      "writtenOn": "2020-11-13T21:00:02Z",
      "side": 1,
      "message": "That\u0027s a great question Alex. We should move this discussion over to golang.org/issue/38607",
      "parentUuid": "2ed232bb_4d4f5804",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e450b1fa_b552bc1b",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-11-13T21:09:53Z",
      "side": 1,
      "message": "I was just trying a \"hello world\" binary, too. The behavior was really strange. It would appear to do nothing for many seconds and then I\u0027d get a crash dialog with no particular information (I don\u0027t remember the details, though I\u0027m sure I could reproduce it if that would be helpful). I tried building with every major Go version I think back to 1.13 and the binary did the exact same thing every time (I had to check I was in fact copying new binaries into the VM!).\n\nI can try writing a draft of the fix. Based on my experience doing this for the other platforms, I almost certainly won\u0027t get it right the first time, but maybe I can get it close enough for you to polish. I won\u0027t try to support more than the current 4 arguments; just to get it working first.",
      "parentUuid": "d03876a5_b33ceed0",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e38ef38_da2db6a4",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T22:04:46Z",
      "side": 1,
      "message": "Alex, Carlos - this is a case in which I purchased actual arm64 hardware for this purpose with my own money. Why google refuses to accept it doesn\u0027t make sense to me.",
      "parentUuid": "e450b1fa_b552bc1b",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45a957ff_97c8bc63",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T22:06:16Z",
      "side": 1,
      "message": "Austin, that does seem weird, and not my experience with Go 1.15. Anyway, send me a draft and I\u0027ll try to get it into shape and expand it to 8 args, per this CL.",
      "parentUuid": "5e38ef38_da2db6a4",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ebfb412_6cafcb0c",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 5070
      },
      "writtenOn": "2020-11-14T08:21:09Z",
      "side": 1,
      "message": "Carlos, replied at golang/go#42584.\n\nAlex",
      "parentUuid": "45a957ff_97c8bc63",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52925dff_f5b15d8a",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 32626
      },
      "writtenOn": "2020-11-16T23:21:09Z",
      "side": 1,
      "message": "Austin, I remember having exactly the same experience with GOOS\u003dwindows and GOARCH\u003darm. Every binary crashed on Windows 10 ARM64.\n\nUntil I set GOARM\u003d7. Other than things Jason fixed and submitted CR here, it works.",
      "parentUuid": "3ebfb412_6cafcb0c",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45826cca_bc7d6d72",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 319,
      "author": {
        "id": 5167
      },
      "writtenOn": "2021-04-14T13:23:43Z",
      "side": 1,
      "message": "Done: golang.org/cl/271178\n\n(This comment has been sitting in my drafts since November. Oops. Still relevant, though.)",
      "parentUuid": "45a957ff_97c8bc63",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 319,
        "endChar": 38
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c536ab8_81179d80",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 321,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-11-13T16:49:00Z",
      "side": 1,
      "message": "I think it is better to have some comment about the frame layout. Otherwise it is hard to track the numbers.\n\nI think this includes 4*8\u003d32 bytes for args, and 16 bytes for the args of cgocallback_gofunc? What is the rest 4 bytes?",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c37817e_9a45b684",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 321,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:01:24Z",
      "side": 1,
      "message": "It was 36 before, and I needed 16 more, so I added 16 to the original 36 to arrive at 52.\n\nIt looks to me like 16 bytes for cgocallback_gofunc + 32 for the C arguments + 4 for the return value.\n\nI\u0027ll make a comment about that in the source.",
      "parentUuid": "8c536ab8_81179d80",
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "106507b9_c1551369",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 327,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-11-13T16:49:00Z",
      "side": 1,
      "message": "Maybe 4*9+52.",
      "range": {
        "startLine": 327,
        "startChar": 6,
        "endLine": 327,
        "endChar": 8
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0842202_8aae3d1e",
        "filename": "src/runtime/sys_windows_arm.s",
        "patchSetId": 2
      },
      "lineNbr": 327,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-11-13T17:01:24Z",
      "side": 1,
      "message": "Good idea.",
      "parentUuid": "106507b9_c1551369",
      "range": {
        "startLine": 327,
        "startChar": 6,
        "endLine": 327,
        "endChar": 8
      },
      "revId": "570562a90cf4163e42fc1640e8b493f36f296098",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}