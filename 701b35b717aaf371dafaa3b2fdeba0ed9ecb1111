{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "326f9645_f1d61367",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-12-09T14:45:51Z",
      "side": 1,
      "message": "This change also needs a regression test.\n\nFollowing the approach in CL 255018, the test could set CC to some script (or Go program) that verifies that its first argument is \"cc\", strips that argument, and then invokes the real compiler with the remaining arguments.",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de84ebdc_30fbe190",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 27609
      },
      "writtenOn": "2020-12-09T19:12:45Z",
      "side": 1,
      "message": "I could use some help writting the test.\n\nI see tests doing \"-- $WORK/m.go --\" with content below and magically it works. But when I try doing the same it doesn\u0027t?",
      "parentUuid": "326f9645_f1d61367",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80253657_0acb95f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-12-09T21:22:03Z",
      "side": 1,
      "message": "The tests are in the txtar format (https://pkg.go.dev/golang.org/x/tools/txtar#hdr-Txtar_format), with $GOPATH/src as the initial working directory. The rest of the format and supported environment variables are described in cmd/go/testdata/script/README.",
      "parentUuid": "de84ebdc_30fbe190",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "253b5726_c74e7602",
        "filename": "src/cmd/go/internal/envcmd/env.go",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-12-09T14:41:36Z",
      "side": 1,
      "message": "This is where we are assuming that the first two args are `-I` and incdir.\n\nWe should probably either remove that assumption, or explicitly validate it (i.e. by panicking if cmd[1] !\u003d \"-I\").",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "559fc00e_184d3f21",
        "filename": "src/cmd/go/internal/envcmd/env.go",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 27609
      },
      "writtenOn": "2020-12-09T17:24:41Z",
      "side": 1,
      "message": "Would removing the assumption be a \"cmd[1:]\" or a \"cmd\"?",
      "parentUuid": "253b5726_c74e7602",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14b08e07_c0a0153d",
        "filename": "src/cmd/go/internal/envcmd/env.go",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 6365
      },
      "writtenOn": "2020-12-09T18:39:07Z",
      "side": 1,
      "message": "Probably neither..?\n\nIf we\u0027re looking for flags specifically, we should probably iterate over `cmd` until we find something beginning with `-`. But it\u0027s not clear to me why we want to omit the `-I \u003cincdir\u003e` flag in the first place, given that we do want to include the other flags added by compilerCmd.\n\nProbably the cleanest approach is to refactor (*Builder).compilerCmd into two methods: one returning the full command line, and the other returning only the path-insensitive additional flags.\n\n(That could help with #42628 too.)",
      "parentUuid": "559fc00e_184d3f21",
      "revId": "701b35b717aaf371dafaa3b2fdeba0ed9ecb1111",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}