{
  "comments": [
    {
      "key": {
        "uuid": "0b996437_e361f21b",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-05-21T15:34:40Z",
      "side": 1,
      "message": "What about just comparing -c\u003d1 and -c\u003dN builds (without setting debug flags)?",
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04ea69b4_6b5fe87c",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 14020
      },
      "writtenOn": "2020-05-27T11:42:23Z",
      "side": 1,
      "message": "That would have essentially the same effect, so yes, I suppose it\u0027s probably better to avoid the obscure flags.",
      "parentUuid": "0b996437_e361f21b",
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31ad5593_36dd8052",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-05-21T15:34:40Z",
      "side": 1,
      "message": "What does this do?",
      "range": {
        "startLine": 83,
        "startChar": 28,
        "endLine": 83,
        "endChar": 55
      },
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76159c81_84b3cc8d",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 14020
      },
      "writtenOn": "2020-05-27T11:42:23Z",
      "side": 1,
      "message": "Turns off the parallel back end.",
      "parentUuid": "31ad5593_36dd8052",
      "range": {
        "startLine": 83,
        "startChar": 28,
        "endLine": 83,
        "endChar": 55
      },
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8492fdfa_462c8599",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 13315
      },
      "writtenOn": "2020-05-21T15:34:40Z",
      "side": 1,
      "message": "Would it suffice to just run the compiler, not the linker, and compare the object files?",
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9959fbcb_e9ae3cc3",
        "filename": "src/cmd/compile/internal/gc/reproduciblebuilds_test.go",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 14020
      },
      "writtenOn": "2020-05-27T11:42:23Z",
      "side": 1,
      "message": "That was what I did in the original version, but I wound up with diffs even with the bugfix due to the way the go command works. The current go command computes the build ID based on command line flags, so if you do something like\n\ngo build -o libc1.a -gcflags\u003d-c\u003d1 mypackage.go \ngo build -o libc2.a -gcflags\u003d-c\u003d2 mypackage.go \n\nyou get a binary diff between the two *.a files even with the bugfix, since the build IDs generated by the Go command were different. The package build ID gets discarded when it is linked into a binary, however, so I decided I would have a testcase that does a full link.\n\nI think maybe the right approach is to just run \"go tool compile\" and not try to use the go command in this test. I\u0027ll work on it a bit and see if I can create a new version that doesn\u0027t use \"go build\".",
      "parentUuid": "8492fdfa_462c8599",
      "revId": "bdbb0b3305be5d946c36307683c716cac511704b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}