{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "aabf13c9_3803afec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-08-12T15:27:22Z",
      "side": 1,
      "message": "Superseded.",
      "parentUuid": "6063330c_49665a82",
      "tag": "autogenerated:trybots~beginning",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1796e27_4c97133d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-08-12T15:27:22Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003d4888bcc6",
      "tag": "autogenerated:trybots~beginning",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18bb9932_a1225c8b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-08-12T15:38:42Z",
      "side": 1,
      "message": "1 of 25 TryBots failed.\nFailed on linux-arm-aws: https://storage.googleapis.com/go-build-log/4888bcc6/linux-arm-aws_be3d4d59.log\n\nConsult https://build.golang.org/ to see whether they are new failures. Keep in mind that TryBots currently test *exactly* your git commit, without rebasing. If your commit\u0027s git parent is old, the failure might\u0027ve already been fixed.\n\n",
      "parentUuid": "b1796e27_4c97133d",
      "tag": "autogenerated:trybots~failed",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c98d2ef_35620bc0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 28783
      },
      "writtenOn": "2021-08-12T15:51:47Z",
      "side": 1,
      "message": "OK, this is ready for review - changing -G\u003d3 to be the default.\n\nThe change in line.go is what was needed to fix the plugin test (which was breaking, see build failures on patch set 1).  Basically, during noder2, types2 types/variables from the standard library have Pos file names that already have the $GOROOT prefix.  But objabi.AbsFile() doesn\u0027t actually deal correctly when a file name already has the $GOROOT prefix - it thinks the file name is a relative name and adds the current working directory to the beginning.  Which means that the compilation can depend on the current working directory, when it shouldn\u0027t.\n\nI tried fixing the problem in noder.makeSrcPosBase() (see my Patchset 3) rather than objabiAbsFile(), and the plugin test worked fine locally, but somehow failed on trybots.  So I went back to making the fix directly in objabi.AbsFile().\n\n\n",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c862a5d1_7bc41b9b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5210
      },
      "writtenOn": "2021-08-12T16:24:38Z",
      "side": 1,
      "message": "mdempsky may have opinions on run.go as he\u0027s been making most changes there lately",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf93a3f6_5f3687de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5440
      },
      "writtenOn": "2021-08-12T19:14:07Z",
      "side": 1,
      "message": "I think noder/posmap.go just needs to be changed to use \u0027fileh\u0027 instead of \u0027absFilename\u0027. The change to objabi shouldn\u0027t be necessary.",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a24a14d_c13d3c33",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 28783
      },
      "writtenOn": "2021-08-12T20:18:41Z",
      "side": 1,
      "message": "Thanks for the comment/suggestion!  But I\u0027m still unclear here.\n\nIf you do something like \u0027go tool compile -o pkg.a 235.go\u0027 (which run.go does), then you will get a relative path \u0027235.go\u0027 coming into makeSrcPosBase().  So, it is actually OK to use fileh() (which doesn\u0027t make relative paths be absolute) in makeSrcPosBase().  Seems like we will end up with Pos information that can have relative filenames.  Is that generally OK/expected?\n\nI\u0027m not sure of the spec for position information written out to an object file.  I would think we would want absolute file names in the position info, which means we should be using absFilename() in both calls in makeSrcPosBase(), and fix things up so $GOROOT works correctly.",
      "parentUuid": "bf93a3f6_5f3687de",
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90c5ca79_ff1b7c6a",
        "filename": "src/cmd/internal/objabi/line.go",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 5210
      },
      "writtenOn": "2021-08-12T16:24:38Z",
      "side": 1,
      "message": "factor out \"$GOROOT/\" as a (local) constant, use it above and use len(constant) here instead of hard-wiring 8 ?\n\nAlso, does buildcfg.GOROOT contain a trailing / or not?\n\nShould this be using filepath.Join()?",
      "range": {
        "startLine": 41,
        "startChar": 33,
        "endLine": 41,
        "endChar": 34
      },
      "revId": "4888bcc61f3bce995cfcf18bebde786faf89394f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}