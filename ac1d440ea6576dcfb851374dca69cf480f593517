{
  "comments": [
    {
      "key": {
        "uuid": "88756c24_81e77a9b",
        "filename": "src/runtime/netpoll_kqueue.go",
        "patchSetId": 15
      },
      "lineNbr": 115,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-03T14:42:56Z",
      "side": 0,
      "message": "am I understanding correctly that these lines weren\u0027t actually needed before because kevent will block until it actually dequeues something, and so toRun will necessarily always get populated?",
      "range": {
        "startLine": 113,
        "startChar": 1,
        "endLine": 115,
        "endChar": 2
      },
      "revId": "ac1d440ea6576dcfb851374dca69cf480f593517",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05a774f5_953c0f1d",
        "filename": "src/runtime/netpoll_kqueue.go",
        "patchSetId": 15
      },
      "lineNbr": 115,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-10-04T04:51:14Z",
      "side": 0,
      "message": "I think that with the old code you could have an event on a file descriptor that the program is no longer interested in, in which case netpollready would not add anything to toRun, so toRun could indeed be empty here.  It wouldn\u0027t hurt to return an empty list, but since the caller expects to block anyhow it\u0027s more efficient to loop here.",
      "parentUuid": "88756c24_81e77a9b",
      "range": {
        "startLine": 113,
        "startChar": 1,
        "endLine": 115,
        "endChar": 2
      },
      "revId": "ac1d440ea6576dcfb851374dca69cf480f593517",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a52e084c_5449e8b5",
        "filename": "src/runtime/netpoll_windows.go",
        "patchSetId": 15
      },
      "lineNbr": 94,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-03T14:42:56Z",
      "side": 0,
      "message": "so previously this would fail if the syscall failed, we got a WAIT_TIMEOUT, and it was non-blocking. looking at the MSDN docs for GetQueuedCompletionStatusEx it says that it will \"time out immediately\" if wait \u003d\u003d 0, but I assume it only returns a failure flag if it failed to populate entries? if that\u0027s the case, was this ever an issue before?",
      "range": {
        "startLine": 94,
        "startChar": 6,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "ac1d440ea6576dcfb851374dca69cf480f593517",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b3b406e_a9e21f3a",
        "filename": "src/runtime/netpoll_windows.go",
        "patchSetId": 15
      },
      "lineNbr": 94,
      "author": {
        "id": 5206
      },
      "writtenOn": "2019-10-04T04:51:14Z",
      "side": 0,
      "message": "I\u0027m not sure I follow.  If the call fails, and we get a WAIT_TIMEOUT, and we are non-blocking, we return an empty list.  The throw happens if we get any other error.  I\u0027m not aware of any reported problems with this code.",
      "parentUuid": "a52e084c_5449e8b5",
      "range": {
        "startLine": 94,
        "startChar": 6,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "ac1d440ea6576dcfb851374dca69cf480f593517",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af60318e_d67681ab",
        "filename": "src/runtime/netpoll_windows.go",
        "patchSetId": 15
      },
      "lineNbr": 94,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-07T15:52:51Z",
      "side": 0,
      "message": "ah, I think I may have just confused myself here. looking at this again it makes sense to me.",
      "parentUuid": "4b3b406e_a9e21f3a",
      "range": {
        "startLine": 94,
        "startChar": 6,
        "endLine": 94,
        "endChar": 16
      },
      "revId": "ac1d440ea6576dcfb851374dca69cf480f593517",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}