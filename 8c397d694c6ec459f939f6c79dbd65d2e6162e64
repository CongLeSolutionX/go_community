{
  "comments": [
    {
      "key": {
        "uuid": "5515d352_b68070f2",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 815,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-22T17:42:38Z",
      "side": 1,
      "message": "You shouldn\u0027t need an int32 cast here.\nSame for these 8 rules. On the RHS you can just do, [-c] or [^c] as appropriate.",
      "range": {
        "startLine": 815,
        "startChar": 85,
        "endLine": 815,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fa343d4_d92c839a",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 815,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-24T05:34:27Z",
      "side": 1,
      "message": "Removed except for ^int32 where type check fails with:\nsrc/cmd/compile/internal/ssa/rewriteARM.go:2538:28: cannot use ^uint32(c) (type uint32) as type int32 in argument to int32ToAuxInt\nsrc/cmd/compile/internal/ssa/rewriteARM.go:2552:28: cannot use ^uint32(c) (type uint32) as type int32 in argument to int32ToAuxInt\nsrc/cmd/compile/internal/ssa/rewriteARM.go:3033:28: cannot use ^uint32(c) (type uint32) as type int32 in argument to int32ToAuxInt\nsrc/cmd/compile/internal/ssa/rewriteARM.go:3047:28: cannot use ^uint32(c) (type uint32) as type int32 in argument to int32ToAuxInt",
      "parentUuid": "5515d352_b68070f2",
      "range": {
        "startLine": 815,
        "startChar": 85,
        "endLine": 815,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54e45c2b_b24a9009",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 815,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-24T21:04:20Z",
      "side": 1,
      "message": "Just do ^c, not ^uint32(c)",
      "parentUuid": "6fa343d4_d92c839a",
      "range": {
        "startLine": 815,
        "startChar": 85,
        "endLine": 815,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "677b89de_28c48d78",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 823,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-22T17:42:38Z",
      "side": 1,
      "message": "Same in this group. The int32 cast is unnecessary for all the rules here, except the shifts. I think some of those can lose the int32 casts as well, except the right unsigned shifts.",
      "range": {
        "startLine": 823,
        "startChar": 46,
        "endLine": 823,
        "endChar": 56
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f2abd89_0cc008a3",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 823,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-24T05:34:27Z",
      "side": 1,
      "message": "Operations on uint and shifts (left or right) don\u0027t succeed.",
      "parentUuid": "677b89de_28c48d78",
      "range": {
        "startLine": 823,
        "startChar": 46,
        "endLine": 823,
        "endChar": 56
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c33b5e2_2b232a5a",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 823,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-24T21:04:20Z",
      "side": 1,
      "message": "You don\u0027t need to cast to uint32 to do a left shift. For example, this should work:\n\n(SLLconst [c] (MOVWconst [d])) \u003d\u003e (MOVWconst [int32(uint32(d)\u003c\u003cuint64(c))])\n\nto \n\n(SLLconst [c] (MOVWconst [d])) \u003d\u003e (MOVWconst [d\u003c\u003cuint64(c)])\n\nOnly for SRL needs the uint32 cast, so it shifts in zeroes from the top. For SRA shifting in the sign bit is what we want, and for SLL we\u0027re shifting bits out so the sign doesn\u0027t matter.",
      "parentUuid": "3f2abd89_0cc008a3",
      "range": {
        "startLine": 823,
        "startChar": 46,
        "endLine": 823,
        "endChar": 56
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed0da34d_4e07b399",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 847,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-22T17:42:38Z",
      "side": 1,
      "message": "The unsigned divides do need the int32 cast as well.",
      "range": {
        "startLine": 847,
        "startChar": 68,
        "endLine": 847,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8429d17d_45d20877",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 847,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-24T05:34:27Z",
      "side": 1,
      "message": "The only change was the removal of the int64() cast which seems appropriate.",
      "parentUuid": "ed0da34d_4e07b399",
      "range": {
        "startLine": 847,
        "startChar": 68,
        "endLine": 847,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9cd67b5_c2fa454c",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 847,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-24T21:04:20Z",
      "side": 1,
      "message": "Right. (This was just a comment that you can\u0027t remove the int32 cast here, as we do need unsigned behavior in this rule.)",
      "parentUuid": "8429d17d_45d20877",
      "range": {
        "startLine": 847,
        "startChar": 68,
        "endLine": 847,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "297be7e6_e9ac16b9",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 847,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-26T16:35:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d9cd67b5_c2fa454c",
      "range": {
        "startLine": 847,
        "startChar": 68,
        "endLine": 847,
        "endChar": 94
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b85dc3ff_7b9e0b79",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 856,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-22T17:42:38Z",
      "side": 1,
      "message": "int32 cast not needed.",
      "range": {
        "startLine": 856,
        "startChar": 46,
        "endLine": 856,
        "endChar": 56
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7cc615dc_2f38d918",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 856,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-24T05:34:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b85dc3ff_7b9e0b79",
      "range": {
        "startLine": 856,
        "startChar": 46,
        "endLine": 856,
        "endChar": 56
      },
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98fd2cb6_1720b5fd",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 1098,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-22T17:42:38Z",
      "side": 1,
      "message": "I think the non-RL ones don\u0027t need int32s.",
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63a94e31_a45b5856",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 1098,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-24T05:34:27Z",
      "side": 1,
      "message": "No luck with any shift.",
      "parentUuid": "98fd2cb6_1720b5fd",
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db47703d_8cccda1c",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 1098,
      "author": {
        "id": 5200
      },
      "writtenOn": "2020-04-24T21:04:20Z",
      "side": 1,
      "message": "They don\u0027t need int32(uint32(c)...) just c... should work, except for the RL ops.",
      "parentUuid": "63a94e31_a45b5856",
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea1632f3_62075ea0",
        "filename": "src/cmd/compile/internal/ssa/gen/ARM.rules",
        "patchSetId": 2
      },
      "lineNbr": 1098,
      "author": {
        "id": 26957
      },
      "writtenOn": "2020-04-26T16:35:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db47703d_8cccda1c",
      "revId": "8c397d694c6ec459f939f6c79dbd65d2e6162e64",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}