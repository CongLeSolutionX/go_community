{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2d410299_467d3257",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-02-09T03:52:24Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003d16ac2668\n",
      "tag": "autogenerated:trybots~beginning",
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ffb7282_27ed96a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2023-02-09T04:03:34Z",
      "side": 1,
      "message": "TryBots are happy.\n\n",
      "parentUuid": "2d410299_467d3257",
      "tag": "autogenerated:trybots~happy",
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1178727_904fa12c",
        "filename": "src/bufio/bufio.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 6365
      },
      "writtenOn": "2023-02-09T15:04:59Z",
      "side": 1,
      "message": "The doc comment for this function say that it “switches the buffered reader to read from `r`”, but here it does not do that. Instead, it switches the buffered reader to read from `r.(*bufio.Reader).rd`, which is semantically different from `r` — especially if `b` has already read and buffered some data from `b.rd`.\n\nIt seems to me that there are two possible behaviors here: one is to make `b.Reset(b)` equivalent to `b.Reset(b.rd)` (as is done in this patchset), but the other is to make `b.Reset(b)` a no-op. It isn\u0027t obvious to me why we would prefer the `b.Reset(b.rd)` semantics over the no-op semantics — I think the no-op semantics are more likely to be what is intended in real code that may have buffered data.\n\nBut either way, this is very subtle. Given that `NewReader` does document its behavior of returning a large-enough `*bufio.Reader`, I wonder if it would be less confusing to make `b.Reset(b)` panic and push the decision to the caller, as something like:\n```\nif b !\u003d r {\n\tb.Reset(r)\n}\n```\n\nRegardless of which semantics are chosen, I think it is important to update the doc comment for `Reset` to describe the exact behavior for self-calls.",
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4636e1c7_58cbdced",
        "filename": "src/bufio/bufio.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-02-10T00:19:42Z",
      "side": 1,
      "message": "Thanks, changed the b.Reset(b) to do nothing, and documented that fact.",
      "parentUuid": "f1178727_904fa12c",
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06585d82_5fe1469b",
        "filename": "src/bufio/bufio.go",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 8495
      },
      "writtenOn": "2023-02-09T10:26:38Z",
      "side": 1,
      "message": "Should an equivalent check be made in Writer.Reset for consistency?",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 82,
        "endChar": 2
      },
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e56f361_b63f8a5e",
        "filename": "src/bufio/bufio.go",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 8495
      },
      "writtenOn": "2023-02-09T10:29:33Z",
      "side": 1,
      "message": "Here\u0027s a morally equivalent program for Writer based on the same example in the issue.\n\nhttps://go.dev/play/p/X4dju6tBuwQ",
      "parentUuid": "06585d82_5fe1469b",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 82,
        "endChar": 2
      },
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75154dbf_4f641fff",
        "filename": "src/bufio/bufio.go",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 5206
      },
      "writtenOn": "2023-02-10T00:19:42Z",
      "side": 1,
      "message": "Thanks, done.",
      "parentUuid": "4e56f361_b63f8a5e",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 82,
        "endChar": 2
      },
      "revId": "16ac2668fb2b41c7396c75833ea7cb9ea1a6ff2e",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}