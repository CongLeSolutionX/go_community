{
  "comments": [
    {
      "key": {
        "uuid": "043add90_30bc72be",
        "filename": "src/os/signal/signal_test.go",
        "patchSetId": 3
      },
      "lineNbr": 315,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-06-22T05:25:20Z",
      "side": 1,
      "message": "The 100ms delay in the exec goroutine implies that this test will take a full second.\n\nWould it make sense to run these execs in parallel (e.g. as parallel subtests) to drop that to 100ms overall?",
      "revId": "381557c548ce03b628a50fdd26ac37eee691da74",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1cb4d54_e5fa44e6",
        "filename": "src/os/signal/signal_test.go",
        "patchSetId": 3
      },
      "lineNbr": 367,
      "author": {
        "id": 6365
      },
      "writtenOn": "2017-06-22T05:25:20Z",
      "side": 1,
      "message": "It\u0027s not obvious to me why we need the sleep at all here: I think this issue reproduces reliably without it. For example, this one tends to drop at least a couple of signals when I run it, but will run nearly instantaneously if the runtime is fixed:\n\n\tpid :\u003d syscall.Getpid()\n\tc :\u003d make(chan os.Signal, 1)\n\tfor i :\u003d 0; i \u003c 10; i++ {\n\t\tsignal.Notify(c, syscall.SIGINT)\n\t\tgo signal.Stop(c)\n\t\tsyscall.Kill(pid, syscall.SIGINT)\n\n\t\tselect {\n\t\tcase \u003c-c:\n\t\tcase \u003c-time.After(1 * time.Second):\n\t\t\tfmt.Printf(\"lost signal on iteration %d\\n\", i)\n\t\t}\n\t}\n\n\tsignal.Reset(syscall.SIGINT)\n\tsyscall.Kill(pid, syscall.SIGINT)\n\tselect {}",
      "range": {
        "startLine": 365,
        "startChar": 0,
        "endLine": 367,
        "endChar": 37
      },
      "revId": "381557c548ce03b628a50fdd26ac37eee691da74",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2da7f432_49b613bf",
        "filename": "src/os/signal/signal_test.go",
        "patchSetId": 3
      },
      "lineNbr": 367,
      "author": {
        "id": 5206
      },
      "writtenOn": "2017-06-23T05:44:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1cb4d54_e5fa44e6",
      "range": {
        "startLine": 365,
        "startChar": 0,
        "endLine": 367,
        "endChar": 37
      },
      "revId": "381557c548ce03b628a50fdd26ac37eee691da74",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}