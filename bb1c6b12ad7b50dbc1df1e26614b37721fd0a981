{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b867f441_e73a908a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12545
      },
      "writtenOn": "2020-11-09T16:50:48Z",
      "side": 1,
      "message": "I think this has the same inherent issue as the first iteration of 262857, where if the first preference is AES-GCM we throw out any other preferences further down the list in favor of ChaCha20. Given the rest of the preferences are going to be non-AEAD ciphers and we\u0027ll be exchanging one AEAD for another, probably faster, AEAD this seems fine, but becomes brittle if another non-ChaCha20 AEAD cipher is introduced which the client/server legitimately prefers (for whatever reason).\n\nI think this would be somewhat more robust if instead of flagging ciphers as aesgcm/chacha, we flagged them as aesgcm/aead (or just used the presence of the current aead field) and just picked the next non-AES-GCM AEAD cipher, rather than explicitly picking the next ChaCha20 cipher. This will of course just replicate the current behavior now, but will provide some future proofing that should be significantly less brittle.",
      "revId": "bb1c6b12ad7b50dbc1df1e26614b37721fd0a981",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad162369_71457ea6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 12545
      },
      "writtenOn": "2020-11-09T18:35:36Z",
      "side": 1,
      "message": "They security team would like to get this change landed today if possible. Tom, if you can address the above comments I can review and approve. If you feel like you won\u0027t have the time let me know and I\u0027ll be happy to roll these changes back into 262857.",
      "revId": "bb1c6b12ad7b50dbc1df1e26614b37721fd0a981",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "621087a5_25f26573",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 20190
      },
      "writtenOn": "2020-11-10T00:17:04Z",
      "side": 1,
      "message": "Thinking it through that definitely seems sensible, thought it will only have an effect if new cipher suites are added to the server. I\u0027ve made that change and it\u0027s relatively neat.\n\nThe TLSv1.3 code isn\u0027t quite as elegant, but I didn\u0027t really want to introduce a selectCipherSuite13. I can if it would be preferable.\n\nI\u0027ve left the wording mentioning ChaCha20-Poly1305 in the go1.16 doc, but I\u0027ll try and update that to match the new implementation.",
      "parentUuid": "b867f441_e73a908a",
      "revId": "bb1c6b12ad7b50dbc1df1e26614b37721fd0a981",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8791af26_6c1b16a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 20190
      },
      "writtenOn": "2020-11-10T00:17:04Z",
      "side": 1,
      "message": "It\u0027s just gone morning for me (timezones *shrugs*), but I\u0027m able to make changes for most of the day from here.",
      "parentUuid": "ad162369_71457ea6",
      "revId": "bb1c6b12ad7b50dbc1df1e26614b37721fd0a981",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}