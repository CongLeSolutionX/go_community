{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b2c93088_cc8637b9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 25391
      },
      "writtenOn": "2021-04-16T02:52:13Z",
      "side": 1,
      "message": "what about sysReserve(0xdeaddead) on startup and print a warning if it doesn\u0027t work? it\u0027s behind a debug flag anyway so I think it\u0027s OK.\n\noh, alternatively you can try mapping the top of the address space. the heap is already never going to use the top arena anyway (32-bit or 64-bit).",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 54
      },
      "revId": "5714918ca3d5214ffc39cb58a46e10725bf50fd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8196f0c9_080a2031",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 13315
      },
      "writtenOn": "2021-04-16T21:07:35Z",
      "side": 1,
      "message": "\u003e it\u0027s behind a debug flag anyway so I think it\u0027s OK.\n\nIt\u0027s not currently. -clobberdead is a compiler flag, but the runtime doesn\u0027t know. (debug.invalidptr is on by default.) I\u0027m thinking we could introduce another one, something like debug.crashondead or something.\n\nWe could try to map that page. I\u0027m not sure 0xdeaddead is always a valid user-space address on all platforms. (I think the 64-bit version, 0xdeaddeaddeaddead is not valid on AMD64?)\n\nOr, if we use a debug flag, we could just hope for the best (without mapping the address). I assume it won\u0027t be widely used anyway.",
      "parentUuid": "b2c93088_cc8637b9",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 54
      },
      "revId": "5714918ca3d5214ffc39cb58a46e10725bf50fd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3eb0a5a5_ac72e2a8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 25391
      },
      "writtenOn": "2021-04-16T21:17:48Z",
      "side": 1,
      "message": "ahhh I see. to be clear, I\u0027m OK with not having the check be behind a flag, I just thought it already was. the mapping doesn\u0027t even need to be behind a flag either.\n\nI think you\u0027re right that on virtually every 64-bit system 0xdeaddeaddeaddead is going to be unmappable (maybe like... AIX or some other ppc64 system with the crazy inverted page table... but I doubt Linux would do that).\n\nwe could just map the page just on 32-bit? it does mean we\u0027ll have a hole in the address space, but I\u0027m not sure it matters.",
      "parentUuid": "8196f0c9_080a2031",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 54
      },
      "revId": "5714918ca3d5214ffc39cb58a46e10725bf50fd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92d385ca_2a3f559b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 25391
      },
      "writtenOn": "2021-04-16T02:52:13Z",
      "side": 1,
      "message": "oops, I missed your DO NOT SUBMIT, but I think it\u0027",
      "revId": "5714918ca3d5214ffc39cb58a46e10725bf50fd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20d95126_06dada01",
        "filename": "src/runtime/mbitmap.go",
        "patchSetId": 2
      },
      "lineNbr": 389,
      "author": {
        "id": 25391
      },
      "writtenOn": "2021-04-16T02:49:12Z",
      "side": 1,
      "message": "I have a very minor preference for putting this first, but it\u0027s really NBD and this looks good to me.",
      "range": {
        "startLine": 389,
        "startChar": 25,
        "endLine": 389,
        "endChar": 49
      },
      "revId": "5714918ca3d5214ffc39cb58a46e10725bf50fd3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}