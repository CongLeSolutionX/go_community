{
  "comments": [
    {
      "key": {
        "uuid": "16a8bc05_77a8fbcc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-10-22T13:25:14Z",
      "side": 1,
      "message": "add a new test for this boundary condition then?",
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae1c92bb_06383340",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 5781
      },
      "writtenOn": "2018-10-22T19:25:07Z",
      "side": 1,
      "message": "I have a synthetic test where I create the buffer which would be returned from the Getdirentries syscall in the old format.\nBut the Getdirentries wrapper limits the syscall to work on a buffer 1/4 the size of user supplied one as a safety measure, as the new fixed part of the Dirent is 3 times larger then the old format\u0027s fixed part.\nDue to this safety, I cannot hit the boundary condition by only modifying the filename/buffer sizes.\n\nI can trigger it if I use a buffer 1/2 of the user supplied size. Should I still add a test like that?",
      "parentUuid": "16a8bc05_77a8fbcc",
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ada1d577_8b16b11e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-10-24T03:28:06Z",
      "side": 1,
      "message": "Can\u0027t your test just call convertFromDirents11 directly with whatever size it wants to test?",
      "parentUuid": "ae1c92bb_06383340",
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7dc808e_c86b4224",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 5781
      },
      "writtenOn": "2018-10-24T05:01:04Z",
      "side": 1,
      "message": "I\u0027ve added my test, sorry for not being clear that is what I meant by synthetic.\n\nhttps://go-review.googlesource.com/c/go/+/143637/2/src/syscall/syscall_freebsd_test.go#39\n\nThis is the line I meant, it should be\n\n  buf :\u003d make([]byte, 4*len(old))\n\nto be equivalent to what the Getdirentries wrapper does, but I can only trigger the boundry condition if I increase the ratio of old vs buf to 1/2.",
      "parentUuid": "ada1d577_8b16b11e",
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7437edb_3f730e27",
        "filename": "src/syscall/syscall_freebsd.go",
        "patchSetId": 1
      },
      "lineNbr": 349,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-10-22T13:25:14Z",
      "side": 1,
      "message": "probably don\u0027t need these int(...) on this line and next. untyped constants are more flexible, and flexibility is usually what\u0027s wanted.",
      "range": {
        "startLine": 349,
        "startChar": 17,
        "endLine": 349,
        "endChar": 21
      },
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c818be01_7176f58a",
        "filename": "src/syscall/syscall_freebsd.go",
        "patchSetId": 1
      },
      "lineNbr": 349,
      "author": {
        "id": 5781
      },
      "writtenOn": "2018-10-22T19:25:07Z",
      "side": 1,
      "message": "because they are the result of unsafe.Offsetof, they\u0027re typed as uintptrs and then I have to cast them to ints when adding to srcPos/dstPos for eg.",
      "parentUuid": "a7437edb_3f730e27",
      "range": {
        "startLine": 349,
        "startChar": 17,
        "endLine": 349,
        "endChar": 21
      },
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fcb102d_4682a392",
        "filename": "src/syscall/syscall_freebsd.go",
        "patchSetId": 1
      },
      "lineNbr": 349,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-10-24T03:28:06Z",
      "side": 1,
      "message": "Ah, okay. I didn\u0027t remember that Offsetof returned a typed constant.",
      "parentUuid": "c818be01_7176f58a",
      "range": {
        "startLine": 349,
        "startChar": 17,
        "endLine": 349,
        "endChar": 21
      },
      "revId": "b7c4f44155ba34230e242be19e20eded4590a850",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    }
  ]
}