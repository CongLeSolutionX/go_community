{
  "comments": [
    {
      "key": {
        "uuid": "79c977c4_8e0d422e",
        "filename": "src/runtime/mgcmark.go",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-21T18:44:53Z",
      "side": 1,
      "message": "can we even self-scan anymore? if not, maybe this should also be deleted in the following CL?",
      "range": {
        "startLine": 209,
        "startChar": 6,
        "endLine": 209,
        "endChar": 14
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af738ae0_13c30b94",
        "filename": "src/runtime/mgcmark.go",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 5167
      },
      "writtenOn": "2019-10-22T00:32:39Z",
      "side": 1,
      "message": "Ah. This \"self scan\" means that the goroutine we\u0027re scanning is the one that called markroot, which is different from the \"self scan\" when a goroutine reaches a preemption point and scans its own stack. That\u0027s a little confusing. This self-scan is still necessary.",
      "parentUuid": "79c977c4_8e0d422e",
      "range": {
        "startLine": 209,
        "startChar": 6,
        "endLine": 209,
        "endChar": 14
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "987deb24_82ef05dd",
        "filename": "src/runtime/mgcmark.go",
        "patchSetId": 4
      },
      "lineNbr": 215,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-21T18:44:53Z",
      "side": 1,
      "message": "this seems false: we call scanstack below once the G is suspended.",
      "range": {
        "startLine": 214,
        "startChar": 21,
        "endLine": 215,
        "endChar": 18
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d296fa13_53bb73fa",
        "filename": "src/runtime/mgcmark.go",
        "patchSetId": 4
      },
      "lineNbr": 215,
      "author": {
        "id": 5167
      },
      "writtenOn": "2019-10-22T00:32:39Z",
      "side": 1,
      "message": "Good catch. Fixed.",
      "parentUuid": "987deb24_82ef05dd",
      "range": {
        "startLine": 214,
        "startChar": 21,
        "endLine": 215,
        "endChar": 18
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2377387_d8bfab58",
        "filename": "src/runtime/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 849,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-21T18:44:53Z",
      "side": 1,
      "message": "why make this a variable if old always \u003d\u003d _Grunning and new always \u003d\u003d _Gscan|_Gpreempted?\n\nsimilar for casGFromPreempted",
      "range": {
        "startLine": 849,
        "startChar": 30,
        "endLine": 849,
        "endChar": 38
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0c44062_6895d85b",
        "filename": "src/runtime/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 849,
      "author": {
        "id": 5167
      },
      "writtenOn": "2019-10-22T00:32:39Z",
      "side": 1,
      "message": "I did this so it\u0027s always clear at the call site what the status transition is. This way, for example, if you grep for _Grunning to find transitions to/from _Grunning, you\u0027ll still find calls to this.",
      "parentUuid": "c2377387_d8bfab58",
      "range": {
        "startLine": 849,
        "startChar": 30,
        "endLine": 849,
        "endChar": 38
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4750419b_b6d02953",
        "filename": "src/runtime/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 2732,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-21T18:44:53Z",
      "side": 1,
      "message": "this is the reason we set the Gscan bit, correct? if so, could you make this more explicit in the comment?",
      "range": {
        "startLine": 2731,
        "startChar": 4,
        "endLine": 2732,
        "endChar": 6
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2cf9e18_7d00b8ac",
        "filename": "src/runtime/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 2732,
      "author": {
        "id": 5167
      },
      "writtenOn": "2019-10-22T00:32:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4750419b_b6d02953",
      "range": {
        "startLine": 2731,
        "startChar": 4,
        "endLine": 2732,
        "endChar": 6
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3b6f7cb_5506dd1e",
        "filename": "src/runtime/runtime2.go",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 25391
      },
      "writtenOn": "2019-10-21T18:44:53Z",
      "side": 1,
      "message": "suspendG",
      "range": {
        "startLine": 83,
        "startChar": 40,
        "endLine": 83,
        "endChar": 45
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f111ee1_90023f53",
        "filename": "src/runtime/runtime2.go",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 5167
      },
      "writtenOn": "2019-10-22T00:32:39Z",
      "side": 1,
      "message": "Done. (And above)",
      "parentUuid": "c3b6f7cb_5506dd1e",
      "range": {
        "startLine": 83,
        "startChar": 40,
        "endLine": 83,
        "endChar": 45
      },
      "revId": "37258539f0ec6d821386f18ae25666703e8736ea",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}