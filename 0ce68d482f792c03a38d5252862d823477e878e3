{
  "comments": [
    {
      "key": {
        "uuid": "ab523ec4_b71fb0c7",
        "filename": "src/cmd/link/internal/amd64/asm.go",
        "patchSetId": 1
      },
      "lineNbr": 260,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-09-13T23:21:19Z",
      "side": 1,
      "message": "Why ignore these section types?  Shouldn\u0027t an R_ADDR relocation be handled no matter what section it is in?",
      "revId": "0ce68d482f792c03a38d5252862d823477e878e3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b62a290_68df23f7",
        "filename": "src/cmd/link/internal/amd64/asm.go",
        "patchSetId": 1
      },
      "lineNbr": 260,
      "author": {
        "id": 5030
      },
      "writtenOn": "2016-09-13T23:28:48Z",
      "side": 1,
      "message": "This is one of those things I think I understand until the moment comes to explain it, so this may be a bit mangled:\n\nWe are in the dynamic relocations pass, which happens before section addresses are determined and before static relocations are handled. The first part of generating the dynamic relocs for the .rela section is calling ld.Addaddrplus(..., r.Off). This function isn\u0027t just filling r.Off into the beginning of the dynamic relocation. It also creates a new R_ADDR static relocation that will later be tweaked by the static pass (which has access to the section addresses).\n\nThese sections contain .rela and .dynamic, so they are filled with the R_ADDRs created below. If we attempt to process them now, doing so will generated more R_ADDRs, which we have to process here. The linker actually gets stuck in an infinite loop at this point. But even if it didn\u0027t, we don\u0027t actually want a dynamic relocation for the first word (r_offset) of the Elf64_Rela struct.\n\nI spent a while trying to understand earlier today exactly what the R_ADDR for generated here for r_offset does, and if it could be skipped. But I couldn\u0027t quite figure it out.",
      "parentUuid": "ab523ec4_b71fb0c7",
      "revId": "0ce68d482f792c03a38d5252862d823477e878e3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab523ec4_378ae0c7",
        "filename": "src/cmd/link/internal/amd64/asm.go",
        "patchSetId": 1
      },
      "lineNbr": 260,
      "author": {
        "id": 5206
      },
      "writtenOn": "2016-09-13T23:33:08Z",
      "side": 1,
      "message": "I\u0027m not sure I even understand that explanation, but can it go into a comment here?",
      "parentUuid": "4b62a290_68df23f7",
      "revId": "0ce68d482f792c03a38d5252862d823477e878e3",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}