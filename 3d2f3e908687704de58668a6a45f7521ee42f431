{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fb0b72a1_4fbfb641",
        "filename": "src/cmd/go/internal/modconv/convert_test.go",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 6365
      },
      "writtenOn": "2021-04-13T13:21:57Z",
      "side": 1,
      "message": "I\u0027m concerned that this test is getting too unrealistic. Would it be feasible to remove these test cases from convert_test.go and replace them with equivalent script tests?\n\nPerhaps something like:\n\n\n[short] skip\nenv GOPROXY\u003d\n\nmkdir Godeps\ngo mod download github.com/docker/distribution@v0.0.0-20150410205453-85de3967aa93\ncp $GOPATH/pkg/mod/github.com/docker/distribution@v0.0.0-20150410205453-85de3967aa93 Godeps/Godeps.json\n\ngo mod init github.com/docker/distribution\n\ncmpenv go.mod go.mod.want",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9421e446_6ec394f2",
        "filename": "src/cmd/go/internal/modconv/convert_test.go",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 17092
      },
      "writtenOn": "2021-04-13T14:10:36Z",
      "side": 1,
      "message": "This seems like the right approach; I\u0027m also worried we\u0027re overfitting to convert_test.go.",
      "parentUuid": "fb0b72a1_4fbfb641",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42c20c70_0d4c15ad",
        "filename": "src/cmd/go/internal/modconv/convert_test.go",
        "patchSetId": 8
      },
      "lineNbr": 152,
      "author": {
        "id": 51113
      },
      "writtenOn": "2021-04-13T16:34:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9421e446_6ec394f2",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f033fa89_1273b066",
        "filename": "src/cmd/go/internal/modload/init.go",
        "patchSetId": 8
      },
      "lineNbr": 741,
      "author": {
        "id": 51113
      },
      "writtenOn": "2021-04-13T00:51:55Z",
      "side": 1,
      "message": "And one more question, should we use QueryPattern instead of QueryPackages here? That way we can use modOnly when there are no pkgMods.",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4da6d9f4_ca80627f",
        "filename": "src/cmd/go/internal/modload/init.go",
        "patchSetId": 8
      },
      "lineNbr": 741,
      "author": {
        "id": 17092
      },
      "writtenOn": "2021-04-13T14:10:36Z",
      "side": 1,
      "message": "The main distinction between the two is that QueryPattern allows \"...\" wildcards. I don\u0027t think they should be used in modconv though.",
      "parentUuid": "f033fa89_1273b066",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7021dee_133b980f",
        "filename": "src/cmd/go/internal/modload/init.go",
        "patchSetId": 8
      },
      "lineNbr": 741,
      "author": {
        "id": 51113
      },
      "writtenOn": "2021-04-15T02:17:26Z",
      "side": 1,
      "message": "Sorry I forgot that I changed it to QueryPattern in my latest code (I\u0027ll send the changes later). Somehow https://storage.googleapis.com/go-build-log/4eda0028/linux-amd64-longtest_c05e87eb.log is caused by QueryPackages.",
      "parentUuid": "4da6d9f4_ca80627f",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3689b4f_d4c58590",
        "filename": "src/cmd/go/internal/modload/init.go",
        "patchSetId": 8
      },
      "lineNbr": 741,
      "author": {
        "id": 51113
      },
      "writtenOn": "2021-04-15T02:29:21Z",
      "side": 1,
      "message": "Somehow using QueryPattern instead of QueryPackages can solve that failure. Maybe modOnly is sometimes needed during modconv.\n\nqueryPackage :\u003d func(path, rev string) (module.Version, error) {\n        pkgMods, modOnly, err :\u003d QueryPattern(context.Background(), path, rev, noneSelected, nil)\n        if err !\u003d nil {\n                return module.Version{}, err\n        }\n        if len(pkgMods) \u003e 0 {\n                return pkgMods[0].Mod, nil\n        }\n        return modOnly.Mod, nil\n}",
      "parentUuid": "d7021dee_133b980f",
      "revId": "3d2f3e908687704de58668a6a45f7521ee42f431",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}