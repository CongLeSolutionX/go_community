{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5bc08fdc_a5dae3bc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-09-25T02:21:25Z",
      "side": 1,
      "message": "I don\u0027t see how having \".\" in symbol names makes the external linker see them as \"Forwarder RVA exports\".\n\nI don\u0027t recall ever reading about \"Forwarder RVA exports\". So I am not an expert.\n\nBut I don\u0027t see how these references clarify your point.\n\nFor example, error messages in\n\nhttps://sourceware.org/git/?p\u003dbinutils-gdb.git;a\u003dblob;f\u003dld/pe-dll.c;h\u003de7b82ba6ffadf74dc1b9ee71dc13d48336941e51;hb\u003dHEAD#l972\n\nsays\n\n einfo (_(\"%X%P: cannot export %s: symbol not found\\n\"),\n \nwhich is different from error message I see and you see as per\n\nhttps://storage.googleapis.com/go-build-log/5a6a4464/windows-386-2008_20291edc.log\n\nCannot export go:buildid: symbol not found\n\nIt would be nice to actually see source of the external linker we all run (including builders). But I never managed to find it. Forget about ability to build gcc myself for debugging cases like this one.",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 23,
        "endChar": 127
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d81474a9_063e36fb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 14665
      },
      "writtenOn": "2021-09-25T02:55:29Z",
      "side": 1,
      "message": "Hi Alex, thanks for looking into this.\n\nDo you mean the \"cannot\" and \"Cannot\" cause you think message is different? The message go through translation, so maybe it was changed. I will verify once I’m back with my laptop.\n\nI think another way to verify is turn \"go:buildid\" and \"types:*\" back to \"go.buildid\" and \"types:*\", then see if the test pass.",
      "parentUuid": "5bc08fdc_a5dae3bc",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 23,
        "endChar": 127
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a63c8433_4bbf5fa0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-09-25T03:15:39Z",
      "side": 1,
      "message": "\u003e Hi Alex, thanks for looking into this.\n\u003e \n\u003e Do you mean the \"cannot\" and \"Cannot\" cause you think message is different?\n\nYes. That is what I meant.\n\n\u003e The message go through translation, so maybe it was changed. I will verify once I’m back with my laptop.\n\nYou obviously know more about gcc code than me.\n\n\u003e \n\u003e I think another way to verify is turn \"go:buildid\" and \"types:*\" back to \"go.buildid\" and \"types:*\", then see if the test pass.\n\nDid you mean \"types.*\"? If yes, then I did try that. And it does fixes the test. I even renamed some random symbols into random names. And some changes still pass test. And other changes did not pass. For example, it appears that adding _ in front always help.\n\nUnfortunately I could not make any reasonable guess about why some renames worked and others did not. So without having gcc source to debug this, it is impossible to say anything.",
      "parentUuid": "d81474a9_063e36fb",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 23,
        "endChar": 127
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c9c985d_aa519f1e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 14665
      },
      "writtenOn": "2021-09-25T04:31:53Z",
      "side": 1,
      "message": "Hi Alex, so look at the correct revision for binutils version 2.24, the error message *is* exactly what we see in trybot: https://sourceware.org/git/?p\u003dbinutils-gdb.git;a\u003dblob;f\u003dld/pe-dll.c;h\u003de9e133b32cfb0283e3ed9341153b3e09c9d9d3c7;hb\u003d237df3fa4a1d939e6fd1af0c3e5029a25a137310#l975\n\nThe tree: https://sourceware.org/git/?p\u003dbinutils-gdb.git;a\u003dtree;h\u003d2e3375ff221182bf4a70ec293e72f3a23bd5746f;hb\u003d237df3fa4a1d939e6fd1af0c3e5029a25a137310",
      "parentUuid": "a63c8433_4bbf5fa0",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 23,
        "endChar": 127
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40f5d32c_eab0f595",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 23,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-10-05T09:15:36Z",
      "side": 1,
      "message": "I agree\n\nhttps://sourceware.org/git/?p\u003dbinutils-gdb.git;a\u003dtree;h\u003d2e3375ff221182bf4a70ec293e72f3a23bd5746f;hb\u003d237df3fa4a1d939e6fd1af0c3e5029a25a137310\n\nmatches the error exactly. Unfortunately I could not reproduce any other error messages that I see in gcc code.\n\nIt appears that external name can be set to anything. As long as the name has \u0027.\u0027 character in it. (most Go symbol names has . in them, so that is why they work). Alternatively, if I use \u0027.\u0027, \u0027_\u0027 or \u0027@\u0027 as first character that works too.\n\nAnyway I am not sure, if I can help here more. Maybe you can put reference to\n\nhttps://sourceware.org/git/?p\u003dbinutils-gdb.git;a\u003dtree;h\u003d2e3375ff221182bf4a70ec293e72f3a23bd5746f;hb\u003d237df3fa4a1d939e6fd1af0c3e5029a25a137310\n\nin src/cmd/link/internal/ld/pe.go in your new TODO comment, and leave it for future generations to figure this out. It would be nice if we can see different error message from gcc invocation before we add reference to the code.\n\nLet me know, if I can try something else.",
      "parentUuid": "8c9c985d_aa519f1e",
      "range": {
        "startLine": 19,
        "startChar": 18,
        "endLine": 23,
        "endChar": 127
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d99c98c8_1f14b057",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 31,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-09-19T02:03:59Z",
      "side": 1,
      "message": "s/Fixee/Fixes/",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 5
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e41d0a79_d26f2435",
        "filename": "/COMMIT_MSG",
        "patchSetId": 16
      },
      "lineNbr": 31,
      "author": {
        "id": 14665
      },
      "writtenOn": "2022-03-23T14:47:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d99c98c8_1f14b057",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 31,
        "endChar": 5
      },
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2167e92_dacd3bf8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-09-03T08:47:32Z",
      "side": 1,
      "message": "TryBots beginning. Status page: https://farmer.golang.org/try?commit\u003d4a12ede2",
      "tag": "autogenerated:trybots~beginning",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6e3e5e9_8b9e1ac7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5976
      },
      "writtenOn": "2021-09-03T08:58:48Z",
      "side": 1,
      "message": "TryBots are happy.\n\n",
      "parentUuid": "e2167e92_dacd3bf8",
      "tag": "autogenerated:trybots~happy",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69dcd449_54d7d9fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-09-25T02:21:25Z",
      "side": 1,
      "message": "This change looks reasonable in the circumstances. Unfortunately I have no explanation of why we doing this. Because we have no source of the program that fails here.\n\nIf you asking why I reverted adding _ in front of external symbols in CL 35076 - I did it to stop programs that use these symbols from breaking. Here (from what I gather) you have no choice but to change at least some symbols. If you ask my opinion, I would only change the minimum required.\n\nAlex",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d14428bd_8db6bfbb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-10-05T09:15:36Z",
      "side": 1,
      "message": "Sorry I took time to reply. Unfortunately I could not come up with any good suggestions.\n\nAlex",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d31ae680_570d8f68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 14665
      },
      "writtenOn": "2021-10-29T02:20:28Z",
      "side": 1,
      "message": "We missed this cycle for go1.18, I will evaluate it again in early go1.19 cycle.",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd7d9e1b_80515a02",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 16
      },
      "lineNbr": 728,
      "author": {
        "id": 5070
      },
      "writtenOn": "2021-09-25T02:21:25Z",
      "side": 1,
      "message": "I played around with this change. And I agree that it works.\n\nUnfortunately I do not know why it works, because I don\u0027t have source of gcc program that fails.\n\nPerhaps it is purely to do with the name of the symbol. Perhaps more than the name is involved here. I do not know.",
      "revId": "4a12ede2f191b36c3d6eef2ee79bd5be727a446b",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}