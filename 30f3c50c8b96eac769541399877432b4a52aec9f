{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bf408dec_a9bdfd3e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5065
      },
      "writtenOn": "2023-02-10T21:18:56Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a90fed97_7cd02222",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 20556
      },
      "writtenOn": "2023-02-10T18:05:55Z",
      "side": 1,
      "message": "GetSystemDirectory maybe?",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f97a89e_dc754789",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 31829
      },
      "writtenOn": "2023-02-11T09:11:34Z",
      "side": 1,
      "message": "Hello! In general go src already has two approaches to construct this path: using ExpandPath and using os.Getenv() +\u003crest\u003e. I think we should not add new method - this syscall is not used anywhere in the code.",
      "parentUuid": "a90fed97_7cd02222",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7189288d_cb4040d7",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 20556
      },
      "writtenOn": "2023-02-11T10:44:27Z",
      "side": 1,
      "message": "Nah, what Go currently does is rarely a good guide for Windows stuff. Take a look at what the Windows resolver DLL is doing and copy that. That\u0027s the real guide here, not Go.",
      "parentUuid": "7f97a89e_dc754789",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e009f610_4e4af4e5",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 31829
      },
      "writtenOn": "2023-02-11T18:24:40Z",
      "side": 1,
      "message": "thank you! can you please elaborate a bit here? Should I just copy the full implementation of \"initSysDirectory()\" from os_windows.go? That will require CGO I guess?",
      "parentUuid": "7189288d_cb4040d7",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bb11683_d9807ada",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 31829
      },
      "writtenOn": "2023-03-18T18:44:37Z",
      "side": 1,
      "message": "@Jason@zx2c4.com Hello! Can I you please give a hint what should be done here?",
      "parentUuid": "e009f610_4e4af4e5",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f13aa51f_b9bef5b4",
        "filename": "src/net/hook_windows.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 34993
      },
      "writtenOn": "2023-08-28T07:57:23Z",
      "side": 1,
      "message": "\u003e Should I just copy the full implementation of \"initSysDirectory()\"\n\nBetter use this code (taken from https://github.com/golang/sys/blob/master/windows/security_windows.go#L781) as reference:\n\n```\n//sys\tgetSystemDirectory(dir *uint16, dirLen uint32) (len uint32, err error) \u003d kernel32.GetSystemDirectoryW\n\n// GetSystemDirectory retrieves the path to current location of the system\n// directory, which is typically, though not always, `C:\\Windows\\System32`.\nfunc GetSystemDirectory() (string, error) {\n\tn :\u003d uint32(MAX_PATH)\n\tfor {\n\t\tb :\u003d make([]uint16, n)\n\t\tl, e :\u003d getSystemDirectory(\u0026b[0], n)\n\t\tif e !\u003d nil {\n\t\t\treturn \"\", e\n\t\t}\n\t\tif l \u003c\u003d n {\n\t\t\treturn UTF16ToString(b[:l]), nil\n\t\t}\n\t\tn \u003d l\n\t}\n}\n```\n\nYou can add it to the `internal/syscall/windows` package.\n\n\u003e That will require CGO I guess?\n\nIt will do a cgo call, but it won\u0027t affect the name resolution, so it is fine.",
      "parentUuid": "6bb11683_d9807ada",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e352cdf8_f20becdc",
        "filename": "src/net/hosts_test.go",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 55874
      },
      "writtenOn": "2023-02-10T18:36:57Z",
      "side": 1,
      "message": "I think that is should use the documentation `192.0.2.0/24` subnet.",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72ff651b_396da94a",
        "filename": "src/net/hosts_test.go",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 31829
      },
      "writtenOn": "2023-02-11T09:07:51Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "e352cdf8_f20becdc",
      "revId": "30f3c50c8b96eac769541399877432b4a52aec9f",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}