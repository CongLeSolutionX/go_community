{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d9d65894_02bca255",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 32560
      },
      "writtenOn": "2020-12-08T14:56:26Z",
      "side": 1,
      "message": "From what I understand, this looks like a good start, but I think Austin\u0027s on to something being suspicious of the data length accumulation. Would adding multiple resources to the test case show an error?",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e698516_50d3deb6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "v+1 coming right up.",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79803f09_b213349a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:38:50Z",
      "side": 1,
      "message": "I think the linker already rejects multiple resource sections, actually, since before this patch, as just something unsupported. I\u0027ve added a comment to the next version clarifying.",
      "parentUuid": "d9d65894_02bca255",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac35412d_eff9b22c",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1512,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "It\u0027s generally better not to treat a nil slice and a zero-length slice as different. Would it be okay to use len(rsrcsyms) \u003d\u003d 0 for all of these nil slice comparisons, or is nil actually a distinguished value here? If it\u0027s the latter, this definitely has to be documented.",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b1f9e89_ddc55574",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1512,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "len(rsrcsyms)\u003d\u003d0 is what I meant, so I\u0027ll adjust this to reflect that.",
      "parentUuid": "ac35412d_eff9b22c",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c740fcbe_dc11809c",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1524,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "for _, rsrcsym :\u003d ...",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70bdb9f9_641a2abd",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1524,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c740fcbe_dc11809c",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8a456b4_0a5805ca",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1525,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "Since we\u0027re now fetching the data again in the loop below, this should probably be just ctxt.loader.SymSize(rsrcsyms[i]). This is not *in general* the same as len(data) because symbols are zero-padded up to their SymSize, though I\u0027m guessing the PE loader doesn\u0027t make such symbols. Jeremy?",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b560e2e_c53015b0",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1525,
      "author": {
        "id": 32560
      },
      "writtenOn": "2020-12-08T14:56:26Z",
      "side": 1,
      "message": "As currently written, none of the host object loaders are lazy-loaded, so checking the length of the symbol would work, but it\u0027s not correct. The day could come where the data is also lazy loaded. Better is: ctxt.loader.SymSize(rsrcsyms[i])",
      "parentUuid": "f8a456b4_0a5805ca",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e18d31e_f28a6c8b",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1525,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "Good catch. I\u0027ve made this change and tested it and everything comes out working.",
      "parentUuid": "1b560e2e_c53015b0",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66422bd9_2ba22db3",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1531,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "for _, rsrcsym :\u003d ...",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71504961_77a837b0",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1531,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66422bd9_2ba22db3",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82b739b1_837144c5",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1532,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "Add a comment explaining what splitResources means. (For example, I really don\u0027t understand the val +\u003d uint32(len(data)) below.)",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bcd5c36a_eed2aedf",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1532,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "Will do.",
      "parentUuid": "82b739b1_837144c5",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87175e3e_ac34f610",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1540,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "This smells wrong... Is this supposed to accumulate the emitted data length?",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b916244_ed93f459",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1540,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:35:51Z",
      "side": 1,
      "message": "Right. In the event that we\u0027re split across sections, we have to add the total length in, so that the relocation offset is accounted for. I\u0027ll add a comment and resubmit.",
      "parentUuid": "87175e3e_ac34f610",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0371da25_2343683d",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1540,
      "author": {
        "id": 5070
      },
      "writtenOn": "2020-12-09T09:00:23Z",
      "side": 1,
      "message": "I still don\u0027t understand your comment.\n\n```\n// If we\u0027re a split resource, the data begins at an offset given\n// by its length, because the symbols are split between sections, ...\n```\n\n\"the symbols are split between sections\" does not explain for me why \"the data begins at an offset given by its length\". It is not even clear for me what \"its\" refers to here. Does it refer to \"split resource\" or \"data\"? If it refers to \"split resource\", then it is not clear what \"split resource length\" is.\n\nAnd there are two more lines in this sentence. But I already lost the idea.\n\nPlease, split this comment into smaller sentences.",
      "parentUuid": "3b916244_ed93f459",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3fa13d1_f78285e1",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1540,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-09T10:21:10Z",
      "side": 1,
      "message": "Ok, will do.",
      "parentUuid": "0371da25_2343683d",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b89b53aa_6b254799",
        "filename": "src/cmd/link/internal/ld/pe.go",
        "patchSetId": 7
      },
      "lineNbr": 1540,
      "author": {
        "id": 5070
      },
      "writtenOn": "2020-12-13T05:58:23Z",
      "side": 1,
      "message": "Sorry, but I still don\u0027t see why this is true.\n\n... then the data that it points to doesn\u0027t actually begin at\n// the virtual address listed in this current section, but rather\n// begins at the section immediately after this one.\n\nPerhaps it is just me. So feel free to ignore my request. But then I won\u0027t be able to review this CL.",
      "parentUuid": "d3fa13d1_f78285e1",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5004c540_93bb4610",
        "filename": "src/cmd/link/testdata/testPErsrc-complex/main.go",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 5167
      },
      "writtenOn": "2020-12-07T23:10:25Z",
      "side": 1,
      "message": "Use spaces instead of a tab for consistency?",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "782bde21_e2679807",
        "filename": "src/cmd/link/testdata/testPErsrc-complex/main.go",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 20556
      },
      "writtenOn": "2020-12-08T17:38:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5004c540_93bb4610",
      "revId": "4d31224aa4debe78cc7a14384fc0f8bba5278fee",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}