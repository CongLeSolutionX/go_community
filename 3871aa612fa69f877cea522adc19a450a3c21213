{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "684f280b_c4c08355",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T00:30:50Z",
      "side": 1,
      "message": "ving",
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1df93c85_6f55a2f2",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 74,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T00:30:50Z",
      "side": 1,
      "message": "Why? Seems like more work for both users and the compiler to remember which adjustments are paired, when the underlying map[scoreAdjustTyp]int could be directly marshalled to/from JSON instead.\n\nAlso, consider having scoreAdjustTyp implement encoding.Text{M,Unm}arshaler (probably by using x/tools/cmd/stringer), so that the JSON files use the strings rather than magic constants.",
      "range": {
        "startLine": 70,
        "startChar": 34,
        "endLine": 74,
        "endChar": 11
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d63e776c_b05099b4",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 74,
      "author": {
        "id": 14020
      },
      "writtenOn": "2023-11-15T17:23:47Z",
      "side": 1,
      "message": "I think you are right, the more I look at this the clunkier it seems.\n\nProposal: I\u0027ll get rid of the JSON entirely and just add an option that allows you to pick out adjustments by name and update their score deltas. Example:\n\ngo build -gcflags\u003d-d\u003dinlscoreadj\u003dpanicPathAdj:10+passConstToNestedIfAdj\u003d-90\n\nLet me know if that sounds better.",
      "parentUuid": "1df93c85_6f55a2f2",
      "range": {
        "startLine": 70,
        "startChar": 34,
        "endLine": 74,
        "endChar": 11
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e61bdc7b_56fc9956",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 74,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T21:04:13Z",
      "side": 1,
      "message": "Yeah, that sounds good to me too.\n\nI\u0027d lean towards using \",\" instead of \"+\" to separate the fields though, so users can write \"+90\" if they want to emphasize a positive adjustment.",
      "parentUuid": "d63e776c_b05099b4",
      "range": {
        "startLine": 70,
        "startChar": 34,
        "endLine": 74,
        "endChar": 11
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a6c0563_58a4171f",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 74,
      "author": {
        "id": 14020
      },
      "writtenOn": "2023-11-15T21:07:15Z",
      "side": 1,
      "message": "I can prototype that but I would worry that it would collide with the use of \",\" as a separator for \"-d\" options. E.g. for\n\n -d\u003dwrapglobalmapctl\u003d1,inlscoreadj\u003dpanicPathAdj:10,passConstToNestedIfAdj\u003d-90\n \nThe second \",\" would look like a \"-d\" arg separator.",
      "parentUuid": "e61bdc7b_56fc9956",
      "range": {
        "startLine": 70,
        "startChar": 34,
        "endLine": 74,
        "endChar": 11
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec36d309_beaa59d3",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 105,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T00:30:50Z",
      "side": 1,
      "message": "nit: Within array and slice composite literals, you don\u0027t need to repeat the element type. E.g., []AdjTypeAndScore{{...}, {...}} is fine.",
      "range": {
        "startLine": 105,
        "startChar": 2,
        "endLine": 105,
        "endChar": 16
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe31b7d0_adc6e809",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 105,
      "author": {
        "id": 14020
      },
      "writtenOn": "2023-11-15T17:23:47Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "ec36d309_beaa59d3",
      "range": {
        "startLine": 105,
        "startChar": 2,
        "endLine": 105,
        "endChar": 16
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "072295e7_ff3786ea",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 659,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T00:30:50Z",
      "side": 1,
      "message": "nit: \"maxBudget\"",
      "range": {
        "startLine": 659,
        "startChar": 21,
        "endLine": 659,
        "endChar": 27
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "707ecd15_7112dca9",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 659,
      "author": {
        "id": 14020
      },
      "writtenOn": "2023-11-15T17:23:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "072295e7_ff3786ea",
      "range": {
        "startLine": 659,
        "startChar": 21,
        "endLine": 659,
        "endChar": 27
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5417e0a_95642c92",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 660,
      "author": {
        "id": 5440
      },
      "writtenOn": "2023-11-15T00:30:50Z",
      "side": 1,
      "message": "Where is the doubling?",
      "range": {
        "startLine": 660,
        "startChar": 25,
        "endLine": 660,
        "endChar": 42
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4ce7e54_ac43447a",
        "filename": "src/cmd/compile/internal/inline/inlheur/scoring.go",
        "patchSetId": 10
      },
      "lineNbr": 660,
      "author": {
        "id": 14020
      },
      "writtenOn": "2023-11-15T17:23:47Z",
      "side": 1,
      "message": "The value we return is going to get added to inlineMaxBudget, so in the normal (non-PGO) case by returning maxBudget we\u0027ll effectively double the budget. I\u0027ll adjust the comments.",
      "parentUuid": "b5417e0a_95642c92",
      "range": {
        "startLine": 660,
        "startChar": 25,
        "endLine": 660,
        "endChar": 42
      },
      "revId": "3871aa612fa69f877cea522adc19a450a3c21213",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705"
    }
  ]
}